(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{2117:function(n,t){!function(){"use strict";var n=function(n){var t=n;return{get:function(){return t},set:function(n){t=n}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(n){return{isFullscreen:function(){return null!==n.get()}}},r=function(n){return function(t){return r=typeof(e=t),(null===e?"null":"object"===r&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":r)===n;var e,r}},o=function(n){return function(t){return typeof t===n}},u=r("string"),i=r("array"),c=o("boolean"),l=function(n){return!function(n){return null==n}(n)},f=o("function"),a=o("number"),s=function(){},m=function(n){return function(){return n}},d=function(n){return n};function h(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.concat(e);return n.apply(null,o)}}var v,p,g=m(!1),y=m(!0),w=function(){return b},b={fold:function(n,t){return n()},isSome:g,isNone:y,getOr:p=d,getOrThunk:v=function(n){return n()},getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:m(null),getOrUndefined:m(void 0),or:p,orThunk:v,map:w,each:s,bind:w,exists:g,forall:y,filter:function(){return w()},toArray:function(){return[]},toString:m("none()")},S=function(n){var t=m(n),e=function(){return o},r=function(t){return t(n)},o={fold:function(t,e){return e(n)},isSome:y,isNone:g,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return S(t(n))},each:function(t){t(n)},bind:r,exists:r,forall:r,filter:function(t){return t(n)?o:b},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},E={some:S,none:w,from:function(n){return null==n?b:S(n)}},T=function(){return T=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},T.apply(this,arguments)},F=function(t){var e=n(E.none()),r=function(){return e.get().each(t)};return{clear:function(){r(),e.set(E.none())},isSet:function(){return e.get().isSome()},get:function(){return e.get()},set:function(n){r(),e.set(E.some(n))}}},k=function(){return F((function(n){return n.unbind()}))},x=Array.prototype.push,D=function(n,t){for(var e=n.length,r=new Array(e),o=0;o<e;o++){var u=n[o];r[o]=t(u,o)}return r},O=function(n,t){for(var e=0,r=n.length;e<r;e++){t(n[e],e)}},A=function(n,t){for(var e=[],r=0,o=n.length;r<o;r++){var u=n[r];t(u,r)&&e.push(u)}return e},C=function(n,t){return function(n){for(var t=[],e=0,r=n.length;e<r;++e){if(!i(n[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+n);x.apply(t,n[e])}return t}(D(n,t))},M=function(n){return function(n,t){return t>=0&&t<n.length?E.some(n[t]):E.none()}(n,0)},N=Object.keys,P=function(n){return void 0!==n.style&&f(n.style.getPropertyValue)},L=function(n){if(null==n)throw new Error("Node cannot be null or undefined");return{dom:n}},H={fromHtml:function(n,t){var e=(t||document).createElement("div");if(e.innerHTML=n,!e.hasChildNodes()||e.childNodes.length>1)throw console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return L(e.childNodes[0])},fromTag:function(n,t){var e=(t||document).createElement(n);return L(e)},fromText:function(n,t){var e=(t||document).createTextNode(n);return L(e)},fromDom:L,fromPoint:function(n,t,e){return E.from(n.dom.elementFromPoint(t,e)).map(L)}};"undefined"!=typeof window?window:Function("return this;")();var q=function(n){return function(t){return function(n){return n.dom.nodeType}(t)===n}},R=q(1),V=q(3),j=q(9),W=q(11),B=function(n,t){var e=n.dom;if(1!==e.nodeType)return!1;var r=e;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},z=function(n){return H.fromDom(n.dom.ownerDocument)},I=function(n){return function(n){return E.from(n.dom.parentNode).map(H.fromDom)}(n).map(U).map((function(t){return A(t,(function(t){return e=t,!(n.dom===e.dom);var e}))})).getOr([])},U=function(n){return D(n.dom.childNodes,H.fromDom)},J=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode),K=m(J),X=J?function(n){return H.fromDom(n.dom.getRootNode())}:function(n){return j(n)?n:z(n)},Y=function(n){var t,e=X(n);return W(t=e)&&l(t.dom.host)?E.some(e):E.none()},_=function(n){return H.fromDom(n.dom.host)},G=function(n){return l(n.dom.shadowRoot)},Q=function(n){var t=V(n)?n.dom.parentNode:n.dom;if(null==t||null===t.ownerDocument)return!1;var e,r,o=t.ownerDocument;return Y(H.fromDom(t)).fold((function(){return o.body.contains(t)}),(e=Q,r=_,function(n){return e(r(n))}))},Z=function(n,t,e){!function(n,t,e){if(!(u(e)||c(e)||a(e)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",e,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(t,e+"")}(n.dom,t,e)},$=function(n,t){var e=n.dom.getAttribute(t);return null===e?void 0:e},nn=function(n,t){n.dom.removeAttribute(t)},tn=function(n,t){var e=n.dom;!function(n,t){for(var e=N(n),r=0,o=e.length;r<o;r++){var u=e[r];t(n[u],u)}}(t,(function(n,t){!function(n,t,e){if(!u(e))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",e,":: Element ",n),new Error("CSS value must be a string: "+e);P(n)&&n.style.setProperty(t,e)}(e,t,n)}))},en=function(n,t){return P(n)?n.style.getPropertyValue(t):""},rn=function(n){var t,e,r=H.fromDom(function(n){if(K()&&l(n.target)){var t=H.fromDom(n.target);if(R(t)&&G(t)&&n.composed&&n.composedPath){var e=n.composedPath();if(e)return M(e)}}return E.from(n.target)}(n).getOr(n.target)),o=function(){return n.stopPropagation()},u=function(){return n.preventDefault()},i=(t=u,e=o,function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))});return function(n,t,e,r,o,u,i){return{target:n,x:t,y:e,stop:r,prevent:o,kill:u,raw:i}}(r,n.clientX,n.clientY,o,u,i,n)},on=function(n,t,e,r,o){var u=function(n,t){return function(e){n(e)&&t(rn(e))}}(e,r);return n.dom.addEventListener(t,u,o),{unbind:h(un,n,t,u,o)}},un=function(n,t,e,r){n.dom.removeEventListener(t,e,r)},cn=y,ln=function(n,t,e){return function(n,t,e,r){return on(n,t,e,r,!1)}(n,t,cn,e)},fn=function(n,t){return{left:n,top:t,translate:function(e,r){return fn(n+e,t+r)}}},an=fn,sn=function(n){var t=void 0===n?window:n;return E.from(t.visualViewport)},mn=function(n,t,e,r){return{x:n,y:t,width:e,height:r,right:n+e,bottom:t+r}},dn=function(n){var t=void 0===n?window:n,e=t.document,r=function(n){var t=void 0!==n?n.dom:document,e=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return an(e,r)}(H.fromDom(e));return sn(t).fold((function(){var n=t.document.documentElement,e=n.clientWidth,o=n.clientHeight;return mn(r.left,r.top,e,o)}),(function(n){return mn(Math.max(n.pageLeft,r.left),Math.max(n.pageTop,r.top),n.width,n.height)}))},hn=function(n,t,e){return sn(e).map((function(e){var r=function(n){return t(rn(n))};return e.addEventListener(n,r),{unbind:function(){return e.removeEventListener(n,r)}}})).getOrThunk((function(){return{unbind:s}}))},vn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),pn=tinymce.util.Tools.resolve("tinymce.Env"),gn=tinymce.util.Tools.resolve("tinymce.util.Delay"),yn=function(n,t){n.fire("FullscreenStateChanged",{state:t})},wn=function(n){return n.getParam("fullscreen_native",!1,"boolean")},bn=function(n){var t=H.fromDom(n.getElement());return Y(t).map(_).getOrThunk((function(){return function(n){var t=n.dom.body;if(null==t)throw new Error("Body is not available yet");return H.fromDom(t)}(z(t))}))},Sn=function(n){return n.dom===(void 0!==(t=z(n).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},En=function(n,t,e){return A(function(n,t){for(var e=f(t)?t:g,r=n.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var u=r.parentNode,i=H.fromDom(u);if(o.push(i),!0===e(i))break;r=u}return o}(n,e),t)},Tn=function(n){return function(n,t){var e,r=void 0===t?document:t.dom;return 1!==(e=r).nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount?[]:D(r.querySelectorAll(n),H.fromDom)}(n)},Fn=function(n,t,e){return En(n,(function(n){return B(n,t)}),e)},kn=function(n,t){return function(n,t){return A(I(n),t)}(n,(function(n){return B(n,t)}))},xn="data-ephox-mobile-fullscreen-style",Dn="position:absolute!important;",On="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",An=pn.os.isAndroid(),Cn=function(n){var t=function(n,t){var e=n.dom,r=window.getComputedStyle(e).getPropertyValue(t);return""!==r||Q(n)?r:en(e,t)}(n,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"},Mn=vn.DOM,Nn=sn().fold((function(){return{bind:s,unbind:s}}),(function(n){var t,e=(t=F(s),T(T({},t),{on:function(n){return t.get().each(n)}})),r=k(),o=k(),u=gn.throttle((function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((function(){e.on((function(t){return tn(t,{top:n.offsetTop+"px",left:n.offsetLeft+"px",height:n.height+"px",width:n.width+"px"})}))}))}),50);return{bind:function(n){e.set(n),u(),r.set(hn("resize",u)),o.set(hn("scroll",u))},unbind:function(){e.on((function(){r.clear(),o.clear()})),e.clear()}}})),Pn=function(n,t){var e,r,o,u,i=document.body,c=document.documentElement,l=n.getContainer(),f=H.fromDom(l),a=bn(n),s=t.get(),m=H.fromDom(n.getBody()),d=pn.deviceType.isTouch(),h=l.style,v=n.iframeElement.style,p=function(n){n(i,"tox-fullscreen"),n(c,"tox-fullscreen"),n(l,"tox-fullscreen"),Y(f).map((function(n){return _(n).dom})).each((function(t){n(t,"tox-fullscreen"),n(t,"tox-shadowhost")}))},g=function(){var e,r;d&&(e=n.dom,r=Tn("["+xn+"]"),O(r,(function(n){var t=$(n,xn);"no-styles"!==t?tn(n,e.parseStyle(t)):nn(n,"style"),nn(n,xn)}))),p(Mn.removeClass),Nn.unbind(),E.from(t.get()).each((function(n){return n.fullscreenChangeHandler.unbind()}))};if(s)s.fullscreenChangeHandler.unbind(),wn(n)&&Sn(a)&&(r=z(a),(o=r.dom).exitFullscreen?o.exitFullscreen():o.msExitFullscreen?o.msExitFullscreen():o.webkitCancelFullScreen&&o.webkitCancelFullScreen()),v.width=s.iframeWidth,v.height=s.iframeHeight,h.width=s.containerWidth,h.height=s.containerHeight,h.top=s.containerTop,h.left=s.containerLeft,e=s.scrollPos,window.scrollTo(e.x,e.y),t.set(null),yn(n,!1),g(),n.off("remove",g);else{var y=ln(z(a),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(function(e){wn(n)&&(Sn(a)||null===t.get()||Pn(n,t))})),w={scrollPos:dn(window),containerWidth:h.width,containerHeight:h.height,containerTop:h.top,containerLeft:h.left,iframeWidth:v.width,iframeHeight:v.height,fullscreenChangeHandler:y};d&&function(n,t,e){var r=function(t){return function(e){var r=$(e,"style"),o=void 0===r?"no-styles":r.trim();o!==t&&(Z(e,xn,o),tn(e,n.parseStyle(t)))}},o=Fn(t,"*"),u=C(o,(function(n){return kn(n,"*:not(.tox-silver-sink)")})),i=Cn(e);O(u,r("display:none!important;")),O(o,r(Dn+On+i)),r((!0===An?"":Dn)+On+i)(t)}(n.dom,f,m),v.width=v.height="100%",h.width=h.height="",p(Mn.addClass),Nn.bind(f),n.on("remove",g),t.set(w),wn(n)&&((u=a.dom).requestFullscreen?u.requestFullscreen():u.msRequestFullscreen?u.msRequestFullscreen():u.webkitRequestFullScreen&&u.webkitRequestFullScreen()),yn(n,!0)}},Ln=function(n,t){return function(e){e.setActive(null!==t.get());var r=function(n){return e.setActive(n.state)};return n.on("FullscreenStateChanged",r),function(){return n.off("FullscreenStateChanged",r)}}};t.add("fullscreen",(function(t){var r=n(null);return t.inline||(function(n,t){n.addCommand("mceFullScreen",(function(){Pn(n,t)}))}(t,r),function(n,t){var e=function(){return n.execCommand("mceFullScreen")};n.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:e,onSetup:Ln(n,t)}),n.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:e,onSetup:Ln(n,t)})}(t,r),t.addShortcut("Meta+Shift+F","","mceFullScreen")),e(r)}))}()},2225:function(n,t,e){e(2117)}}]);