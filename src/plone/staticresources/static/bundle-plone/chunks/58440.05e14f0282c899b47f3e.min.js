(self.webpackChunkplone_staticresources=self.webpackChunkplone_staticresources||[]).push([[9929,20405,42786,54691,58440,65167,77072,87548],{57722:function(g){g.exports=function(g){var I=document.head.querySelectorAll("*")[0];I?document.head.insertBefore(g,I):document.head.append(g)}},32:function(g,I,A){"use strict";var C=A(71354),e=A.n(C),t=A(76314),l=A.n(t)()(e());l.push([g.id,".content-browser-position-wrapper.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0,0,0,.25)}.btn-xs.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{background-color:var(--bs-primary);padding:.325rem .75rem;color:var(--bs-light);width:100%;display:flex;justify-content:start}.toolBar.svelte-jgy3q8 svg{vertical-align:-0.125em}.levelColumns.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{display:flex;flex-wrap:nowrap;width:100%;overflow:hidden;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{width:320px;border-right:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color);display:flex;flex-direction:column}.levelToolbar.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{width:100%;height:2.5rem;display:flex;justify-content:space-between;padding:.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color)}.levelToolbar.svelte-jgy3q8>.levelActions.svelte-jgy3q8.svelte-jgy3q8{margin-left:auto}.levelToolbar.svelte-jgy3q8>button.svelte-jgy3q8.svelte-jgy3q8{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.levelItems.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{overflow-x:auto}.contentItem.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8:focus-visible{outline:none}.contentItem.even.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{background-color:rgba(var(--bs-secondary-bg-rgb), 0.4)}.contentItem.inPath.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8,.contentItem.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8:focus{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-jgy3q8>.svelte-jgy3q8.svelte-jgy3q8{padding:.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-jgy3q8>.browseSub.svelte-jgy3q8.svelte-jgy3q8{flex-shrink:0}.contentItem.svelte-jgy3q8 .grid-preview.svelte-jgy3q8>img.svelte-jgy3q8{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{width:320px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-jgy3q8 .info.svelte-jgy3q8.svelte-jgy3q8{padding:.5rem;width:100%;word-wrap:anywhere}.preview.svelte-jgy3q8 .info .previewIcon.svelte-jgy3q8.svelte-jgy3q8{margin:0 auto 1rem auto}.preview.svelte-jgy3q8 .info .previewIcon svg.svelte-jgy3q8.svelte-jgy3q8{width:50px !important;height:50px !important}.preview.svelte-jgy3q8 h4.svelte-jgy3q8.svelte-jgy3q8{font-size:1.2 rem}.preview.svelte-jgy3q8 img.svelte-jgy3q8.svelte-jgy3q8{max-width:100%;max-width:100%;margin-bottom:.5rem}.upload-wrapper.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{padding:1rem;width:590px;overflow-x:auto}.loadmore.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{text-align:center;padding:.25rem 0}","",{version:3,sources:["webpack://./node_modules/@plone/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte"],names:[],mappings:"AAAA,4EAAA,cAAA,CAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,UAAA,CAAA,YAAA,CAAA,gCAAA,CAAA,kDAAA,0BAAA,CAAA,yBAAA,CAAA,0BAAA,CAAA,2DAAA,YAAA,CAAA,eAAA,CAAA,0CAAA,CAAA,8DAAA,CAAA,YAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,mDAAA,kCAAA,CAAA,sBAAA,CAAA,qBAAA,CAAA,UAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,2BAAA,uBAAA,CAAA,wDAAA,YAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,eAAA,CAAA,WAAA,CAAA,gFAAA,CAAA,gBAAA,CAAA,uDAAA,WAAA,CAAA,iFAAA,CACmC,YAAA,CAAA,qBAAA,CAAA,wDAAA,UAAA,CAAA,aAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,eAAA,CAAA,kFAAA,CACA,sEAAA,gBAAA,CAAA,+DAAA,kBAAA,CAAA,eAAA,CAAA,sBAAA,CAAA,sDAAA,eAAA,CAAA,uDAAA,YAAA,CAAA,kBAAA,CAAA,6BAAA,CAAA,aAAA,CAAA,eAAA,CAAA,qEAAA,YAAA,CAAA,4DAAA,sDAAA,CAAA,2HAAA,kDAAA,CAAA,oEAAA,kCAAA,CAAA,uBAAA,CAAA,wDAAA,aAAA,CAAA,kBAAA,CAAA,eAAA,CAAA,sBAAA,CAAA,eAAA,CAAA,kEAAA,aAAA,CAAA,yEAAA,UAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,mDAAA,WAAA,CAAA,gBAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,kBAAA,CAAA,yDAAA,aAAA,CAAA,UAAA,CAAA,kBAAA,CAAA,sEAAA,uBAAA,CAAA,0EAAA,qBAAA,CAAA,sBAAA,CAAA,sDAAA,iBAAA,CAAA,uDAAA,cAAA,CAAA,cAAA,CAAA,mBAAA,CAAA,0DAAA,YAAA,CAAA,WAAA,CAAA,eAAA,CAAA,oDAAA,iBAAA,CAAA,gBAAA",sourcesContent:[".content-browser-position-wrapper.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0, 0, 0, 0.25)}.btn-xs.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{background-color:var(--bs-primary);padding:0.325rem 0.75rem;color:var(--bs-light);width:100%;display:flex;justify-content:start}.toolBar.svelte-jgy3q8 svg{vertical-align:-0.125em}.levelColumns.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{display:flex;flex-wrap:nowrap;width:100%;overflow:hidden;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{width:320px;border-right:var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color);display:flex;flex-direction:column}.levelToolbar.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{width:100%;height:2.5rem;display:flex;justify-content:space-between;padding:0.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color)}.levelToolbar.svelte-jgy3q8>.levelActions.svelte-jgy3q8.svelte-jgy3q8{margin-left:auto}.levelToolbar.svelte-jgy3q8>button.svelte-jgy3q8.svelte-jgy3q8{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.levelItems.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{overflow-x:auto}.contentItem.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8:focus-visible{outline:none}.contentItem.even.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{background-color:rgba(var(--bs-secondary-bg-rgb), .4)}.contentItem.inPath.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8,.contentItem.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8:focus{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-jgy3q8>.svelte-jgy3q8.svelte-jgy3q8{padding:0.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-jgy3q8>.browseSub.svelte-jgy3q8.svelte-jgy3q8{flex-shrink:0}.contentItem.svelte-jgy3q8 .grid-preview.svelte-jgy3q8>img.svelte-jgy3q8{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{width:320px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-jgy3q8 .info.svelte-jgy3q8.svelte-jgy3q8{padding:0.5rem;width:100%;word-wrap:anywhere}.preview.svelte-jgy3q8 .info .previewIcon.svelte-jgy3q8.svelte-jgy3q8{margin:0 auto 1rem auto}.preview.svelte-jgy3q8 .info .previewIcon svg.svelte-jgy3q8.svelte-jgy3q8{width:50px !important;height:50px !important}.preview.svelte-jgy3q8 h4.svelte-jgy3q8.svelte-jgy3q8{font-size:1.2 rem}.preview.svelte-jgy3q8 img.svelte-jgy3q8.svelte-jgy3q8{max-width:100%;max-width:100%;margin-bottom:0.5rem}.upload-wrapper.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{padding:1rem;width:590px;overflow-x:auto}.loadmore.svelte-jgy3q8.svelte-jgy3q8.svelte-jgy3q8{text-align:center;padding:0.25rem 0}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGVudEJyb3dzZXIuc3ZlbHRlIiwic291cmNlcyI6WyJDb250ZW50QnJvd3Nlci5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cbiAgICBpbXBvcnQgdXRpbHMgZnJvbSBcIkBwYXR0ZXJuc2xpYi9wYXR0ZXJuc2xpYi9zcmMvY29yZS91dGlsc1wiO1xuICAgIGltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gICAgaW1wb3J0ICogYXMgYW5pbWF0ZVNjcm9sbCBmcm9tIFwic3ZlbHRlLXNjcm9sbHRvXCI7XG4gICAgaW1wb3J0IHsgZmx5IH0gZnJvbSBcInN2ZWx0ZS90cmFuc2l0aW9uXCI7XG4gICAgaW1wb3J0IF90IGZyb20gXCIuLi8uLi8uLi9jb3JlL2kxOG4td3JhcHBlclwiO1xuICAgIGltcG9ydCBVcGxvYWQgZnJvbSBcIi4uLy4uL3VwbG9hZC91cGxvYWRcIjtcbiAgICBpbXBvcnQgY29udGVudFN0b3JlIGZyb20gXCIuL0NvbnRlbnRTdG9yZVwiO1xuICAgIGltcG9ydCB7XG4gICAgICAgIGNsaWNrT3V0c2lkZSxcbiAgICAgICAgZ2V0X2l0ZW1zX2Zyb21fdWlkcyxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgcmVzb2x2ZUljb24sXG4gICAgICAgIHVwZGF0ZVJlY2VudGx5VXNlZCxcbiAgICB9IGZyb20gXCIuL3V0aWxzXCI7XG4gICAgaW1wb3J0IEZhdm9yaXRlcyBmcm9tIFwiLi9GYXZvcml0ZXMuc3ZlbHRlXCI7XG4gICAgaW1wb3J0IFJlY2VudGx5VXNlZCBmcm9tIFwiLi9SZWNlbnRseVVzZWQuc3ZlbHRlXCI7XG5cbiAgICBhbmltYXRlU2Nyb2xsLnNldEdsb2JhbE9wdGlvbnMoe1xuICAgICAgICBzY3JvbGxYOiB0cnVlLFxuICAgICAgICBjb250YWluZXI6IFwiLmxldmVsQ29sdW1uc1wiLFxuICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgIH0pO1xuXG4gICAgLy8gZ2V0IGNvbnRleHQgc3RvcmVzXG4gICAgY29uc3QgY3VycmVudFBhdGggPSBnZXRDb250ZXh0KFwiY3VycmVudFBhdGhcIik7XG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29udGV4dChcImNvbmZpZ1wiKTtcbiAgICBjb25zdCBwYXRoQ2FjaGUgPSBnZXRDb250ZXh0KFwicGF0aENhY2hlXCIpO1xuICAgIGNvbnN0IHNob3dDb250ZW50QnJvd3NlciA9IGdldENvbnRleHQoXCJzaG93Q29udGVudEJyb3dzZXJcIik7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZEl0ZW1zXCIpO1xuICAgIGNvbnN0IHNlbGVjdGVkVWlkcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZFVpZHNcIik7XG4gICAgY29uc3QgcHJldmlld1VpZHMgPSBnZXRDb250ZXh0KFwicHJldmlld1VpZHNcIik7XG5cbiAgICAvLyBpbml0aWFsaXplIGNvbnRlbnQgYnJvd3NlciBzdG9yZVxuICAgIGNvbnN0IGNvbnRlbnRJdGVtcyA9IGNvbnRlbnRTdG9yZSgkY29uZmlnLCBwYXRoQ2FjaGUpO1xuXG4gICAgbGV0IHNob3dVcGxvYWQgPSBmYWxzZTtcbiAgICBsZXQgcHJldmlld0l0ZW0gPSB7fTtcbiAgICBsZXQga2V5Ym9hcmROYXZJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIGxldCBzaGlmdEtleSA9IGZhbHNlO1xuXG4gICAgbGV0IHZ3ID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IDAsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlUHJldmlldyh7IGRhdGEgPSBudWxsLCB1dWlkID0gbnVsbCwgYWN0aW9uID0gXCJzaG93XCIgfSkge1xuICAgICAgICBpZiAoZGF0YSAmJiBhY3Rpb24gPT0gXCJzaG93XCIpIHtcbiAgICAgICAgICAgIHByZXZpZXdJdGVtID0gZGF0YTtcbiAgICAgICAgICAgICRwcmV2aWV3VWlkcyA9IFtkYXRhLlVJRF07XG4gICAgICAgIH0gZWxzZSBpZiAodXVpZCAmJiBhY3Rpb24gPT0gXCJhZGRcIiAmJiAkcHJldmlld1VpZHMuaW5kZXhPZih1dWlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAkY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplID4gMCAmJlxuICAgICAgICAgICAgICAgICRwcmV2aWV3VWlkcy5sZW5ndGggPj0gJGNvbmZpZy5tYXhpbXVtU2VsZWN0aW9uU2l6ZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVzcGVjdCBtYXhpbXVtU2VsZWN0aW9uU2l6ZVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRwcmV2aWV3VWlkcyA9IFsuLi4kcHJldmlld1VpZHMsIHV1aWRdOyAvLyBOT1RFOiAkcHJldmlld1VpZHMucHVzaCgpIGlzIG5vdCBhIHJlYWN0aXZlIGNoYW5nZVxuICAgICAgICB9IGVsc2UgaWYgKHV1aWQgJiYgYWN0aW9uID09IFwicmVtb3ZlXCIgJiYgJHByZXZpZXdVaWRzLmluZGV4T2YodXVpZCkgIT09IC0xKSB7XG4gICAgICAgICAgICBwcmV2aWV3VWlkcy51cGRhdGUoKG4pID0+IHtcbiAgICAgICAgICAgICAgICBuLnNwbGljZShuLmluZGV4T2YodXVpZCksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwiY2xlYXJcIikge1xuICAgICAgICAgICAgcHJldmlld0l0ZW0gPSB7fTtcbiAgICAgICAgICAgICRwcmV2aWV3VWlkcyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gdXBsb2FkKCkge1xuICAgICAgICB1cGRhdGVQcmV2aWV3KHsgYWN0aW9uOiBcImNsZWFyXCIgfSk7XG4gICAgICAgIHNob3dVcGxvYWQgPSB0cnVlO1xuICAgICAgICBhd2FpdCB1dGlscy50aW1lb3V0KDEpO1xuICAgICAgICBjb25zdCB1cGxvYWRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXBsb2FkLXdyYXBwZXJcIik7XG4gICAgICAgIHVwbG9hZEVsLmNsYXNzTGlzdC5hZGQoXCJwYXQtdXBsb2FkXCIpO1xuICAgICAgICBjb25zdCBwYXRVcGxvYWQgPSBuZXcgVXBsb2FkKHVwbG9hZEVsLCB7XG4gICAgICAgICAgICBiYXNlVXJsOiAkY29uZmlnLnJvb3RVcmwsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogJGN1cnJlbnRQYXRoLFxuICAgICAgICAgICAgcmVsYXRpdmVQYXRoOiBcIkBAZmlsZVVwbG9hZFwiLFxuICAgICAgICAgICAgYWxsb3dQYXRoU2VsZWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgIGhpZGRlbklucHV0Q29udGFpbmVyOiBcIi51cGxvYWQtd3JhcHBlclwiLFxuICAgICAgICAgICAgc3VjY2VzczogKGZpbGVVcGxvYWQsIG9iaikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRJdGVtcy5nZXQoeyBwYXRoOiAkY3VycmVudFBhdGgsIHVwZGF0ZUNhY2hlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvd1ByZXZpZXcoaXRlbSkge1xuICAgICAgICBpZiAoJGNvbmZpZy5tb2RlID09IFwic2VhcmNoXCIpIHtcbiAgICAgICAgICAgIC8vIG9uZSBsZXZlbCBzZWFyY2ggbW9kZVxuICAgICAgICAgICAgdXBkYXRlUHJldmlldyh7IGRhdGE6IGl0ZW0gfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pc19mb2xkZXJpc2gpIHtcbiAgICAgICAgICAgICRwcmV2aWV3VWlkcyA9IFtpdGVtLlVJRF07XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5zZXQoaXRlbS5wYXRoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IGl0ZW0ucGF0aC5zcGxpdChcIi9cIik7XG4gICAgICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gcGF0aFBhcnRzLnNsaWNlKDAsIHBhdGhQYXJ0cy5sZW5ndGggLSAxKS5qb2luKFwiL1wiKTtcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoLnNldChmb2xkZXJQYXRoIHx8ICRjb25maWcucm9vdFBhdGgpO1xuICAgICAgICAgICAgdXBkYXRlUHJldmlldyh7IGRhdGE6IGl0ZW0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2Nyb2xsVG9SaWdodCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoYW5nZVBhdGgoaXRlbSwgZSkge1xuICAgICAgICAvLyBhbHdheXMgaGlkZSB1cGxvYWQgd2hlbiBjaGFuZ2luZyBwYXRoXG4gICAgICAgIHNob3dVcGxvYWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBjbGVhciBwcmV2aW91cyBzZWxlY3Rpb25cbiAgICAgICAgdXBkYXRlUHJldmlldyh7IGFjdGlvbjogXCJjbGVhclwiIH0pO1xuXG4gICAgICAgIGlmIChpdGVtID09PSBcIi9cIiB8fCBpdGVtID09PSAkY29uZmlnLnJvb3RQYXRoKSB7XG4gICAgICAgICAgICAvLyBjbGlja2VkIFwiaG9tZVwiIGJ1dHRvblxuICAgICAgICAgICAgY3VycmVudFBhdGguc2V0KCRjb25maWcucm9vdFBhdGgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hvdyBjbGlja2VkIGl0ZW1cbiAgICAgICAgc2hvd1ByZXZpZXcoaXRlbSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xpY2tJdGVtKGl0ZW0sIGUpIHtcbiAgICAgICAgaWYgKCFrZXlib2FyZE5hdkluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSd2ZSBhbHJlYWR5IGNsaWNrZWQgYW4gZWxlbWVudCB3aXRoIHRoZSBtb3VzZVxuICAgICAgICAgICAgLy8gZG8gbm90IHN0YXJ0IG92ZXIga2V5Ym9hcmRuYXZcbiAgICAgICAgICAgIGtleWJvYXJkTmF2SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgZm9yIG11bHRpc2VsZWN0aW9uXG4gICAgICAgIGNvbnN0IGxldmVsV3JhcHBlciA9IGUuY3VycmVudFRhcmdldC5jbG9zZXN0KFwiLmxldmVsSXRlbXNcIik7XG4gICAgICAgIGNvbnN0IHByZXZTZWxlY3Rpb24gPSBsZXZlbFdyYXBwZXIucXVlcnlTZWxlY3RvckFsbChcIi5zZWxlY3RlZEl0ZW1cIik7XG5cbiAgICAgICAgaWYgKHByZXZTZWxlY3Rpb24ubGVuZ3RoICYmICRjb25maWcubWF4aW11bVNlbGVjdGlvblNpemUgIT0gMSkge1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHByZXNzZWQgc2hpZnQgb3IgY3RybC9tZXRhIGtleSBmb3IgbXVsdGlzZWxlY3Rpb25cblxuICAgICAgICAgICAgaWYgKHNoaWZ0S2V5IHx8IGU/LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgLy8gaXRlciB0aHJvdWdoIHRoZSB3cmFwcGVyIGNoaWxkcmVuIGFuZCBzZWxlY3QgYWxsXG4gICAgICAgICAgICAgICAgLy8gaW5iZXR3ZWVuIGN1cnJlbnQgc2VsZWN0aW9uIGFuZCBsYXN0IHByZXZpZXdcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbCBvZiBsZXZlbFdyYXBwZXIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFtpdGVtLlVJRCwgcHJldmlld0l0ZW0uVUlEXS5pbmRleE9mKGVsLmRhdGFzZXQudXVpZCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RvcCBzZWxlY3RpbmcgYnV0IG1ha2Ugc3VyZSB0aGUgbGFzdCBpdGVtIGlzIHNlbGVjdGVkIHRvb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBlbC5kYXRhc2V0LnV1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJhZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHNlbGVjdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcmV2aWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGVsLmRhdGFzZXQudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogc2VsZWN0ID8gXCJhZGRcIiA6IFwicmVtb3ZlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZT8ubWV0YUtleSB8fCBlPy5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgLy8gZGUvc2VsZWN0IG11bHRpcGxlIHNpbmdsZSBpdGVtc1xuICAgICAgICAgICAgICAgIC8vIE5PVEU6IG9ubHkgZm9yIG1vdXNlIGNsaWNrIGV2ZW50XG4gICAgICAgICAgICAgICAgdXBkYXRlUHJldmlldyh7XG4gICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0uVUlELFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICRwcmV2aWV3VWlkcy5pbmRleE9mKGl0ZW0uVUlEKSA9PSAtMSA/IFwiYWRkXCIgOiBcInJlbW92ZVwiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB1bnNlbGVjdFxuICAgICAgICAgICAgICAgIFsuLi5wcmV2U2VsZWN0aW9uXS5tYXAoKGVsKSA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRJdGVtXCIpKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VQYXRoKGl0ZW0sIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlUGF0aChpdGVtLCBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGUuY3VycmVudFRhcmdldC5mb2N1cygpOyAvLyBuZWVkZWQgZm9yIGtleWJvYXJkIG5hdmlnYXRpb25cbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZEl0ZW1cIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdEtleWJvYXJkTmF2KCkge1xuICAgICAgICAvLyBmb2N1cyBmaXJzdCBlbGVtZW50IHdoZW4gc2hvd2luZyBjb250ZW50YnJvd3NlclxuICAgICAgICBpZiAoa2V5Ym9hcmROYXZJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvc3NpYmxlRm9jdXNFbHMgPSBbXG4gICAgICAgICAgICAuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxldmVsQ29sdW1uIC5pblBhdGhcIiksIC8vIHByZXZpb3VzbHkgc2VsZWN0ZWQgZm9sZGVyXG4gICAgICAgICAgICAuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxldmVsQ29sdW1uIC5zZWxlY3RlZEl0ZW1cIiksIC8vIHByZXZpb3VzbHkgc2VsZWN0ZWQgaXRlbVxuICAgICAgICBdO1xuICAgICAgICBpZighcG9zc2libGVGb2N1c0Vscy5sZW5ndGggJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sZXZlbENvbHVtbiAuY29udGVudEl0ZW1cIikpIHtcbiAgICAgICAgICAgIHBvc3NpYmxlRm9jdXNFbHMucHVzaChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxldmVsQ29sdW1uIC5jb250ZW50SXRlbVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc3NpYmxlRm9jdXNFbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBrZXlib2FyZE5hdkluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHBvc3NpYmxlRm9jdXNFbHNbMF0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGtleWJvYXJkTmF2aWdhdGlvbihpdGVtLCBlKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgIHNoaWZ0S2V5ID0gZS5zaGlmdEtleTtcbiAgICAgICAgaWYgKGUua2V5ID09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgIGNhbmNlbFNlbGVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGUua2V5ID09IFwiQXJyb3dEb3duXCIgJiZcbiAgICAgICAgICAgIG5vZGU/Lm5leHRFbGVtZW50U2libGluZz8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY29udGVudEl0ZW1cIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBub2RlLm5leHRFbGVtZW50U2libGluZy5jbGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGUua2V5ID09IFwiQXJyb3dVcFwiICYmXG4gICAgICAgICAgICBub2RlPy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nPy5jbGFzc0xpc3QuY29udGFpbnMoXCJjb250ZW50SXRlbVwiKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIG5vZGUucHJldmlvdXNFbGVtZW50U2libGluZy5jbGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLmtleSA9PSBcIkFycm93UmlnaHRcIikge1xuICAgICAgICAgICAgY29uc3QgY3VyckNvbCA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIubGV2ZWxDb2x1bW5cIik7XG4gICAgICAgICAgICBjb25zdCBueHRDb2wgPSBjdXJyQ29sPy5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICBpZiAoIW54dENvbCB8fCAhbnh0Q29sLmNsYXNzTGlzdC5jb250YWlucyhcImxldmVsQ29sdW1uXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbnh0Q29sLnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudEl0ZW1cIik/LmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUua2V5ID09IFwiQXJyb3dMZWZ0XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJDb2wgPSBlLnRhcmdldC5jbG9zZXN0KFwiLmxldmVsQ29sdW1uXCIpO1xuICAgICAgICAgICAgY29uc3QgcHJldkNvbCA9IGN1cnJDb2w/LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICBpZiAoIXByZXZDb2wgfHwgIXByZXZDb2wuY2xhc3NMaXN0LmNvbnRhaW5zKFwibGV2ZWxDb2x1bW5cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2Q29sLnF1ZXJ5U2VsZWN0b3IoXCIuaW5QYXRoXCIpLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUua2V5ID09IFwiU3BhY2VcIikge1xuICAgICAgICAgICAgLy8gYWRkIGl0ZW0gdG8gc2VsZWN0aW9uIChsaWtlIG1ldGFLZXkgKyBjbGljaylcbiAgICAgICAgICAgIGNsaWNrSXRlbShpdGVtLCBlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5rZXkgPT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBpZiAoaXNTZWxlY3RhYmxlKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCRjb25maWcubWF4aW11bVNlbGVjdGlvblNpemUgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRJdGVtKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNlbGVjdGVkSXRlbXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBhZGRJdGVtKGl0ZW0pIHtcbiAgICAgICAgaWYgKCRjb25maWcubWF4aW11bVNlbGVjdGlvblNpemUgPT0gMSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRJdGVtcy5zZXQoW2l0ZW1dKTtcbiAgICAgICAgICAgIHNlbGVjdGVkVWlkcy5zZXQoW2l0ZW0uVUlEXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxlY3RlZEl0ZW1zLnVwZGF0ZSgobikgPT4gWy4uLm4sIGl0ZW1dKTtcbiAgICAgICAgICAgIHNlbGVjdGVkVWlkcy51cGRhdGUoKCkgPT4gJHNlbGVjdGVkSXRlbXMubWFwKCh4KSA9PiB4LlVJRCkpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVJlY2VudGx5VXNlZChpdGVtLCAkY29uZmlnKTtcbiAgICAgICAgdXBkYXRlUHJldmlldyh7IGFjdGlvbjogXCJjbGVhclwiIH0pO1xuICAgICAgICAkc2hvd0NvbnRlbnRCcm93c2VyID0gZmFsc2U7XG4gICAgICAgIGtleWJvYXJkTmF2SW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBhZGRTZWxlY3RlZEl0ZW1zKCkge1xuICAgICAgICBjb25zdCBwcmV2aWV3SXRlbXMgPSBhd2FpdCBnZXRfaXRlbXNfZnJvbV91aWRzKCRwcmV2aWV3VWlkcywgJGNvbmZpZyk7XG4gICAgICAgIHNlbGVjdGVkSXRlbXMudXBkYXRlKChuKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIHByZXZpZXdJdGVtcykge1xuICAgICAgICAgICAgICAgIGlmICgkc2VsZWN0ZWRVaWRzLmluZGV4T2YoaXQuVUlEKSAhPSAtMSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgbi5wdXNoKGl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0ZWRVaWRzLnVwZGF0ZSgoKSA9PiAkc2VsZWN0ZWRJdGVtcy5tYXAoKHgpID0+IHguVUlEKSk7XG4gICAgICAgIHVwZGF0ZVByZXZpZXcoeyBhY3Rpb246IFwiY2xlYXJcIiB9KTtcbiAgICAgICAgJHNob3dDb250ZW50QnJvd3NlciA9IGZhbHNlO1xuICAgICAgICBrZXlib2FyZE5hdkluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VsZWN0UmVjZW50bHlVc2VkKGV2ZW50KSB7XG4gICAgICAgIGFkZEl0ZW0oZXZlbnQuZGV0YWlsLml0ZW0pO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIHNlbGVjdEZhdm9yaXRlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBldmVudC5kZXRhaWwuaXRlbS5wYXRoO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3Qoe1xuICAgICAgICAgICAgdm9jYWJ1bGFyeVVybDogJGNvbmZpZy52b2NhYnVsYXJ5VXJsLFxuICAgICAgICAgICAgYXR0cmlidXRlczogJGNvbmZpZy5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgbGV2ZWxJbmZvUGF0aDogcGF0aCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2UudG90YWwpIHtcbiAgICAgICAgICAgIGFsZXJ0KGAke3BhdGh9IG5vdCBmb3VuZCFgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtID0gcmVzcG9uc2UucmVzdWx0c1swXTtcbiAgICAgICAgaWYgKCFpdGVtLnBhdGgpIHtcbiAgICAgICAgICAgIC8vIGZpeCBmb3Igcm9vdFxuICAgICAgICAgICAgaXRlbS5wYXRoID0gJGNvbmZpZy5yb290UGF0aDtcbiAgICAgICAgfVxuICAgICAgICBjaGFuZ2VQYXRoKGl0ZW0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbmNlbFNlbGVjdGlvbigpIHtcbiAgICAgICAgJHNob3dDb250ZW50QnJvd3NlciA9IGZhbHNlO1xuICAgICAgICBrZXlib2FyZE5hdkluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHVwZGF0ZVByZXZpZXcoeyBhY3Rpb246IFwiY2xlYXJcIiB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NlbGVjdGFibGUoaXRlbSkge1xuICAgICAgICByZXR1cm4gJHNlbGVjdGVkVWlkcy5pbmRleE9mKGl0ZW0uVUlEKSA9PT0gLTE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG9SaWdodCgpIHtcbiAgICAgICAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sZXZlbENvbHVtbnNcIik7XG4gICAgICAgIGlmIChzY3JvbGxDb250YWluZXIpIHtcbiAgICAgICAgICAgIGFuaW1hdGVTY3JvbGwuc2Nyb2xsVG8oe1xuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQ6IFwiLmxldmVsQ29sdW1uOmxhc3QtY2hpbGRcIixcbiAgICAgICAgICAgICAgICB4OiBzY3JvbGxDb250YWluZXIuc2Nyb2xsV2lkdGggKyAxMDAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGl0ZW1JblBhdGgoaXRlbSkge1xuICAgICAgICByZXR1cm4gJGNvbmZpZy5tb2RlID09IFwiYnJvd3NlXCIgJiYgJGN1cnJlbnRQYXRoLmluZGV4T2YoaXRlbS5wYXRoKSAhPSAtMTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWx0ZXJJdGVtcyA9IHV0aWxzLmRlYm91bmNlKChlKSA9PiB7XG4gICAgICAgIGNvbnRlbnRJdGVtcy5nZXQoeyBwYXRoOiAkY3VycmVudFBhdGgsIHNlYXJjaFRlcm06IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgIH0sIDMwMCk7XG5cbiAgICBmdW5jdGlvbiBsb2FkTW9yZShub2RlKSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gbm9kZS5kYXRhc2V0LmxldmVsUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChub2RlLmRhdGFzZXQubGV2ZWxOZXh0UGFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50SXRlbXMuZ2V0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkTW9yZVBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgdGhyZXNob2xkOiAwLCByb290OiBudWxsLCBtYXJnaW46IFwiMHB4XCIgfSxcbiAgICAgICAgKTtcbiAgICAgICAgLy8gZGVmZXIgb2JzZXJ2aW5nXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxuXG4gICAgJDoge1xuICAgICAgICBpZiAoJHNob3dDb250ZW50QnJvd3Nlcikge1xuICAgICAgICAgICAgY29udGVudEl0ZW1zLmdldCh7IHBhdGg6ICRjdXJyZW50UGF0aCB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgJGNvbnRlbnRJdGVtcztcbiAgICAgICAgc2Nyb2xsVG9SaWdodCgpO1xuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgJHByZXZpZXdVaWRzO1xuICAgIH1cbjwvc2NyaXB0PlxuXG57I2lmICRzaG93Q29udGVudEJyb3dzZXJ9XG4gICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtYnJvd3Nlci1wb3NpdGlvbi13cmFwcGVyXCI+XG4gICAgICAgIDxuYXZcbiAgICAgICAgICAgIGNsYXNzPVwiY29udGVudC1icm93c2VyXCJcbiAgICAgICAgICAgIHRyYW5zaXRpb246Zmx5PXt7IHg6ICh2dyAvIDEwMCkgKiA5NCwgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgb246aW50cm9lbmQ9eygpID0+IHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb1JpZ2h0KCk7XG4gICAgICAgICAgICAgICAgaW5pdEtleWJvYXJkTmF2KCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgdXNlOmNsaWNrT3V0c2lkZVxuICAgICAgICAgICAgb246Y2xpY2tfb3V0c2lkZT17Y2FuY2VsU2VsZWN0aW9ufVxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9vbEJhciBuYXZiYXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyIG1lLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImZpbHRlclwiIG9uOmlucHV0PXtmaWx0ZXJJdGVtc30gLz5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImZpbHRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+PHN2ZyB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwic2VhcmNoXCIgfX0gLz48L2xhYmVsXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8UmVjZW50bHlVc2VkIG9uOnNlbGVjdEl0ZW09e3NlbGVjdFJlY2VudGx5VXNlZH0gLz5cbiAgICAgICAgICAgICAgICA8RmF2b3JpdGVzIG9uOnNlbGVjdEl0ZW09e3NlbGVjdEZhdm9yaXRlfSAvPlxuICAgICAgICAgICAgICAgIHsjaWYgJGNvbmZpZy51cGxvYWRFbmFibGVkfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXMtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidXBsb2FkIGJ0biBidG4tb3V0bGluZS1saWdodCBidG4tc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246a2V5ZG93bj17dXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXt1cGxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcInVwbG9hZFwiIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge190KFwidXBsb2FkIHRvICR7Y3VycmVudF9wYXRofVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfcGF0aDogJGN1cnJlbnRQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfTwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGluayB0ZXh0LXdoaXRlIG1zLWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD1cIjBcIlxuICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT4gY2FuY2VsU2VsZWN0aW9uKCl9XG4gICAgICAgICAgICAgICAgICAgID48c3ZnIHVzZTpyZXNvbHZlSWNvbj17eyBpY29uTmFtZTogXCJ4LWNpcmNsZVwiIH19IC8+PC9idXR0b25cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsjYXdhaXQgJGNvbnRlbnRJdGVtc31cbiAgICAgICAgICAgICAgICA8cD57X3QoXCJsb2FkaW5nIGNvbnRlbnQgaXRlbXNcIil9PC9wPlxuICAgICAgICAgICAgezp0aGVuIGxldmVsc31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxDb2x1bW5zXCI+XG4gICAgICAgICAgICAgICAgICAgIHsjZWFjaCBsZXZlbHMgYXMgbGV2ZWwsIGkgKGxldmVsLnBhdGgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibGV2ZWxDb2x1bW57aSAlIDIgPT0gMCA/ICcgb2RkJyA6ICcgZXZlbid9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbjpmbHl8bG9jYWw9e3sgZHVyYXRpb246IDMwMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZXZlbFRvb2xiYXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBpID09IDAgJiYgJGNvbmZpZy5tb2RlID09IFwiYnJvd3NlXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXhzIHBzLTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246a2V5ZG93bj17KCkgPT4gY2hhbmdlUGF0aCgkY29uZmlnLnJvb3RQYXRoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gY2hhbmdlUGF0aCgkY29uZmlnLnJvb3RQYXRoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwiaG91c2VcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+PC9idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBsZXZlbC5zZWxlY3RhYmxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJ7bGV2ZWwuZGlzcGxheVBhdGh9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzU2VsZWN0YWJsZShsZXZlbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9eygpID0+IGFkZEl0ZW0obGV2ZWwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtfdChcInNlbGVjdCAke2xldmVsX3BhdGh9XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxfcGF0aDogbGV2ZWwuVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsQWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiAhbGV2ZWwuZ3JpZFZpZXd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGluayBidG4teHMgZ3JpZC12aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IChsZXZlbC5ncmlkVmlldyA9IHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcImdyaWRcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXhzIGdyaWQtdmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAobGV2ZWwuZ3JpZFZpZXcgPSBmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwibGlzdFwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxJdGVtc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2VhY2ggbGV2ZWwucmVzdWx0cyB8fCBbXSBhcyBpdGVtLCBufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBzdmVsdGUtaWdub3JlIG1pc3NpbmctZGVjbGFyYXRpb24gLS0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb250ZW50SXRlbXtuICUgMiA9PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJyBvZGQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyBldmVuJ317aXRlbUluUGF0aChpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcgaW5QYXRoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnfXskcHJldmlld1VpZHMuaW5kZXhPZihpdGVtLlVJRCkgIT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnIHNlbGVjdGVkSXRlbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ317IWlzU2VsZWN0YWJsZShpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcgdGV4dC1tdXRlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PXtufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdXVpZD17aXRlbS5VSUR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246a2V5ZG93bnxwcmV2ZW50RGVmYXVsdD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbihpdGVtLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGNsaWNrSXRlbShpdGVtLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGxldmVsLmdyaWRWaWV3fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZC1wcmV2aWV3XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGl0ZW0uZ2V0SWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17YCR7aXRlbS5nZXRVUkx9L0BAaW1hZ2VzL2ltYWdlL3RodW1iYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtpdGVtLlRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBgY29udGVudHR5cGUvJHtpdGVtLnBvcnRhbF90eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwufCAvZywgXCItXCIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIml0ZW0tdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJ7aXRlbS5wb3J0YWxfdHlwZX06IHtpdGVtLlRpdGxlfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU6IGBjb250ZW50dHlwZS8ke2l0ZW0ucG9ydGFsX3R5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXC58IC9nLCBcIi1cIil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLlRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiAkY29uZmlnLm1vZGUgPT0gXCJzZWFyY2hcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj48c3BhbiBjbGFzcz1cInNtYWxsXCI+e2l0ZW0ucGF0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgaXRlbS5pc19mb2xkZXJpc2ggJiYgJGNvbmZpZy5tb2RlID09IFwiYnJvd3NlXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJicm93c2VTdWJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU6IFwiYXJyb3ctcmlnaHQtY2lyY2xlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGxldmVsLm1vcmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJsb2FkbW9yZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sZXZlbC1wYXRoPXtsZXZlbC5wYXRofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbGV2ZWwtbmV4dC1wYWdlPXtwYXJzZUludChsZXZlbC5wYWdlKSArIDF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOmxvYWRNb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwaW5uZXItYm9yZGVyXCIgcm9sZT1cInN0YXR1c1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgbGV2ZWwudG90YWwgPT0gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50SXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPntfdChcIm5vIHJlc3VsdHMgZm91bmRcIil9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgICAgICB7I2lmIHByZXZpZXdJdGVtPy5VSUQgJiYgJHByZXZpZXdVaWRzLmxlbmd0aCA9PSAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxUb29sYmFyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzU2VsZWN0YWJsZShwcmV2aWV3SXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT4gYWRkSXRlbShwcmV2aWV3SXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e190KFwic2VsZWN0ICR7cHJldmlld19wYXRofVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlld19wYXRoOiBwcmV2aWV3SXRlbS5wYXRoLnNwbGl0KFwiL1wiKS5wb3AoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfTwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIHByZXZpZXdJdGVtLmdldEljb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJldmlld0ltYWdlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCJ7cHJldmlld0l0ZW0uZ2V0VVJMfS9AQGltYWdlcy9pbWFnZS9wcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtwcmV2aWV3SXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3SWNvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uTmFtZTogYGNvbnRlbnR0eXBlLyR7cHJldmlld0l0ZW0ucG9ydGFsX3R5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXC58IC9nLCBcIi1cIil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoND57cHJldmlld0l0ZW0uVGl0bGV9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3ByZXZpZXdJdGVtLkRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICB7I2lmICRwcmV2aWV3VWlkcy5sZW5ndGggPiAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxUb29sYmFyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17YWRkU2VsZWN0ZWRJdGVtc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57X3QoXCJhZGQgc2VsZWN0ZWQgaXRlbXNcIil9PC9idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpyZXNvbHZlSWNvbj17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBcImZpbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgIHsjaWYgc2hvd1VwbG9hZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1cGxvYWQtd3JhcHBlclwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgezpjYXRjaCBlcnJvcn1cbiAgICAgICAgICAgICAgICA8cCBzdHlsZT1cImNvbG9yOiByZWRcIj57ZXJyb3IubWVzc2FnZX08L3A+XG4gICAgICAgICAgICB7L2F3YWl0fVxuICAgICAgICA8L25hdj5cbiAgICA8L2Rpdj5cbnsvaWZ9XG5cbjxzdHlsZT5cbiAgICAuY29udGVudC1icm93c2VyLXBvc2l0aW9uLXdyYXBwZXIge1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogZW5kO1xuICAgICAgICB6LWluZGV4OiAxNTAwO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDB2aDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjI1KTtcbiAgICB9XG4gICAgLmJ0bi14cyB7XG4gICAgICAgIC0tYnMtYnRuLXBhZGRpbmcteTogMC4xNXJlbTtcbiAgICAgICAgLS1icy1idG4tcGFkZGluZy14OiAwLjVyZW07XG4gICAgICAgIC0tYnMtYnRuLWZvbnQtc2l6ZTogMC43NXJlbTtcbiAgICB9XG4gICAgLmNvbnRlbnQtYnJvd3NlciB7XG4gICAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICAgIG1pbi13aWR0aDogNTUwcHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJzLWxpZ2h0LWJnLXN1YnRsZSk7XG4gICAgICAgIGJvcmRlci1sZWZ0OiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci13aWR0aCkgI2ZmZjtcbiAgICAgICAgei1pbmRleDogMTUwMDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB9XG4gICAgLnRvb2xCYXIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy1wcmltYXJ5KTtcbiAgICAgICAgcGFkZGluZzogMC4zMjVyZW0gMC43NXJlbTtcbiAgICAgICAgY29sb3I6IHZhcigtLWJzLWxpZ2h0KTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3RhcnQ7XG4gICAgfVxuICAgIC50b29sQmFyIDpnbG9iYWwoc3ZnKSB7XG4gICAgICAgIHZlcnRpY2FsLWFsaWduOiAtMC4xMjVlbTtcbiAgICB9XG4gICAgLmxldmVsQ29sdW1ucyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtd3JhcDogbm93cmFwO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgZmxleC1ncm93OiAzO1xuICAgICAgICBib3JkZXItbGVmdDogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItY29sb3IpIHZhcigtLWJzLWJvcmRlci13aWR0aCk7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5sZXZlbENvbHVtbiB7XG4gICAgICAgIHdpZHRoOiAzMjBweDtcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci13aWR0aClcbiAgICAgICAgICAgIHZhcigtLWJzLWJvcmRlci1jb2xvcik7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgfVxuXG4gICAgLmxldmVsVG9vbGJhciB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDIuNXJlbTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBwYWRkaW5nOiAwLjM3NXJlbTtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpXG4gICAgICAgICAgICB2YXIoLS1icy1ib3JkZXItY29sb3IpO1xuICAgIH1cbiAgICAubGV2ZWxUb29sYmFyID4gLmxldmVsQWN0aW9ucyB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIH1cbiAgICAubGV2ZWxUb29sYmFyID4gYnV0dG9ue1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICB9XG5cbiAgICAubGV2ZWxJdGVtcyB7XG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgfVxuICAgIC5jb250ZW50SXRlbSB7XG4gICAgICAgIC8qIHBhZGRpbmc6IDFyZW0gMXJlbTsgKi9cbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBmb250LXNpemU6IDkwJTtcbiAgICAgICAgbWluLWhlaWdodDogMnJlbTtcbiAgICB9XG4gICAgLmNvbnRlbnRJdGVtOmZvY3VzLXZpc2libGUge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0uZXZlbiB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tYnMtc2Vjb25kYXJ5LWJnLXJnYiksIC40KTtcbiAgICB9XG4gICAgLmNvbnRlbnRJdGVtLmluUGF0aCxcbiAgICAuY29udGVudEl0ZW06Zm9jdXMge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLWJzLXByaW1hcnktcmdiKSwgMC4xNSk7XG4gICAgfVxuICAgIC5jb250ZW50SXRlbS5zZWxlY3RlZEl0ZW0ge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWJzLWJvZHktYmcpO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0gPiAqIHtcbiAgICAgICAgcGFkZGluZzogMC41cmVtO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICBtYXgtd2lkdGg6IDQ1MHB4O1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgLmNvbnRlbnRJdGVtID4gLmJyb3dzZVN1YiB7XG4gICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgIH1cblxuICAgIC5jb250ZW50SXRlbSAuZ3JpZC1wcmV2aWV3ID4gaW1nIHtcbiAgICAgICAgd2lkdGg6IDk1cHg7XG4gICAgICAgIGhlaWdodDogOTVweDtcbiAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDFyZW07XG4gICAgfVxuICAgIC5wcmV2aWV3IHtcbiAgICAgICAgd2lkdGg6IDMyMHB4O1xuICAgICAgICBtaW4taGVpZ2h0OiAzMDBweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG4gICAgLnByZXZpZXcgLmluZm8ge1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB3b3JkLXdyYXA6IGFueXdoZXJlO1xuICAgIH1cbiAgICAucHJldmlldyAuaW5mbyAucHJldmlld0ljb24ge1xuICAgICAgICBtYXJnaW46IDAgYXV0byAxcmVtIGF1dG87XG4gICAgfVxuICAgIC5wcmV2aWV3IC5pbmZvIC5wcmV2aWV3SWNvbiBzdmcge1xuICAgICAgICB3aWR0aDogNTBweCAhaW1wb3J0YW50O1xuICAgICAgICBoZWlnaHQ6IDUwcHggIWltcG9ydGFudDtcbiAgICB9XG4gICAgLnByZXZpZXcgaDQge1xuICAgICAgICBmb250LXNpemU6IDEuMiByZW07XG4gICAgfVxuICAgIC5wcmV2aWV3IGltZyB7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XG4gICAgfVxuXG4gICAgLnVwbG9hZC13cmFwcGVyIHtcbiAgICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgICAgd2lkdGg6IDU5MHB4O1xuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgIH1cbiAgICAubG9hZG1vcmUge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDAuMjVyZW0gMDtcbiAgICB9XG48L3N0eWxlPlxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTRsQkksMkVBQWtDLENBQzlCLFFBQVEsQ0FBRSxLQUFLLENBQ2YsR0FBRyxDQUFFLENBQUMsQ0FDTixLQUFLLENBQUUsQ0FBQyxDQUNSLE9BQU8sQ0FBRSxJQUFJLENBQ2IsZUFBZSxDQUFFLEdBQUcsQ0FDcEIsT0FBTyxDQUFFLElBQUksQ0FDYixLQUFLLENBQUUsSUFBSSxDQUNYLE1BQU0sQ0FBRSxLQUFLLENBQ2IsZ0JBQWdCLENBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQ3hDLENBQ0EsaURBQVEsQ0FDSixrQkFBa0IsQ0FBRSxPQUFPLENBQzNCLGtCQUFrQixDQUFFLE1BQU0sQ0FDMUIsa0JBQWtCLENBQUUsT0FDeEIsQ0FDQSwwREFBaUIsQ0FDYixNQUFNLENBQUUsS0FBSyxDQUNiLFNBQVMsQ0FBRSxLQUFLLENBQ2hCLGdCQUFnQixDQUFFLElBQUksb0JBQW9CLENBQUMsQ0FDM0MsV0FBVyxDQUFFLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxDQUMvRCxPQUFPLENBQUUsSUFBSSxDQUNiLE9BQU8sQ0FBRSxJQUFJLENBQ2IsY0FBYyxDQUFFLE1BQ3BCLENBQ0Esa0RBQVMsQ0FDTCxnQkFBZ0IsQ0FBRSxJQUFJLFlBQVksQ0FBQyxDQUNuQyxPQUFPLENBQUUsUUFBUSxDQUFDLE9BQU8sQ0FDekIsS0FBSyxDQUFFLElBQUksVUFBVSxDQUFDLENBQ3RCLEtBQUssQ0FBRSxJQUFJLENBQ1gsT0FBTyxDQUFFLElBQUksQ0FDYixlQUFlLENBQUUsS0FDckIsQ0FDQSxzQkFBUSxDQUFTLEdBQUssQ0FDbEIsY0FBYyxDQUFFLFFBQ3BCLENBQ0EsdURBQWMsQ0FDVixPQUFPLENBQUUsSUFBSSxDQUNiLFNBQVMsQ0FBRSxNQUFNLENBQ2pCLEtBQUssQ0FBRSxJQUFJLENBQ1gsUUFBUSxDQUFFLE1BQU0sQ0FDaEIsU0FBUyxDQUFFLENBQUMsQ0FDWixXQUFXLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQ2pGLFdBQVcsQ0FBRSxJQUNqQixDQUVBLHNEQUFhLENBQ1QsS0FBSyxDQUFFLEtBQUssQ0FDWixZQUFZLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUM7QUFDbkUsWUFBWSxJQUFJLGlCQUFpQixDQUFDLENBQzFCLE9BQU8sQ0FBRSxJQUFJLENBQ2IsY0FBYyxDQUFFLE1BQ3BCLENBRUEsdURBQWMsQ0FDVixLQUFLLENBQUUsSUFBSSxDQUNYLE1BQU0sQ0FBRSxNQUFNLENBQ2QsT0FBTyxDQUFFLElBQUksQ0FDYixlQUFlLENBQUUsYUFBYSxDQUM5QixPQUFPLENBQUUsUUFBUSxDQUNqQixhQUFhLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUM7QUFDcEUsWUFBWSxJQUFJLGlCQUFpQixDQUM3QixDQUNBLDJCQUFhLENBQUcseUNBQWMsQ0FDMUIsV0FBVyxDQUFFLElBQ2pCLENBQ0EsMkJBQWEsQ0FBRyxrQ0FBTSxDQUNsQixXQUFXLENBQUUsTUFBTSxDQUNuQixRQUFRLENBQUUsTUFBTSxDQUNoQixhQUFhLENBQUUsUUFDbkIsQ0FFQSxxREFBWSxDQUNSLFVBQVUsQ0FBRSxJQUNoQixDQUNBLHNEQUFhLENBRVQsT0FBTyxDQUFFLElBQUksQ0FDYixXQUFXLENBQUUsTUFBTSxDQUNuQixlQUFlLENBQUUsYUFBYSxDQUM5QixTQUFTLENBQUUsR0FBRyxDQUNkLFVBQVUsQ0FBRSxJQUNoQixDQUNBLHNEQUFZLGNBQWUsQ0FDdkIsT0FBTyxDQUFFLElBQ2IsQ0FDQSxZQUFZLCtDQUFNLENBQ2QsZ0JBQWdCLENBQUUsS0FBSyxJQUFJLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQ3pELENBQ0EsWUFBWSxpREFBTyxDQUNuQixzREFBWSxNQUFPLENBQ2YsZ0JBQWdCLENBQUUsS0FBSyxJQUFJLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQ3RELENBQ0EsWUFBWSx1REFBYyxDQUN0QixnQkFBZ0IsQ0FBRSxJQUFJLFlBQVksQ0FBQyxDQUNuQyxLQUFLLENBQUUsSUFBSSxZQUFZLENBQzNCLENBQ0EsMEJBQVksQ0FBRyw0QkFBRSxDQUNiLE9BQU8sQ0FBRSxNQUFNLENBQ2YsV0FBVyxDQUFFLE1BQU0sQ0FDbkIsU0FBUyxDQUFFLEtBQUssQ0FDaEIsYUFBYSxDQUFFLFFBQVEsQ0FDdkIsUUFBUSxDQUFFLE1BQ2QsQ0FDQSwwQkFBWSxDQUFHLHNDQUFXLENBQ3RCLFdBQVcsQ0FBRSxDQUNqQixDQUVBLDBCQUFZLENBQUMsMkJBQWEsQ0FBRyxpQkFBSSxDQUM3QixLQUFLLENBQUUsSUFBSSxDQUNYLE1BQU0sQ0FBRSxJQUFJLENBQ1osVUFBVSxDQUFFLEtBQUssQ0FDakIsS0FBSyxDQUFFLElBQUksQ0FDWCxZQUFZLENBQUUsSUFDbEIsQ0FDQSxrREFBUyxDQUNMLEtBQUssQ0FBRSxLQUFLLENBQ1osVUFBVSxDQUFFLEtBQUssQ0FDakIsT0FBTyxDQUFFLElBQUksQ0FDYixjQUFjLENBQUUsTUFBTSxDQUN0QixXQUFXLENBQUUsTUFDakIsQ0FDQSxzQkFBUSxDQUFDLGlDQUFNLENBQ1gsT0FBTyxDQUFFLE1BQU0sQ0FDZixLQUFLLENBQUUsSUFBSSxDQUNYLFNBQVMsQ0FBRSxRQUNmLENBQ0Esc0JBQVEsQ0FBQyxLQUFLLENBQUMsd0NBQWEsQ0FDeEIsTUFBTSxDQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQ3hCLENBQ0Esc0JBQVEsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLCtCQUFJLENBQzVCLEtBQUssQ0FBRSxJQUFJLENBQUMsVUFBVSxDQUN0QixNQUFNLENBQUUsSUFBSSxDQUFDLFVBQ2pCLENBQ0Esc0JBQVEsQ0FBQyw4QkFBRyxDQUNSLFNBQVMsQ0FBRSxHQUFHLENBQUMsR0FDbkIsQ0FDQSxzQkFBUSxDQUFDLCtCQUFJLENBQ1QsU0FBUyxDQUFFLElBQUksQ0FDZixTQUFTLENBQUUsSUFBSSxDQUNmLGFBQWEsQ0FBRSxNQUNuQixDQUVBLHlEQUFnQixDQUNaLE9BQU8sQ0FBRSxJQUFJLENBQ2IsS0FBSyxDQUFFLEtBQUssQ0FDWixVQUFVLENBQUUsSUFDaEIsQ0FDQSxtREFBVSxDQUNOLFVBQVUsQ0FBRSxNQUFNLENBQ2xCLE9BQU8sQ0FBRSxPQUFPLENBQUMsQ0FDckIifQ==*/"],sourceRoot:""}]),I.A=l},49393:function(g,I,A){"use strict";var C=A(71354),e=A.n(C),t=A(76314),l=A.n(t)()(e());l.push([g.id,".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:.5rem .5rem 0 .5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:.5rem;margin-bottom:.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 .375rem .374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}","",{version:3,sources:["webpack://./node_modules/@plone/mockup/src/pat/contentbrowser/src/SelectedItems.svelte"],names:[],mappings:"AAAA,kFAAA,YAAA,CAAA,iBAAA,CAAA,0EAAA,eAAA,CAAA,kCAAA,CAAA,iEAAA,CAAA,2EAAA,CAAA,iBAAA,CAAA,2BAAA,CAAA,aAAA,CAAA,yFAAA,qCAAA,CAAA,sCAAA,CAAA,2EAAA,CAAA,aAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,gBAAA,CAAA,iBAAA,CAAA,6BAAA,CAAA,WAAA,CAAA,0FAAA,kBAAA,CAAA,aAAA,CAAA,gGAAA,cAAA,CAAA,2BAAA,CAAA,oGAAA,YAAA,CAAA,iBAAA,CAAA,6FAAA,gBAAA,CAAA,UAAA,CAAA,WAAA",sourcesContent:[".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:0.5rem 0.5rem 0 0.5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:0.5rem;margin-bottom:0.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:0.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 0.375rem 0.374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0ZWRJdGVtcy5zdmVsdGUiLCJzb3VyY2VzIjpbIlNlbGVjdGVkSXRlbXMuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XG4gICAgaW1wb3J0IHsgZ2V0Q29udGV4dCwgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBmbGlwIH0gZnJvbSBcInN2ZWx0ZS9hbmltYXRlXCI7XG4gICAgaW1wb3J0IHsgZ2V0X2l0ZW1zX2Zyb21fdWlkcywgcmVzb2x2ZUljb24gfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuICAgIGltcG9ydCBTb3J0YWJsZSBmcm9tIFwic29ydGFibGVqc1wiO1xuICAgIGltcG9ydCBfdCBmcm9tIFwiLi4vLi4vLi4vY29yZS9pMThuLXdyYXBwZXJcIjtcbiAgICBpbXBvcnQgZXZlbnRzIGZyb20gXCJAcGF0dGVybnNsaWIvcGF0dGVybnNsaWIvc3JjL2NvcmUvZXZlbnRzXCI7XG5cbiAgICBsZXQgcmVmO1xuICAgIGxldCBpbml0aWFsaXppbmcgPSB0cnVlO1xuXG4gICAgLy8gZ2V0IHJlYWN0aXZlIGNvbnRleHQgY29uZmlnXG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29udGV4dChcImNvbmZpZ1wiKTtcbiAgICBjb25zdCBmaWVsZElkID0gJGNvbmZpZy5maWVsZElkO1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXNOb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmllbGRJZCk7XG5cbiAgICAvLyBnZXQgcmVhY3RpdmUgY29udGV4dCBzdG9yZVxuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRJdGVtc1wiKTtcbiAgICBjb25zdCBzZWxlY3RlZFVpZHMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRVaWRzXCIpO1xuXG4gICAgLy8gc2hvd0NvbnRlbnRCcm93c2VyIHJlYWN0aXZlIHN0YXRlXG4gICAgY29uc3Qgc2hvd0NvbnRlbnRCcm93c2VyID0gZ2V0Q29udGV4dChcInNob3dDb250ZW50QnJvd3NlclwiKTtcblxuICAgIG9uTW91bnQoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBpbml0aWFsaXplU2VsZWN0ZWRJdGVtc1N0b3JlKCk7XG4gICAgICAgIGluaXRpYWxpemVTb3J0aW5nKCk7XG4gICAgICAgIGluaXRpYWxpemluZyA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gdW5zZWxlY3RJdGVtKGkpIHtcbiAgICAgICAgc2VsZWN0ZWRJdGVtcy51cGRhdGUoKG4pID0+IHtcbiAgICAgICAgICAgIG4uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3RlZFVpZHMudXBkYXRlKCgpID0+ICRzZWxlY3RlZEl0ZW1zLm1hcCgoeCkgPT4geC5VSUQpKTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplU2VsZWN0ZWRJdGVtc1N0b3JlKCkge1xuICAgICAgICBjb25zdCBpbml0aWFsVmFsdWUgPSAkY29uZmlnLnNlbGVjdGlvbi5sZW5ndGhcbiAgICAgICAgICAgID8gJGNvbmZpZy5zZWxlY3Rpb25cbiAgICAgICAgICAgIDogc2VsZWN0ZWRJdGVtc05vZGU/LnZhbHVlXG4gICAgICAgICAgICAgID8gc2VsZWN0ZWRJdGVtc05vZGUudmFsdWUuc3BsaXQoJGNvbmZpZy5zZXBhcmF0b3IpXG4gICAgICAgICAgICAgIDogW107XG5cbiAgICAgICAgaWYgKCFpbml0aWFsVmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkc2VsZWN0ZWRJdGVtcyA9IGF3YWl0IGdldF9pdGVtc19mcm9tX3VpZHMoaW5pdGlhbFZhbHVlLCAkY29uZmlnKTtcbiAgICAgICAgc2VsZWN0ZWRVaWRzLnVwZGF0ZSgoKSA9PiAkc2VsZWN0ZWRJdGVtcy5tYXAoKHgpID0+IHguVUlEKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVNvcnRpbmcoKSB7XG4gICAgICAgIGlmICgkY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplICE9PSAxICYmICRzZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIFNvcnRhYmxlLmNyZWF0ZShcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zTm9kZS5wcmV2aW91c1NpYmxpbmcucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgXCIuY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zXCIsXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogXCIuc2VsZWN0ZWQtaXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgb25VcGRhdGU6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc29ydGVkVXVpZHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWwgb2YgZS50YXJnZXQuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0ZWRVdWlkcy5wdXNoKGVsLmRhdGFzZXRbXCJ1dWlkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE5vZGVWYWx1ZShzb3J0ZWRVdWlkcyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZWxlY3RlZFVpZHNGcm9tU2VsZWN0ZWRJdGVtcygpIHtcbiAgICAgICAgbGV0IGl0ZW1zID0gW107XG4gICAgICAgICRzZWxlY3RlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbS5VSUQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE5vZGVWYWx1ZShzZWxlY3RlZFVpZHMpIHtcbiAgICAgICAgY29uc3Qgbm9kZV92YWwgPSBzZWxlY3RlZFVpZHMuam9pbigkY29uZmlnLnNlcGFyYXRvcik7XG4gICAgICAgIHNlbGVjdGVkSXRlbXNOb2RlLnZhbHVlID0gbm9kZV92YWw7XG4gICAgICAgIHNlbGVjdGVkSXRlbXNOb2RlLmRpc3BhdGNoRXZlbnQoZXZlbnRzLmNoYW5nZV9ldmVudCgpKTtcbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgICRzZWxlY3RlZEl0ZW1zO1xuICAgICAgICBpZiAoJHNlbGVjdGVkSXRlbXMubGVuZ3RoIHx8ICFpbml0aWFsaXppbmcpIHtcbiAgICAgICAgICAgIHNldE5vZGVWYWx1ZShzZWxlY3RlZFVpZHNGcm9tU2VsZWN0ZWRJdGVtcygpKTtcbiAgICAgICAgICAgIGluaXRpYWxpemVTb3J0aW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG48L3NjcmlwdD5cblxuPGRpdlxuICAgIGNsYXNzPVwiY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zLXdyYXBwZXJcIlxuICAgIHN0eWxlPVwid2lkdGg6IHskY29uZmlnLndpZHRoIHx8ICdhdXRvJ31cIlxuICAgIGJpbmQ6dGhpcz17cmVmfVxuPlxuICAgIDwhLS0gc3ZlbHRlLWlnbm9yZSBhMTF5LWNsaWNrLWV2ZW50cy1oYXZlLWtleS1ldmVudHMgLS0+XG4gICAgPCEtLSBzdmVsdGUtaWdub3JlIGExMXktbm8tc3RhdGljLWVsZW1lbnQtaW50ZXJhY3Rpb25zIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXNcIlxuICAgICAgICAgb246Y2xpY2s9eygpID0+ICRzaG93Q29udGVudEJyb3dzZXIgPSAkc2VsZWN0ZWRJdGVtcy5sZW5ndGggPyBmYWxzZSA6IHRydWUgfT5cbiAgICAgICAgeyNpZiAkc2VsZWN0ZWRJdGVtc31cbiAgICAgICAgICAgIHsjZWFjaCAkc2VsZWN0ZWRJdGVtcyBhcyBzZWxJdGVtLCBpIChzZWxJdGVtLlVJRCl9XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInNlbGVjdGVkLWl0ZW1cIlxuICAgICAgICAgICAgICAgICAgICBhbmltYXRlOmZsaXA9e3sgZHVyYXRpb246IDUwMCB9fVxuICAgICAgICAgICAgICAgICAgICBkYXRhLXV1aWQ9e3NlbEl0ZW0uVUlEfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW0taW5mb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1saW5rIGJ0bi1zbSBsaW5rLXNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8c3RvcFByb3BhZ2F0aW9uPXsoKSA9PiB1bnNlbGVjdEl0ZW0oaSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcIngtY2lyY2xlXCIgfX0gLz48L2J1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj57c2VsSXRlbS5UaXRsZX08L3NwYW4+PGJyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzbWFsbFwiPntzZWxJdGVtLnBhdGh9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7I2lmIHNlbEl0ZW0uZ2V0VVJMICYmIChzZWxJdGVtLmdldEljb24gfHwgc2VsSXRlbS5wb3J0YWxfdHlwZSA9PT0gXCJJbWFnZVwiKX08aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwie3NlbEl0ZW0uZ2V0VVJMfS9AQGltYWdlcy9pbWFnZS9taW5pXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e3NlbEl0ZW0uVGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPnsvaWZ9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgIHsvaWZ9XG4gICAgICAgIHsjaWYgISRzZWxlY3RlZEl0ZW1zfVxuICAgICAgICAgICAgPHA+e190KFwibG9hZGluZyBzZWxlY3RlZCBpdGVtc1wiKX08L3A+XG4gICAgICAgIHsvaWZ9XG4gICAgPC9kaXY+XG4gICAgPCEtLSBzdmVsdGUtaWdub3JlIGExMXktaW52YWxpZC1hdHRyaWJ1dGUgLS0+XG4gICAgPGFcbiAgICAgICAgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBocmVmPVwiI1wiXG4gICAgICAgIHN0eWxlPVwiYm9yZGVyLXJhZGl1czowIHZhcigtLWJzLWJvcmRlci1yYWRpdXMpIHZhcigtLWJzLWJvcmRlci1yYWRpdXMpIDBcIlxuICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT4gKCRzaG93Q29udGVudEJyb3dzZXIgPSB0cnVlKX1cbiAgICAgICAgPntfdChcIlNlbGVjdFwiKX08L2FcbiAgICA+XG48L2Rpdj5cblxuPHN0eWxlPlxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMtd3JhcHBlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdGFydDtcbiAgICB9XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcyB7XG4gICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJzLWJvZHktYmcpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1icy1ib3JkZXItcmFkaXVzKSAwIDAgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cyk7XG4gICAgICAgIGJvcmRlcjogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItY29sb3IpIHZhcigtLWJzLWJvcmRlci13aWR0aCk7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDIuNHJlbTtcbiAgICAgICAgcGFkZGluZzogMC41cmVtIDAuNXJlbSAwIDAuNXJlbTtcbiAgICAgICAgZmxleDogMSAxIGF1dG87XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMgLnNlbGVjdGVkLWl0ZW0ge1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1icy1ib3JkZXItcmFkaXVzKTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtdGVydGlhcnktYmcpO1xuICAgICAgICBib3JkZXI6IHZhcigtLWJzLWJvcmRlci1zdHlsZSkgdmFyKC0tYnMtYm9yZGVyLWNvbG9yKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpO1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC13cmFwOiBub3dyYXA7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdGFydDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBjdXJzb3I6IG1vdmU7XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMgLnNlbGVjdGVkLWl0ZW0gPiAqIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAuY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zIC5zZWxlY3RlZC1pdGVtIGJ1dHRvbiB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgcGFkZGluZzogMCAwLjM3NXJlbSAwLjM3NHJlbSAwO1xuICAgIH1cbiAgICAuY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zIC5zZWxlY3RlZC1pdGVtIC5pdGVtLWluZm8ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogc3RhcnQ7XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMgLnNlbGVjdGVkLWl0ZW0gPiBpbWcge1xuICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgICAgd2lkdGg6IDk1cHg7XG4gICAgICAgIGhlaWdodDogOTVweDtcbiAgICB9XG48L3N0eWxlPlxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdKSSxpRkFBd0MsQ0FDcEMsT0FBTyxDQUFFLElBQUksQ0FDYixXQUFXLENBQUUsS0FDakIsQ0FDQSx5RUFBZ0MsQ0FDNUIsVUFBVSxDQUFFLElBQUksQ0FDaEIsZ0JBQWdCLENBQUUsSUFBSSxZQUFZLENBQUMsQ0FDbkMsYUFBYSxDQUFFLElBQUksa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksa0JBQWtCLENBQUMsQ0FDbEUsTUFBTSxDQUFFLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxDQUM1RSxVQUFVLENBQUUsTUFBTSxDQUNsQixPQUFPLENBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUMvQixJQUFJLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUNkLENBQ0EsNkNBQStCLENBQUMsMENBQWUsQ0FDM0MsYUFBYSxDQUFFLElBQUksa0JBQWtCLENBQUMsQ0FDdEMsZ0JBQWdCLENBQUUsSUFBSSxnQkFBZ0IsQ0FBQyxDQUN2QyxNQUFNLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQzVFLE9BQU8sQ0FBRSxNQUFNLENBQ2YsYUFBYSxDQUFFLE1BQU0sQ0FDckIsT0FBTyxDQUFFLElBQUksQ0FDYixTQUFTLENBQUUsTUFBTSxDQUNqQixXQUFXLENBQUUsS0FBSyxDQUNsQixlQUFlLENBQUUsYUFBYSxDQUM5QixNQUFNLENBQUUsSUFDWixDQUNBLDZDQUErQixDQUFDLDRCQUFjLENBQUcsY0FBRSxDQUMvQyxZQUFZLENBQUUsTUFBTSxDQUNwQixPQUFPLENBQUUsS0FDYixDQUNBLDZDQUErQixDQUFDLGNBQWMsQ0FBQyxrQ0FBTyxDQUNsRCxNQUFNLENBQUUsT0FBTyxDQUNmLE9BQU8sQ0FBRSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUNqQyxDQUNBLDZDQUErQixDQUFDLGNBQWMsQ0FBQyxzQ0FBVyxDQUN0RCxPQUFPLENBQUUsSUFBSSxDQUNiLFdBQVcsQ0FBRSxLQUNqQixDQUNBLDZDQUErQixDQUFDLDRCQUFjLENBQUcsaUJBQUksQ0FDakQsVUFBVSxDQUFFLEtBQUssQ0FDakIsS0FBSyxDQUFFLElBQUksQ0FDWCxNQUFNLENBQUUsSUFDWiJ9*/"],sourceRoot:""}]),I.A=l},76314:function(g){"use strict";g.exports=function(g){var I=[];return I.toString=function(){return this.map((function(I){var A="",C=void 0!==I[5];return I[4]&&(A+="@supports (".concat(I[4],") {")),I[2]&&(A+="@media ".concat(I[2]," {")),C&&(A+="@layer".concat(I[5].length>0?" ".concat(I[5]):""," {")),A+=g(I),C&&(A+="}"),I[2]&&(A+="}"),I[4]&&(A+="}"),A})).join("")},I.i=function(g,A,C,e,t){"string"==typeof g&&(g=[[null,g,void 0]]);var l={};if(C)for(var c=0;c<this.length;c++){var n=this[c][0];null!=n&&(l[n]=!0)}for(var s=0;s<g.length;s++){var i=[].concat(g[s]);C&&l[i[0]]||(void 0!==t&&(void 0===i[5]||(i[1]="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {").concat(i[1],"}")),i[5]=t),A&&(i[2]?(i[1]="@media ".concat(i[2]," {").concat(i[1],"}"),i[2]=A):i[2]=A),e&&(i[4]?(i[1]="@supports (".concat(i[4],") {").concat(i[1],"}"),i[4]=e):i[4]="".concat(e)),I.push(i))}},I}},71354:function(g){"use strict";g.exports=function(g){var I=g[1],A=g[3];if(!A)return I;if("function"==typeof btoa){var C=btoa(unescape(encodeURIComponent(JSON.stringify(A)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(C),t="/*# ".concat(e," */");return[I].concat([t]).join("\n")}return[I].join("\n")}},85072:function(g){"use strict";var I=[];function A(g){for(var A=-1,C=0;C<I.length;C++)if(I[C].identifier===g){A=C;break}return A}function C(g,C){for(var t={},l=[],c=0;c<g.length;c++){var n=g[c],s=C.base?n[0]+C.base:n[0],i=t[s]||0,o="".concat(s," ").concat(i);t[s]=i+1;var r=A(o),a={css:n[1],media:n[2],sourceMap:n[3],supports:n[4],layer:n[5]};if(-1!==r)I[r].references++,I[r].updater(a);else{var d=e(a,C);C.byIndex=c,I.splice(c,0,{identifier:o,updater:d,references:1})}l.push(o)}return l}function e(g,I){var A=I.domAPI(I);A.update(g);return function(I){if(I){if(I.css===g.css&&I.media===g.media&&I.sourceMap===g.sourceMap&&I.supports===g.supports&&I.layer===g.layer)return;A.update(g=I)}else A.remove()}}g.exports=function(g,e){var t=C(g=g||[],e=e||{});return function(g){g=g||[];for(var l=0;l<t.length;l++){var c=A(t[l]);I[c].references--}for(var n=C(g,e),s=0;s<t.length;s++){var i=A(t[s]);0===I[i].references&&(I[i].updater(),I.splice(i,1))}t=n}}},10540:function(g){"use strict";g.exports=function(g){var I=document.createElement("style");return g.setAttributes(I,g.attributes),g.insert(I,g.options),I}},55056:function(g,I,A){"use strict";g.exports=function(g){var I=A.nc;I&&g.setAttribute("nonce",I)}},97825:function(g){"use strict";g.exports=function(g){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var I=g.insertStyleElement(g);return{update:function(A){!function(g,I,A){var C="";A.supports&&(C+="@supports (".concat(A.supports,") {")),A.media&&(C+="@media ".concat(A.media," {"));var e=void 0!==A.layer;e&&(C+="@layer".concat(A.layer.length>0?" ".concat(A.layer):""," {")),C+=A.css,e&&(C+="}"),A.media&&(C+="}"),A.supports&&(C+="}");var t=A.sourceMap;t&&"undefined"!=typeof btoa&&(C+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(t))))," */")),I.styleTagTransform(C,g,I.options)}(I,g,A)},remove:function(){!function(g){if(null===g.parentNode)return!1;g.parentNode.removeChild(g)}(I)}}}},41113:function(g){"use strict";g.exports=function(g,I){if(I.styleSheet)I.styleSheet.cssText=g;else{for(;I.firstChild;)I.removeChild(I.firstChild);I.appendChild(document.createTextNode(g))}}},58440:function(g,I,A){"use strict";function C(){}A.r(I),A.d(I,{default:function(){return XA}});const e=g=>g;function t(g){return g()}function l(){return Object.create(null)}function c(g){g.forEach(t)}function n(g){return"function"==typeof g}function s(g,I){return g!=g?I==I:g!==I||g&&"object"==typeof g||"function"==typeof g}let i;function o(g,I){return g===I||(i||(i=document.createElement("a")),i.href=I,g===i.href)}function r(g,...I){if(null==g){for(const g of I)g(void 0);return C}const A=g.subscribe(...I);return A.unsubscribe?()=>A.unsubscribe():A}function a(g){let I;return r(g,(g=>I=g))(),I}function d(g,I,A){g.$$.on_destroy.push(r(I,A))}function b(g,I,A){return g.set(A),I}function u(g){return g&&n(g.destroy)?g.destroy:C}function G(g){const I="string"==typeof g&&g.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return I?[parseFloat(I[1]),I[2]||"px"]:[g,"px"]}const m="undefined"!=typeof window;let p=m?()=>window.performance.now():()=>Date.now(),Z=m?g=>requestAnimationFrame(g):C;const x=new Set;function X(g){x.forEach((I=>{I.c(g)||(x.delete(I),I.f())})),0!==x.size&&Z(X)}function B(g){let I;return 0===x.size&&Z(X),{promise:new Promise((A=>{x.add(I={c:g,f:A})})),abort(){x.delete(I)}}}const y="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;class V{_listeners="WeakMap"in y?new WeakMap:void 0;_observer=void 0;options;constructor(g){this.options=g}observe(g,I){return this._listeners.set(g,I),this._getObserver().observe(g,this.options),()=>{this._listeners.delete(g),this._observer.unobserve(g)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver((g=>{for(const I of g)V.entries.set(I.target,I),this._listeners.get(I.target)?.(I)})))}}V.entries="WeakMap"in y?new WeakMap:void 0;let h=!1;function v(g,I){g.appendChild(I)}function W(g){if(!g)return document;const I=g.getRootNode?g.getRootNode():g.ownerDocument;return I&&I.host?I:g.ownerDocument}function f(g){const I=Y("style");return I.textContent="/* empty */",Q(W(g),I),I.sheet}function Q(g,I){return v(g.head||g,I),I.sheet}function F(g,I,A){g.insertBefore(I,A||null)}function U(g){g.parentNode&&g.parentNode.removeChild(g)}function N(g,I){for(let A=0;A<g.length;A+=1)g[A]&&g[A].d(I)}function Y(g){return document.createElement(g)}function R(g){return document.createElementNS("http://www.w3.org/2000/svg",g)}function w(g){return document.createTextNode(g)}function L(){return w(" ")}function j(){return w("")}function J(g,I,A,C){return g.addEventListener(I,A,C),()=>g.removeEventListener(I,A,C)}function S(g){return function(I){return I.preventDefault(),g.call(this,I)}}function k(g,I,A){null==A?g.removeAttribute(I):g.getAttribute(I)!==A&&g.setAttribute(I,A)}function D(g,I){I=""+I,g.data!==I&&(g.data=I)}function H(g,I,A,C){null==A?g.style.removeProperty(I):g.style.setProperty(I,A,C?"important":"")}function E(g,I,{bubbles:A=!1,cancelable:C=!1}={}){return new CustomEvent(g,{detail:I,bubbles:A,cancelable:C})}const z=new Map;let T,$=0;function P(g,I,A,C,e,t,l,c=0){const n=16.666/C;let s="{\n";for(let g=0;g<=1;g+=n){const C=I+(A-I)*t(g);s+=100*g+`%{${l(C,1-C)}}\n`}const i=s+`100% {${l(A,1-A)}}\n}`,o=`__svelte_${function(g){let I=5381,A=g.length;for(;A--;)I=(I<<5)-I^g.charCodeAt(A);return I>>>0}(i)}_${c}`,r=W(g),{stylesheet:a,rules:d}=z.get(r)||function(g,I){const A={stylesheet:f(I),rules:{}};return z.set(g,A),A}(r,g);d[o]||(d[o]=!0,a.insertRule(`@keyframes ${o} ${i}`,a.cssRules.length));const b=g.style.animation||"";return g.style.animation=`${b?`${b}, `:""}${o} ${C}ms linear ${e}ms 1 both`,$+=1,o}function M(g,I){const A=(g.style.animation||"").split(", "),C=A.filter(I?g=>g.indexOf(I)<0:g=>-1===g.indexOf("__svelte")),e=A.length-C.length;e&&(g.style.animation=C.join(", "),$-=e,$||Z((()=>{$||(z.forEach((g=>{const{ownerNode:I}=g.stylesheet;I&&U(I)})),z.clear())})))}function q(g){const I=getComputedStyle(g);if("absolute"!==I.position&&"fixed"!==I.position){const{width:A,height:C}=I,e=g.getBoundingClientRect();g.style.position="absolute",g.style.width=A,g.style.height=C,function(g,I){const A=g.getBoundingClientRect();if(I.left!==A.left||I.top!==A.top){const C=getComputedStyle(g),e="none"===C.transform?"":C.transform;g.style.transform=`${e} translate(${I.left-A.left}px, ${I.top-A.top}px)`}}(g,e)}}function O(g){T=g}function K(){if(!T)throw new Error("Function called outside component initialization");return T}function _(){const g=K();return(I,A,{cancelable:C=!1}={})=>{const e=g.$$.callbacks[I];if(e){const t=E(I,A,{cancelable:C});return e.slice().forEach((I=>{I.call(g,t)})),!t.defaultPrevented}return!0}}function gg(g,I){return K().$$.context.set(g,I),I}function Ig(g){return K().$$.context.get(g)}const Ag=[],Cg=[];let eg=[];const tg=[],lg=Promise.resolve();let cg=!1;function ng(){cg||(cg=!0,lg.then(ag))}function sg(g){eg.push(g)}const ig=new Set;let og,rg=0;function ag(){if(0!==rg)return;const g=T;do{try{for(;rg<Ag.length;){const g=Ag[rg];rg++,O(g),dg(g.$$)}}catch(g){throw Ag.length=0,rg=0,g}for(O(null),Ag.length=0,rg=0;Cg.length;)Cg.pop()();for(let g=0;g<eg.length;g+=1){const I=eg[g];ig.has(I)||(ig.add(I),I())}eg.length=0}while(Ag.length);for(;tg.length;)tg.pop()();cg=!1,ig.clear(),O(g)}function dg(g){if(null!==g.fragment){g.update(),c(g.before_update);const I=g.dirty;g.dirty=[-1],g.fragment&&g.fragment.p(g.ctx,I),g.after_update.forEach(sg)}}function bg(){return og||(og=Promise.resolve(),og.then((()=>{og=null}))),og}function ug(g,I,A){g.dispatchEvent(E(`${I?"intro":"outro"}${A}`))}const Gg=new Set;let mg;function pg(){mg={r:0,c:[],p:mg}}function Zg(){mg.r||c(mg.c),mg=mg.p}function xg(g,I){g&&g.i&&(Gg.delete(g),g.i(I))}function Xg(g,I,A,C){if(g&&g.o){if(Gg.has(g))return;Gg.add(g),mg.c.push((()=>{Gg.delete(g),C&&(A&&g.d(1),C())})),g.o(I)}else C&&C()}const Bg={duration:0};function yg(g,I,A,t){let l,s=I(g,A,{direction:"both"}),i=t?0:1,o=null,r=null,a=null;function d(){a&&M(g,a)}function b(g,I){const A=g.b-i;return I*=Math.abs(A),{a:i,b:g.b,d:A,duration:I,start:g.start,end:g.start+I,group:g.group}}function u(I){const{delay:A=0,duration:t=300,easing:n=e,tick:u=C,css:G}=s||Bg,m={start:p()+A,b:I};I||(m.group=mg,mg.r+=1),"inert"in g&&(I?void 0!==l&&(g.inert=l):(l=g.inert,g.inert=!0)),o||r?r=m:(G&&(d(),a=P(g,i,I,t,A,n,G)),I&&u(0,1),o=b(m,t),sg((()=>ug(g,I,"start"))),B((I=>{if(r&&I>r.start&&(o=b(r,t),r=null,ug(g,o.b,"start"),G&&(d(),a=P(g,i,o.b,o.duration,0,n,s.css))),o)if(I>=o.end)u(i=o.b,1-i),ug(g,o.b,"end"),r||(o.b?d():--o.group.r||c(o.group.c)),o=null;else if(I>=o.start){const g=I-o.start;i=o.a+o.d*n(g/o.duration),u(i,1-i)}return!(!o&&!r)})))}return{run(g){n(s)?bg().then((()=>{s=s({direction:g?"in":"out"}),u(g)})):u(g)},end(){d(),o=r=null}}}function Vg(g,I){const A=I.token={};function C(g,C,e,t){if(I.token!==A)return;I.resolved=t;let l=I.ctx;void 0!==e&&(l=l.slice(),l[e]=t);const c=g&&(I.current=g)(l);let n=!1;I.block&&(I.blocks?I.blocks.forEach(((g,A)=>{A!==C&&g&&(pg(),Xg(g,1,1,(()=>{I.blocks[A]===g&&(I.blocks[A]=null)})),Zg())})):I.block.d(1),c.c(),xg(c,1),c.m(I.mount(),I.anchor),n=!0),I.block=c,I.blocks&&(I.blocks[C]=c),n&&ag()}if(!(e=g)||"object"!=typeof e&&"function"!=typeof e||"function"!=typeof e.then){if(I.current!==I.then)return C(I.then,1,I.value,g),!0;I.resolved=g}else{const A=K();if(g.then((g=>{O(A),C(I.then,1,I.value,g),O(null)}),(g=>{if(O(A),C(I.catch,2,I.error,g),O(null),!I.hasCatch)throw g})),I.current!==I.pending)return C(I.pending,0),!0}var e}function hg(g){return void 0!==g?.length?g:Array.from(g)}function vg(g,I){g.d(1),I.delete(g.key)}function Wg(g,I){g.f(),vg(g,I)}function fg(g,I,A,C,e,t,l,n,s,i,o,r){let a=g.length,d=t.length,b=a;const u={};for(;b--;)u[g[b].key]=b;const G=[],m=new Map,p=new Map,Z=[];for(b=d;b--;){const g=r(e,t,b),c=A(g);let n=l.get(c);n?C&&Z.push((()=>n.p(g,I))):(n=i(c,g),n.c()),m.set(c,G[b]=n),c in u&&p.set(c,Math.abs(b-u[c]))}const x=new Set,X=new Set;function B(g){xg(g,1),g.m(n,o),l.set(g.key,g),o=g.first,d--}for(;a&&d;){const I=G[d-1],A=g[a-1],C=I.key,e=A.key;I===A?(o=I.first,a--,d--):m.has(e)?!l.has(C)||x.has(C)?B(I):X.has(e)?a--:p.get(C)>p.get(e)?(X.add(C),B(I)):(x.add(e),a--):(s(A,l),a--)}for(;a--;){const I=g[a];m.has(I.key)||s(I,l)}for(;d;)B(G[d-1]);return c(Z),G}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let Qg;function Fg(g){g&&g.c()}function Ug(g,I,A){const{fragment:C,after_update:e}=g.$$;C&&C.m(I,A),sg((()=>{const I=g.$$.on_mount.map(t).filter(n);g.$$.on_destroy?g.$$.on_destroy.push(...I):c(I),g.$$.on_mount=[]})),e.forEach(sg)}function Ng(g,I){const A=g.$$;null!==A.fragment&&(!function(g){const I=[],A=[];eg.forEach((C=>-1===g.indexOf(C)?I.push(C):A.push(C))),A.forEach((g=>g())),eg=I}(A.after_update),c(A.on_destroy),A.fragment&&A.fragment.d(I),A.on_destroy=A.fragment=null,A.ctx=[])}function Yg(g,I,A,e,t,n,s=null,i=[-1]){const o=T;O(g);const r=g.$$={fragment:null,ctx:[],props:n,update:C,not_equal:t,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(I.context||(o?o.$$.context:[])),callbacks:l(),dirty:i,skip_bound:!1,root:I.target||o.$$.root};s&&s(r.root);let a=!1;if(r.ctx=A?A(g,I.props||{},((I,A,...C)=>{const e=C.length?C[0]:A;return r.ctx&&t(r.ctx[I],r.ctx[I]=e)&&(!r.skip_bound&&r.bound[I]&&r.bound[I](e),a&&function(g,I){-1===g.$$.dirty[0]&&(Ag.push(g),ng(),g.$$.dirty.fill(0)),g.$$.dirty[I/31|0]|=1<<I%31}(g,I)),A})):[],r.update(),a=!0,c(r.before_update),r.fragment=!!e&&e(r.ctx),I.target){if(I.hydrate){h=!0;const g=(d=I.target,Array.from(d.childNodes));r.fragment&&r.fragment.l(g),g.forEach(U)}else r.fragment&&r.fragment.c();I.intro&&xg(g.$$.fragment),Ug(g,I.target,I.anchor),h=!1,ag()}var d;O(o)}function Rg(g,I,A,C){const e=A[g]?.type;if(I="Boolean"===e&&"boolean"!=typeof I?null!=I:I,!C||!A[g])return I;if("toAttribute"===C)switch(e){case"Object":case"Array":return null==I?null:JSON.stringify(I);case"Boolean":return I?"":null;case"Number":return null==I?null:I;default:return I}else switch(e){case"Object":case"Array":return I&&JSON.parse(I);case"Boolean":default:return I;case"Number":return null!=I?+I:I}}"function"==typeof HTMLElement&&(Qg=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;constructor(g,I,A){super(),this.$$ctor=g,this.$$s=I,A&&this.attachShadow({mode:"open"})}addEventListener(g,I,A){if(this.$$l[g]=this.$$l[g]||[],this.$$l[g].push(I),this.$$c){const A=this.$$c.$on(g,I);this.$$l_u.set(I,A)}super.addEventListener(g,I,A)}removeEventListener(g,I,A){if(super.removeEventListener(g,I,A),this.$$c){const g=this.$$l_u.get(I);g&&(g(),this.$$l_u.delete(I))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn||this.$$c)return;function g(g){return()=>{let I;return{c:function(){I=Y("slot"),"default"!==g&&k(I,"name",g)},m:function(g,A){F(g,I,A)},d:function(g){g&&U(I)}}}}const I={},A=function(g){const I={};return g.childNodes.forEach((g=>{I[g.slot||"default"]=!0})),I}(this);for(const e of this.$$s)e in A&&(I[e]=[g(e)]);for(const t of this.attributes){const l=this.$$g_p(t.name);l in this.$$d||(this.$$d[l]=Rg(l,t.value,this.$$p_d,"toProp"))}for(const c in this.$$p_d)c in this.$$d||void 0===this[c]||(this.$$d[c]=this[c],delete this[c]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:I,$$scope:{ctx:[]}}});const C=()=>{this.$$r=!0;for(const g in this.$$p_d)if(this.$$d[g]=this.$$c.$$.ctx[this.$$c.$$.props[g]],this.$$p_d[g].reflect){const I=Rg(g,this.$$d[g],this.$$p_d,"toAttribute");null==I?this.removeAttribute(this.$$p_d[g].attribute||g):this.setAttribute(this.$$p_d[g].attribute||g,I)}this.$$r=!1};this.$$c.$$.after_update.push(C),C();for(const n in this.$$l)for(const s of this.$$l[n]){const i=this.$$c.$on(n,s);this.$$l_u.set(s,i)}this.$$l={}}}attributeChangedCallback(g,I,A){this.$$r||(g=this.$$g_p(g),this.$$d[g]=Rg(g,A,this.$$p_d,"toProp"),this.$$c?.$set({[g]:this.$$d[g]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)}))}$$g_p(g){return Object.keys(this.$$p_d).find((I=>this.$$p_d[I].attribute===g||!this.$$p_d[I].attribute&&I.toLowerCase()===g))||g}});class wg{$$=void 0;$$set=void 0;$destroy(){Ng(this,1),this.$destroy=C}$on(g,I){if(!n(I))return C;const A=this.$$.callbacks[g]||(this.$$.callbacks[g]=[]);return A.push(I),()=>{const g=A.indexOf(I);-1!==g&&A.splice(g,1)}}$set(g){var I;this.$$set&&(I=g,0!==Object.keys(I).length)&&(this.$$.skip_bound=!0,this.$$set(g),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var Lg=A(23505),jg=A(8633);function Jg(g){const I=g-1;return I*I*I+1}var Sg={$(g){return"string"==typeof g?document.querySelector(g):g},extend(...g){return Object.assign(...g)},cumulativeOffset(g){let I=0,A=0;do{I+=g.offsetTop||0,A+=g.offsetLeft||0,g=g.offsetParent}while(g);return{top:I,left:A}},directScroll(g){return g&&g!==document&&g!==document.body},scrollTop(g,I){let A=void 0!==I;return this.directScroll(g)?A?g.scrollTop=I:g.scrollTop:A?document.documentElement.scrollTop=document.body.scrollTop=I:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},scrollLeft(g,I){let A=void 0!==I;return this.directScroll(g)?A?g.scrollLeft=I:g.scrollLeft:A?document.documentElement.scrollLeft=document.body.scrollLeft=I:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}};const kg={container:"body",duration:500,delay:0,offset:0,easing:function(g){return g<.5?4*g*g*g:.5*Math.pow(2*g-2,3)+1},onStart:C,onDone:C,onAborting:C,scrollX:!1,scrollY:!0},Dg=g=>{let{offset:I,duration:A,delay:C,easing:e,x:t=0,y:l=0,scrollX:c,scrollY:n,onStart:s,onDone:i,container:o,onAborting:r,element:a}=g;"function"==typeof I&&(I=I());var d=Sg.cumulativeOffset(o),b=a?Sg.cumulativeOffset(a):{top:l,left:t},u=Sg.scrollLeft(o),G=Sg.scrollTop(o),m=b.left-d.left+I,Z=b.top-d.top+I,x=m-u,X=Z-G;let y=!0,V=!1,h=p()+C,v=h+A;function W(g){g||(V=!0,s(a,{x:t,y:l}))}function f(g){!function(g,I,A){c&&Sg.scrollLeft(g,A),n&&Sg.scrollTop(g,I)}(o,G+X*g,u+x*g)}function Q(){y=!1}return B((g=>{if(!V&&g>=h&&W(!1),V&&g>=v&&(f(1),Q(),i(a,{x:t,y:l})),!y)return r(a,{x:t,y:l}),!1;if(V){f(0+1*e((g-h)/A))}return!0})),W(C),f(0),Q},Hg=g=>{let I=Sg.extend({},kg,g);return I.container=Sg.$(I.container),I.element=Sg.$(I.element),I},Eg=g=>{if(g&&g!==document&&g!==document.body)return g.scrollHeight-g.offsetHeight;{let g=document.body,I=document.documentElement;return Math.max(g.scrollHeight,g.offsetHeight,I.clientHeight,I.scrollHeight,I.offsetHeight)}},zg=g=>Dg(Hg(g)),Tg=g=>(I,A)=>{let C=A;const e=I=>{I.preventDefault(),g("string"==typeof C?{element:C}:C)};return I.addEventListener("click",e),I.addEventListener("touchstart",e),{update(g){C=g},destroy(){I.removeEventListener("click",e),I.removeEventListener("touchstart",e)}}};Tg(zg),Tg((g=>(g=Hg(g),Dg(Sg.extend(g,{element:null,y:0}))))),Tg((g=>(g=Hg(g),Dg(Sg.extend(g,{element:null,y:Eg(g.container)})))));function $g(g,{delay:I=0,duration:A=400,easing:C=Jg,x:e=0,y:t=0,opacity:l=0}={}){const c=getComputedStyle(g),n=+c.opacity,s="none"===c.transform?"":c.transform,i=n*(1-l),[o,r]=G(e),[a,d]=G(t);return{delay:I,duration:A,easing:C,css:(g,I)=>`\n\t\t\ttransform: ${s} translate(${(1-g)*o}${r}, ${(1-g)*a}${d});\n\t\t\topacity: ${n-i*I}`}}var Pg=A(20681),Mg=A(98146);const qg=[];function Og(g,I=C){let A;const e=new Set;function t(I){if(s(g,I)&&(g=I,A)){const I=!qg.length;for(const I of e)I[1](),qg.push(I,g);if(I){for(let g=0;g<qg.length;g+=2)qg[g][0](qg[g+1]);qg.length=0}}}function l(I){t(I(g))}return{set:t,update:l,subscribe:function(c,n=C){const s=[c,n];return e.add(s),1===e.size&&(A=I(t,l)||C),c(g),()=>{e.delete(s),0===e.size&&A&&(A(),A=null)}}}}var Kg=A(59994);async function _g(g){let{method:I="GET",vocabularyUrl:A=null,attributes:C=[],path:e=null,uids:t=null,searchTerm:l=null,searchPath:c=null,levelInfoPath:n=null,selectableTypes:s=[],pageSize:i=100,page:o=1}=g,r={criteria:[]};if(e&&(r={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${e}::1`}],sort_on:"getObjPositionInParent",sort_order:"ascending"}),n&&(r={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${n}::0`}]}),c&&(r={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:c}]},s.length&&r.criteria.push({i:"portal_type",o:"plone.app.querystring.operation.list.contains",v:s})),t&&(r={criteria:[{i:"UID",o:"plone.app.querystring.operation.list.contains",v:t}]}),l&&r.criteria.push({i:"SearchableText",o:"plone.app.querystring.operation.string.contains",v:`${l}`}),!r.criteria.length)return{results:[],total:0};let a=`${A}${-1!==A.indexOf("?")?"&":"?"}query=${JSON.stringify(r)}&attributes=${JSON.stringify(C)}&batch=${JSON.stringify({page:o,size:i})}`,d=new Headers;d.set("Accept","application/json");const b=await fetch(a,{method:I,headers:d});if(!b.ok)return{results:[],total:0,errors:u.errors};const u=await b.json();if(!c&&!n&&s.length){const g={results:[],total:u.total};for(const I of u.results)(-1!=s.indexOf(I.portal_type)||I.is_folderish)&&g.results.push(I);return g}return u}async function gI(g,I){if(!g)return[];const A=await _g({vocabularyUrl:I.vocabularyUrl,attributes:I.attributes,uids:g});let C=await(A?.results)||[];return C.sort(((I,A)=>g.indexOf(I.UID)-g.indexOf(A.UID))),C}async function II(g,I){let{iconName:A}=I;const C=await async function(g){return await Kg.A.resolveIcon(g)}(A);return g.outerHTML=C,{destroy(){}}}function AI(g){const I=I=>{g&&!g.contains(I.target)&&g.dispatchEvent(new CustomEvent("click_outside",g))};return document.addEventListener("click",I,!0),{destroy(){document.removeEventListener("click",I,!0)}}}function CI(g,I){let A=Kg.A.storage.get(I.recentlyUsedKey)||[];A=A.slice(A.length-1e3,A.length),g&&I?.selectableTypes.length&&(A=A.filter((g=>-1!=I.selectableTypes.indexOf(g.portal_type))));const C=parseInt(I.recentlyUsedMaxItems,20);return C&&(A=A.slice(A.length-C,A.length)),A}function eI(g,I){const A=Og([]),C=async I=>(I={...{vocabularyUrl:g.vocabularyUrl,attributes:g.attributes,pageSize:g.pageSize},...I},g.selectableTypes.length&&(I.selectableTypes=g.selectableTypes),await _g(I));return A.get=async e=>{let{path:t="",searchTerm:l="",updateCache:c=!1,loadMorePath:n="",page:s=1}=e;if("search"===g.mode)await(async(I,e)=>{let t={searchPath:g.rootPath,page:e};if(I){if(I.length<2)return;t.searchTerm="*"+I+"*"}let l=await C(t);l.page=e,l.searchTerm=I,A.update((A=>{const C=e*g.pageSize<l.total;return 0==A.length||A[0].searchTerm!=I?(l.more=C,l.selectable=!1,l.gridView=!1,[l]):(A[0].more=C,A[0].page=l.page,A[0].results=[...A[0].results,...l.results],A)}))})(l,s);else if(n){const e=a(I);if(!(n in e))return;let t=e[n];s>t.page&&await(async(I,e,t)=>{let l={path:I,page:e};t&&(l.searchTerm="*"+t+"*");let c=await C(l);c.more=e*g.pageSize<c.total,c.page=e,A.update((g=>(g.forEach((g=>{if(g.path!=I)return g;g.page=c.page,g.more=c.more,g.results=[...g.results,...c.results]})),g)))})(n,s,t.searchTerm)}else t&&await(async(e,t,l)=>{let c=g.rootPath,n=c.replace(/^\/+/,"").split("/"),s=e,i=c;if(!s.startsWith(c))if(1===n.length)s=c+s;else{let g=s.replace(/^\/+/,"").split("/"),I=n.length;for(let A=0;A<n.length;A++)if(n[A]===g[0]){I=A;break}i="/"+n.filter((I=>g.includes(I))).join("/"),s="/"+n.slice(1,I).concat(g).join("/")}let o=[],r=s.split("/")||[];const d=Math.min(r.length,g.maxDepth||999);let b=r.slice(r.length-d,r.length);const u=r.slice(0,r.length-d).join("/");for(;b.length>0;){let g=b.join("/").replace(/^\//,"");if(g=u+(""!=b.pop()?`/${g}`:""),g&&-1===o.indexOf(g)&&o.push(g),g==c)break}const G=a(I);let m=[],p=0;for(var Z of o){p++;const A=1==p;let e={};if(!(Z in G)||A&&t||l){let l={path:Z};if(A&&t&&(l.searchTerm="*"+t+"*"),e=await C(l),e.more=g.pageSize<e.total,e.searchTerm=t,e.page=1,e.path=Z,e.displayPath=Z.replace(new RegExp(`^(${i}|${c})`),"")||"/",!t){const A=await C({levelInfoPath:Z});A.total&&(e.UID=A.results[0].UID,e.Title=A.results[0].Title,e.portal_type=A.results[0].portal_type,e.getIcon=A.results[0].getIcon,e.selectable=!g.selectableTypes.length||-1!=g.selectableTypes.indexOf(A.results[0].portal_type)),e.gridView=!1,I.update((g=>(g[Z]=e,g)))}}else e=G[Z];m=[e,...m]}A.set(m)})(t,l,c)},A}function tI(g,I,A){const C=g.slice();return C[5]=I[A],C}function lI(g){let I,A,C,e,t,l,c,n,s,i,o=(0,Pg.Ay)("Favorites")+"",r=hg(g[0].favorites),a=[];for(let I=0;I<r.length;I+=1)a[I]=cI(tI(g,r,I));return{c(){I=Y("div"),A=Y("button"),C=R("svg"),t=L(),l=w(o),c=L(),n=Y("ul");for(let g=0;g<a.length;g+=1)a[g].c();k(A,"type","button"),k(A,"class","favorites dropdown-toggle btn btn-outline-light btn-sm"),k(A,"data-bs-toggle","dropdown"),k(A,"aria-haspopup","true"),k(A,"aria-expanded","false"),k(n,"class","dropdown-menu"),k(I,"class","favorites dropdown dropdown-menu-end ms-2")},m(g,o){F(g,I,o),v(I,A),v(A,C),v(A,t),v(A,l),v(I,c),v(I,n);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(n,null);s||(i=u(e=II.call(null,C,{iconName:"star-fill"})),s=!0)},p(g,I){if(5&I){let A;for(r=hg(g[0].favorites),A=0;A<r.length;A+=1){const C=tI(g,r,A);a[A]?a[A].p(C,I):(a[A]=cI(C),a[A].c(),a[A].m(n,null))}for(;A<a.length;A+=1)a[A].d(1);a.length=r.length}},d(g){g&&U(I),N(a,g),s=!1,i()}}}function cI(g){let I,A,C,e,t,l,c,n=g[5].title+"";function s(){return g[3](g[5])}return{c(){I=Y("li"),A=Y("a"),C=w(n),t=L(),k(A,"class","dropdown-item"),k(A,"href",e=g[5].path)},m(g,e){F(g,I,e),v(I,A),v(A,C),v(I,t),l||(c=J(A,"click",S(s)),l=!0)},p(I,t){g=I,1&t&&n!==(n=g[5].title+"")&&D(C,n),1&t&&e!==(e=g[5].path)&&k(A,"href",e)},d(g){g&&U(I),l=!1,c()}}}function nI(g){let I,A=g[0]?.favorites&&lI(g);return{c(){A&&A.c(),I=j()},m(g,C){A&&A.m(g,C),F(g,I,C)},p(g,[C]){g[0]?.favorites?A?A.p(g,C):(A=lI(g),A.c(),A.m(I.parentNode,I)):A&&(A.d(1),A=null)},i:C,o:C,d(g){g&&U(I),A&&A.d(g)}}}function sI(g,I,A){let C;const e=Ig("config");d(g,e,(g=>A(0,C=g)));const t=_();function l(g){t("selectItem",{item:g})}return[C,e,l,g=>l(g)]}var iI=class extends wg{constructor(g){super(),Yg(this,g,sI,nI,s,{})}};function oI(g,I,A){const C=g.slice();return C[6]=I[A],C}function rI(g){let I,A,C,e,t,l,c,n,s,i,o=(0,Pg.Ay)("Recently Used")+"",r=hg(g[2].reverse()),a=[];for(let I=0;I<r.length;I+=1)a[I]=aI(oI(g,r,I));return{c(){I=Y("div"),A=Y("button"),C=R("svg"),t=L(),l=w(o),c=L(),n=Y("ul");for(let g=0;g<a.length;g+=1)a[g].c();k(A,"type","button"),k(A,"class","recentlyUsed dropdown-toggle btn btn-outline-light btn-sm"),k(A,"data-bs-toggle","dropdown"),k(A,"aria-haspopup","true"),k(A,"aria-expanded","false"),k(n,"class","dropdown-menu"),k(I,"class","recentlyUsed dropdown ms-2")},m(g,o){F(g,I,o),v(I,A),v(A,C),v(A,t),v(A,l),v(I,c),v(I,n);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(n,null);s||(i=u(e=II.call(null,C,{iconName:"grid-fill"})),s=!0)},p(g,I){if(12&I){let A;for(r=hg(g[2].reverse()),A=0;A<r.length;A+=1){const C=oI(g,r,A);a[A]?a[A].p(C,I):(a[A]=aI(C),a[A].c(),a[A].m(n,null))}for(;A<a.length;A+=1)a[A].d(1);a.length=r.length}},d(g){g&&U(I),N(a,g),s=!1,i()}}}function aI(g){let I,A,C,e,t,l,n,s,i,o,r=g[6].Title+"";function a(){return g[4](g[6])}return{c(){I=Y("li"),A=Y("a"),C=R("svg"),t=L(),l=w(r),s=L(),k(A,"href",n=g[6].getURL),k(A,"class","dropdown-item")},m(c,n){F(c,I,n),v(I,A),v(A,C),v(A,t),v(A,l),v(I,s),i||(o=[u(e=II.call(null,C,{iconName:`contenttype/${g[6]?.portal_type.toLowerCase().replace(/\.| /g,"-")}`})),J(A,"click",S(a))],i=!0)},p(I,A){g=I},d(g){g&&U(I),i=!1,c(o)}}}function dI(g){let I,A=g[0].recentlyUsed&&g[2].length&&rI(g);return{c(){A&&A.c(),I=j()},m(g,C){A&&A.m(g,C),F(g,I,C)},p(g,[C]){g[0].recentlyUsed&&g[2].length?A?A.p(g,C):(A=rI(g),A.c(),A.m(I.parentNode,I)):A&&(A.d(1),A=null)},i:C,o:C,d(g){g&&U(I),A&&A.d(g)}}}function bI(g,I,A){let C;const e=Ig("config");d(g,e,(g=>A(0,C=g)));const t=CI(!0,C),l=_();function c(g){l("selectItem",{item:g})}return[C,e,t,c,g=>c(g)]}var uI=class extends wg{constructor(g){super(),Yg(this,g,bI,dI,s,{})}},GI=A(85072),mI=A.n(GI),pI=A(97825),ZI=A.n(pI),xI=A(57722),XI=A.n(xI),BI=A(55056),yI=A.n(BI),VI=A(10540),hI=A.n(VI),vI=A(41113),WI=A.n(vI),fI=A(32),QI={};QI.styleTagTransform=WI(),QI.setAttributes=yI(),QI.insert=XI(),QI.domAPI=ZI(),QI.insertStyleElement=hI();mI()(fI.A,QI),fI.A&&fI.A.locals&&fI.A.locals;function FI(g,I,A){const C=g.slice();return C[48]=I[A],C[49]=I,C[50]=A,C}function UI(g,I,A){const C=g.slice();return C[51]=I[A],C[53]=A,C}function NI(g){let I,A,C,e,t,l,n,s,i,o,r,a,d,b,G,m,p,Z,x,X,B,y,V,h,W;r=new uI({}),r.$on("selectItem",g[22]),d=new iI({}),d.$on("selectItem",g[23]);let f=g[6].uploadEnabled&&YI(g),Q={ctx:g,current:null,token:null,hasCatch:!0,pending:AA,then:wI,catch:RI,value:47,error:54};return Vg(X=g[1],Q),{c(){I=Y("div"),A=Y("nav"),C=Y("div"),e=Y("div"),t=Y("input"),l=L(),n=Y("label"),s=R("svg"),o=L(),Fg(r.$$.fragment),a=L(),Fg(d.$$.fragment),b=L(),f&&f.c(),G=L(),m=Y("button"),p=R("svg"),x=L(),Q.block.c(),k(t,"type","text"),k(t,"name","filter"),k(n,"for","filter"),k(e,"class","filter me-3"),k(m,"class","btn btn-link text-white ms-auto"),k(m,"tabindex","0"),k(C,"class","toolBar navbar svelte-jgy3q8"),k(A,"class","content-browser svelte-jgy3q8"),k(I,"class","content-browser-position-wrapper svelte-jgy3q8")},m(c,X){F(c,I,X),v(I,A),v(A,C),v(C,e),v(e,t),v(e,l),v(e,n),v(n,s),v(C,o),Ug(r,C,null),v(C,a),Ug(d,C,null),v(C,b),f&&f.m(C,null),v(C,G),v(C,m),v(m,p),v(A,x),Q.block.m(A,Q.anchor=null),Q.mount=()=>A,Q.anchor=null,V=!0,h||(W=[J(t,"input",g[28]),u(i=II.call(null,s,{iconName:"search"})),u(Z=II.call(null,p,{iconName:"x-circle"})),J(m,"click",S(g[30])),J(A,"introend",g[39]),u(B=AI.call(null,A)),J(A,"click_outside",g[24])],h=!0)},p(I,A){(g=I)[6].uploadEnabled?f?f.p(g,A):(f=YI(g),f.c(),f.m(C,G)):f&&(f.d(1),f=null),Q.ctx=g,2&A[0]&&X!==(X=g[1])&&Vg(X,Q)||function(g,I,A){const C=I.slice(),{resolved:e}=g;g.current===g.then&&(C[g.value]=e),g.current===g.catch&&(C[g.error]=e),g.block.p(C,A)}(Q,g,A)},i(I){V||(xg(r.$$.fragment,I),xg(d.$$.fragment,I),I&&sg((()=>{V&&(y||(y=yg(A,$g,{x:g[14]/100*94,opacity:1},!0)),y.run(1))})),V=!0)},o(I){Xg(r.$$.fragment,I),Xg(d.$$.fragment,I),I&&(y||(y=yg(A,$g,{x:g[14]/100*94,opacity:1},!1)),y.run(0)),V=!1},d(g){g&&U(I),Ng(r),Ng(d),f&&f.d(),Q.block.d(),Q.token=null,Q=null,g&&y&&y.end(),h=!1,c(W)}}}function YI(g){let I,A,C,e,t,l,n,s,i=(0,Pg.Ay)("upload to ${current_path}",{current_path:g[2]})+"";return{c(){I=Y("div"),A=Y("button"),C=R("svg"),t=L(),l=w(i),k(A,"type","button"),k(A,"class","upload btn btn-outline-light btn-sm"),k(A,"tabindex","0"),k(I,"class","ms-2")},m(c,i){F(c,I,i),v(I,A),v(A,C),v(A,t),v(A,l),n||(s=[u(e=II.call(null,C,{iconName:"upload"})),J(A,"keydown",g[15]),J(A,"click",g[15])],n=!0)},p(g,I){4&I[0]&&i!==(i=(0,Pg.Ay)("upload to ${current_path}",{current_path:g[2]})+"")&&D(l,i)},d(g){g&&U(I),n=!1,c(s)}}}function RI(g){let I,A,C=g[54].message+"";return{c(){I=Y("p"),A=w(C),H(I,"color","red")},m(g,C){F(g,I,C),v(I,A)},p(g,I){2&I[0]&&C!==(C=g[54].message+"")&&D(A,C)},d(g){g&&U(I)}}}function wI(g){let I,A,C,e,t=[],l=new Map,c=hg(g[47]);const n=g=>g[48].path;for(let I=0;I<c.length;I+=1){let A=FI(g,c,I),C=n(A);l.set(C,t[I]=qI(C,A))}let s=g[5]?.UID&&1==g[0].length&&OI(g),i=g[0].length>1&&gA(g),o=g[4]&&IA(g);return{c(){I=Y("div");for(let g=0;g<t.length;g+=1)t[g].c();A=L(),s&&s.c(),C=L(),i&&i.c(),e=L(),o&&o.c(),k(I,"class","levelColumns svelte-jgy3q8")},m(g,l){F(g,I,l);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(I,null);v(I,A),s&&s.m(I,null),v(I,C),i&&i.m(I,null),v(I,e),o&&o.m(I,null)},p(g,r){169541699&r[0]&&(c=hg(g[47]),t=fg(t,r,n,1,g,c,l,I,vg,qI,A,FI)),g[5]?.UID&&1==g[0].length?s?s.p(g,r):(s=OI(g),s.c(),s.m(I,C)):s&&(s.d(1),s=null),g[0].length>1?i?i.p(g,r):(i=gA(g),i.c(),i.m(I,e)):i&&(i.d(1),i=null),g[4]?o||(o=IA(g),o.c(),o.m(I,null)):o&&(o.d(1),o=null)},d(g){g&&U(I);for(let g=0;g<t.length;g+=1)t[g].d();s&&s.d(),i&&i.d(),o&&o.d()}}}function LI(g){let I,A,e,t,l;return{c(){I=Y("button"),A=R("svg"),k(I,"type","button"),k(I,"class","btn btn-link btn-xs ps-0 svelte-jgy3q8"),k(I,"tabindex","0")},m(C,c){F(C,I,c),v(I,A),t||(l=[u(e=II.call(null,A,{iconName:"house"})),J(I,"keydown",g[31]),J(I,"click",g[32])],t=!0)},p:C,d(g){g&&U(I),t=!1,c(l)}}}function jI(g){let I,A,C,e,t,l,c=(0,Pg.Ay)("select ${level_path}",{level_path:g[48].Title})+"";function n(){return g[33](g[48])}return{c(){I=Y("button"),A=w(c),k(I,"class","btn btn-primary btn-xs svelte-jgy3q8"),k(I,"title",C=g[48].displayPath),I.disabled=e=!g[25](g[48])},m(g,C){F(g,I,C),v(I,A),t||(l=J(I,"click",S(n)),t=!0)},p(t,l){g=t,2&l[0]&&c!==(c=(0,Pg.Ay)("select ${level_path}",{level_path:g[48].Title})+"")&&D(A,c),2&l[0]&&C!==(C=g[48].displayPath)&&k(I,"title",C),2&l[0]&&e!==(e=!g[25](g[48]))&&(I.disabled=e)},d(g){g&&U(I),t=!1,l()}}}function JI(g){let I,A,C,e,t;function l(){return g[35](g[48],g[49],g[50])}return{c(){I=Y("button"),A=R("svg"),k(I,"class","btn btn-link btn-xs grid-view svelte-jgy3q8")},m(g,c){F(g,I,c),v(I,A),e||(t=[u(C=II.call(null,A,{iconName:"list"})),J(I,"click",l)],e=!0)},p(I,A){g=I},d(g){g&&U(I),e=!1,c(t)}}}function SI(g){let I,A,C,e,t;function l(){return g[34](g[48],g[49],g[50])}return{c(){I=Y("button"),A=R("svg"),k(I,"class","btn btn-link btn-xs grid-view svelte-jgy3q8")},m(g,c){F(g,I,c),v(I,A),e||(t=[u(C=II.call(null,A,{iconName:"grid"})),J(I,"click",l)],e=!0)},p(I,A){g=I},d(g){g&&U(I),e=!1,c(t)}}}function kI(g){let I,A,C,e,t,l,c,s,i,o=g[51].Title+"",r="search"==g[6].mode&&HI(g);return{c(){I=Y("div"),A=R("svg"),e=L(),t=w(o),l=L(),r&&r.c(),k(I,"class","item-title svelte-jgy3q8"),k(I,"title",c=g[51].portal_type+": "+g[51].Title)},m(c,n){F(c,I,n),v(I,A),v(I,e),v(I,t),v(I,l),r&&r.m(I,null),s||(i=u(C=II.call(null,A,{iconName:`contenttype/${g[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),s=!0)},p(A,e){g=A,C&&n(C.update)&&2&e[0]&&C.update.call(null,{iconName:`contenttype/${g[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`}),2&e[0]&&o!==(o=g[51].Title+"")&&D(t,o),"search"==g[6].mode?r?r.p(g,e):(r=HI(g),r.c(),r.m(I,null)):r&&(r.d(1),r=null),2&e[0]&&c!==(c=g[51].portal_type+": "+g[51].Title)&&k(I,"title",c)},d(g){g&&U(I),r&&r.d(),s=!1,i()}}}function DI(g){let I,A,C,e=g[51].Title+"";function t(g,I){return g[51].getIcon?zI:EI}let l=t(g),c=l(g);return{c(){I=Y("div"),c.c(),A=L(),C=w(e),k(I,"class","grid-preview svelte-jgy3q8")},m(g,e){F(g,I,e),c.m(I,null),v(I,A),v(I,C)},p(g,n){l===(l=t(g))&&c?c.p(g,n):(c.d(1),c=l(g),c&&(c.c(),c.m(I,A))),2&n[0]&&e!==(e=g[51].Title+"")&&D(C,e)},d(g){g&&U(I),c.d()}}}function HI(g){let I,A,C,e=g[51].path+"";return{c(){I=Y("br"),A=Y("span"),C=w(e),k(A,"class","small")},m(g,e){F(g,I,e),F(g,A,e),v(A,C)},p(g,I){2&I[0]&&e!==(e=g[51].path+"")&&D(C,e)},d(g){g&&(U(I),U(A))}}}function EI(g){let I,A,C,e;return{c(){I=R("svg")},m(t,l){F(t,I,l),C||(e=u(A=II.call(null,I,{iconName:`contenttype/${g[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),C=!0)},p(I,C){g=I,A&&n(A.update)&&2&C[0]&&A.update.call(null,{iconName:`contenttype/${g[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(g){g&&U(I),C=!1,e()}}}function zI(g){let I,A,C;return{c(){I=Y("img"),o(I.src,A=`${g[51].getURL}/@@images/image/thumb`)||k(I,"src",A),k(I,"alt",C=g[51].Title),k(I,"class","svelte-jgy3q8")},m(g,A){F(g,I,A)},p(g,e){2&e[0]&&!o(I.src,A=`${g[51].getURL}/@@images/image/thumb`)&&k(I,"src",A),2&e[0]&&C!==(C=g[51].Title)&&k(I,"alt",C)},d(g){g&&U(I)}}}function TI(g){let I,A,C,e,t;return{c(){I=Y("div"),A=R("svg"),k(I,"class","browseSub svelte-jgy3q8")},m(g,l){F(g,I,l),v(I,A),e||(t=u(C=II.call(null,A,{iconName:"arrow-right-circle"})),e=!0)},d(g){g&&U(I),e=!1,t()}}}function $I(g){let I,A,C,e,t,l,n;function s(g,I){return g[48].gridView?DI:kI}let i=s(g),o=i(g),r=g[51].is_folderish&&"browse"==g[6].mode&&TI();function a(...I){return g[36](g[51],...I)}function d(...I){return g[37](g[51],...I)}return{c(){I=Y("div"),o.c(),A=L(),r&&r.c(),k(I,"class",C="contentItem"+(g[53]%2==0?" odd":" even")+(g[27](g[51])?" inPath":"")+(-1!=g[0].indexOf(g[51].UID)?" selectedItem":"")+(g[25](g[51])?"":" text-muted")+" svelte-jgy3q8"),k(I,"role","button"),k(I,"tabindex",e=g[53]),k(I,"data-uuid",t=g[51].UID)},m(g,C){F(g,I,C),o.m(I,null),v(I,A),r&&r.m(I,null),l||(n=[J(I,"keydown",S(a)),J(I,"click",d)],l=!0)},p(e,l){i===(i=s(g=e))&&o?o.p(g,l):(o.d(1),o=i(g),o&&(o.c(),o.m(I,A))),g[51].is_folderish&&"browse"==g[6].mode?r||(r=TI(),r.c(),r.m(I,null)):r&&(r.d(1),r=null),3&l[0]&&C!==(C="contentItem"+(g[53]%2==0?" odd":" even")+(g[27](g[51])?" inPath":"")+(-1!=g[0].indexOf(g[51].UID)?" selectedItem":"")+(g[25](g[51])?"":" text-muted")+" svelte-jgy3q8")&&k(I,"class",C),2&l[0]&&t!==(t=g[51].UID)&&k(I,"data-uuid",t)},d(g){g&&U(I),o.d(),r&&r.d(),l=!1,c(n)}}}function PI(g){let I,A,C,e,t,l,c;return{c(){I=Y("div"),A=Y("div"),k(A,"class","spinner-border"),k(A,"role","status"),k(I,"class","loadmore svelte-jgy3q8"),k(I,"data-level-path",C=g[48].path),k(I,"data-level-next-page",e=parseInt(g[48].page)+1)},m(C,e){F(C,I,e),v(I,A),l||(c=u(t=g[29].call(null,I)),l=!0)},p(g,A){2&A[0]&&C!==(C=g[48].path)&&k(I,"data-level-path",C),2&A[0]&&e!==(e=parseInt(g[48].page)+1)&&k(I,"data-level-next-page",e)},d(g){g&&U(I),l=!1,c()}}}function MI(g){let I,A;return{c(){I=Y("div"),A=Y("p"),A.textContent=`${(0,Pg.Ay)("no results found")}`,k(A,"class","svelte-jgy3q8"),k(I,"class","contentItem svelte-jgy3q8")},m(g,C){F(g,I,C),v(I,A)},d(g){g&&U(I)}}}function qI(g,I){let A,t,l,c,s,i,o,r,a,d,b,u=0==I[50]&&"browse"==I[6].mode&&LI(I),G=I[48].selectable&&jI(I);function m(g,I){return g[48].gridView?JI:SI}let Z=m(I),x=Z(I),X=hg(I[48].results||[]),y=[];for(let g=0;g<X.length;g+=1)y[g]=$I(UI(I,X,g));let V=I[48].more&&PI(I),h=0==I[48].total&&MI();return{key:g,first:null,c(){A=Y("div"),t=Y("div"),u&&u.c(),l=L(),G&&G.c(),c=L(),s=Y("div"),x.c(),i=L(),o=Y("div");for(let g=0;g<y.length;g+=1)y[g].c();r=L(),V&&V.c(),a=L(),h&&h.c(),k(s,"class","levelActions svelte-jgy3q8"),k(t,"class","levelToolbar svelte-jgy3q8"),k(o,"class","levelItems svelte-jgy3q8"),k(A,"class",d="levelColumn"+(I[50]%2==0?" odd":" even")+" svelte-jgy3q8"),this.first=A},m(g,I){F(g,A,I),v(A,t),u&&u.m(t,null),v(t,l),G&&G.m(t,null),v(t,c),v(t,s),x.m(s,null),v(A,i),v(A,o);for(let g=0;g<y.length;g+=1)y[g]&&y[g].m(o,null);v(o,r),V&&V.m(o,null),v(o,a),h&&h.m(o,null)},p(g,C){if(0==(I=g)[50]&&"browse"==I[6].mode?u?u.p(I,C):(u=LI(I),u.c(),u.m(t,l)):u&&(u.d(1),u=null),I[48].selectable?G?G.p(I,C):(G=jI(I),G.c(),G.m(t,c)):G&&(G.d(1),G=null),Z===(Z=m(I))&&x?x.p(I,C):(x.d(1),x=Z(I),x&&(x.c(),x.m(s,null))),168427587&C[0]){let g;for(X=hg(I[48].results||[]),g=0;g<X.length;g+=1){const A=UI(I,X,g);y[g]?y[g].p(A,C):(y[g]=$I(A),y[g].c(),y[g].m(o,r))}for(;g<y.length;g+=1)y[g].d(1);y.length=X.length}I[48].more?V?V.p(I,C):(V=PI(I),V.c(),V.m(o,a)):V&&(V.d(1),V=null),0==I[48].total?h||(h=MI(),h.c(),h.m(o,null)):h&&(h.d(1),h=null),2&C[0]&&d!==(d="levelColumn"+(I[50]%2==0?" odd":" even")+" svelte-jgy3q8")&&k(A,"class",d)},i(g){g&&(b||sg((()=>{b=function(g,I,A){const t={direction:"in"};let l,c,s=I(g,A,t),i=!1,o=0;function r(){l&&M(g,l)}function a(){const{delay:I=0,duration:A=300,easing:t=e,tick:n=C,css:a}=s||Bg;a&&(l=P(g,0,1,A,I,t,a,o++)),n(0,1);const d=p()+I,b=d+A;c&&c.abort(),i=!0,sg((()=>ug(g,!0,"start"))),c=B((I=>{if(i){if(I>=b)return n(1,0),ug(g,!0,"end"),r(),i=!1;if(I>=d){const g=t((I-d)/A);n(g,1-g)}}return i}))}let d=!1;return{start(){d||(d=!0,M(g),n(s)?(s=s(t),bg().then(a)):a())},invalidate(){d=!1},end(){i&&(r(),i=!1)}}}(A,$g,{duration:300}),b.start()})))},o:C,d(g){g&&U(A),u&&u.d(),G&&G.d(),x.d(),N(y,g),V&&V.d(),h&&h.d()}}}function OI(g){let I,A,C,e,t,l,c,n,s,i,o,r,a,d,b,u=(0,Pg.Ay)("select ${preview_path}",{preview_path:g[5].path.split("/").pop()})+"",G=g[5].Title+"",m=g[5].Description+"";function p(g,I){return g[5].getIcon?_I:KI}let Z=p(g),x=Z(g);return{c(){I=Y("div"),A=Y("div"),C=Y("button"),e=w(u),l=L(),c=Y("div"),x.c(),n=L(),s=Y("h4"),i=w(G),o=L(),r=Y("p"),a=w(m),k(C,"class","btn btn-primary btn-xs svelte-jgy3q8"),C.disabled=t=!g[25](g[5]),k(A,"class","levelToolbar svelte-jgy3q8"),k(s,"class","svelte-jgy3q8"),k(c,"class","info svelte-jgy3q8"),k(I,"class","preview svelte-jgy3q8")},m(t,u){F(t,I,u),v(I,A),v(A,C),v(C,e),v(I,l),v(I,c),x.m(c,null),v(c,n),v(c,s),v(s,i),v(c,o),v(c,r),v(r,a),d||(b=J(C,"click",S(g[38])),d=!0)},p(g,I){32&I[0]&&u!==(u=(0,Pg.Ay)("select ${preview_path}",{preview_path:g[5].path.split("/").pop()})+"")&&D(e,u),32&I[0]&&t!==(t=!g[25](g[5]))&&(C.disabled=t),Z===(Z=p(g))&&x?x.p(g,I):(x.d(1),x=Z(g),x&&(x.c(),x.m(c,n))),32&I[0]&&G!==(G=g[5].Title+"")&&D(i,G),32&I[0]&&m!==(m=g[5].Description+"")&&D(a,m)},d(g){g&&U(I),x.d(),d=!1,b()}}}function KI(g){let I,A,C,e,t;return{c(){I=Y("div"),A=R("svg"),k(A,"class","svelte-jgy3q8"),k(I,"class","previewIcon svelte-jgy3q8")},m(l,c){F(l,I,c),v(I,A),e||(t=u(C=II.call(null,A,{iconName:`contenttype/${g[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),e=!0)},p(g,I){C&&n(C.update)&&32&I[0]&&C.update.call(null,{iconName:`contenttype/${g[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(g){g&&U(I),e=!1,t()}}}function _I(g){let I,A,C,e;return{c(){I=Y("div"),A=Y("img"),o(A.src,C=g[5].getURL+"/@@images/image/preview")||k(A,"src",C),k(A,"alt",e=g[5].Title),k(A,"class","svelte-jgy3q8"),k(I,"class","previewImage")},m(g,C){F(g,I,C),v(I,A)},p(g,I){32&I[0]&&!o(A.src,C=g[5].getURL+"/@@images/image/preview")&&k(A,"src",C),32&I[0]&&e!==(e=g[5].Title)&&k(A,"alt",e)},d(g){g&&U(I)}}}function gA(g){let I,A,e,t,l,n,s,i,o;return{c(){I=Y("div"),A=Y("div"),e=Y("button"),e.textContent=`${(0,Pg.Ay)("add selected items")}`,t=L(),l=Y("div"),n=R("svg"),k(e,"class","btn btn-primary btn-xs svelte-jgy3q8"),k(A,"class","levelToolbar svelte-jgy3q8"),k(n,"class","svelte-jgy3q8"),k(l,"class","info svelte-jgy3q8"),k(I,"class","preview svelte-jgy3q8")},m(C,c){F(C,I,c),v(I,A),v(A,e),v(I,t),v(I,l),v(l,n),i||(o=[J(e,"click",S(g[21])),u(s=II.call(null,n,{iconName:"files"}))],i=!0)},p:C,d(g){g&&U(I),i=!1,c(o)}}}function IA(g){let I;return{c(){I=Y("div"),k(I,"class","upload-wrapper svelte-jgy3q8")},m(g,A){F(g,I,A)},d(g){g&&U(I)}}}function AA(g){let I;return{c(){I=Y("p"),I.textContent=`${(0,Pg.Ay)("loading content items")}`},m(g,A){F(g,I,A)},p:C,d(g){g&&U(I)}}}function CA(g){let I,A,C=g[3]&&NI(g);return{c(){C&&C.c(),I=j()},m(g,e){C&&C.m(g,e),F(g,I,e),A=!0},p(g,A){g[3]?C?(C.p(g,A),8&A[0]&&xg(C,1)):(C=NI(g),C.c(),xg(C,1),C.m(I.parentNode,I)):C&&(pg(),Xg(C,1,1,(()=>{C=null})),Zg())},i(g){A||(xg(C),A=!0)},o(g){Xg(C),A=!1},d(g){g&&U(I),C&&C.d(g)}}}function eA(g,I,A){let C,e,t,l,c,n,s;(g=>{Sg.extend(kg,g||{})})({scrollX:!0,container:".levelColumns",duration:500});const i=Ig("currentPath");d(g,i,(g=>A(2,t=g)));const o=Ig("config");d(g,o,(g=>A(6,c=g)));const r=Ig("pathCache"),a=Ig("showContentBrowser");d(g,a,(g=>A(3,l=g)));const u=Ig("selectedItems");d(g,u,(g=>A(43,s=g)));const G=Ig("selectedUids");d(g,G,(g=>A(42,n=g)));const m=Ig("previewUids");d(g,m,(g=>A(0,C=g)));const p=eI(c,r);d(g,p,(g=>A(1,e=g)));let Z=!1,x={},X=!1,B=!1,y=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);function V({data:g=null,uuid:I=null,action:e="show"}){if(g&&"show"==e)A(5,x=g),b(m,C=[g.UID],C);else if(I&&"add"==e&&-1===C.indexOf(I)){if(c.maximumSelectionSize>0&&C.length>=c.maximumSelectionSize)return;b(m,C=[...C,I],C)}else I&&"remove"==e&&-1!==C.indexOf(I)?m.update((g=>(g.splice(g.indexOf(I),1),g))):"clear"==e&&(A(5,x={}),b(m,C=[],C))}function h(g,I){A(4,Z=!1),V({action:"clear"}),"/"!==g&&g!==c.rootPath?function(g){if("search"==c.mode)V({data:g});else if(g.is_folderish)b(m,C=[g.UID],C),i.set(g.path);else{const I=g.path.split("/"),A=I.slice(0,I.length-1).join("/");i.set(A||c.rootPath),V({data:g})}Y()}(g):i.set(c.rootPath)}function v(g,I){X||(X=!0);const A=I.currentTarget.closest(".levelItems"),e=A.querySelectorAll(".selectedItem");if(e.length&&1!=c.maximumSelectionSize)if(B||I?.shiftKey){let I=!1;for(const C of A.children){if(-1!==[g.UID,x.UID].indexOf(C.dataset.uuid)){if(I){V({uuid:C.dataset.uuid,action:"add"}),I=!1;continue}I=!0}V({uuid:C.dataset.uuid,action:I?"add":"remove"})}}else I?.metaKey||I?.ctrlKey?V({uuid:g.UID,action:-1==C.indexOf(g.UID)?"add":"remove"}):([...e].map((g=>g.classList.remove("selectedItem"))),h(g));else h(g);I.currentTarget.focus(),I.currentTarget.classList.add("selectedItem")}function W(){if(X)return;const g=[...document.querySelectorAll(".levelColumn .inPath"),...document.querySelectorAll(".levelColumn .selectedItem")];!g.length&&document.querySelector(".levelColumn .contentItem")&&g.push(document.querySelector(".levelColumn .contentItem")),g.length&&(X=!0,g[0].focus())}function f(g,I){const A=I.currentTarget;if(B=I.shiftKey,"Escape"==I.key&&U(),"ArrowDown"==I.key&&A?.nextElementSibling?.classList.contains("contentItem")&&A.nextElementSibling.click(),"ArrowUp"==I.key&&A?.previousElementSibling?.classList.contains("contentItem")&&A.previousElementSibling.click(),"ArrowRight"==I.key){const g=I.target.closest(".levelColumn"),A=g?.nextElementSibling;if(!A||!A.classList.contains("levelColumn"))return;A.querySelector(".contentItem")?.click()}if("ArrowLeft"==I.key){const g=I.target.closest(".levelColumn"),A=g?.previousElementSibling;if(!A||!A.classList.contains("levelColumn"))return;A.querySelector(".inPath").click()}"Space"==I.key&&v(g,I),"Enter"==I.key&&N(g)&&(1==c.maximumSelectionSize?Q(g):F())}async function Q(g){1==c.maximumSelectionSize?(u.set([g]),G.set([g.UID])):(u.update((I=>[...I,g])),G.update((()=>s.map((g=>g.UID))))),function(g,I){if(!I.recentlyUsed)return;const A=CI(!1,I),C=A.filter((I=>I.UID===g.UID));C.length>0&&A.splice(A.indexOf(C[0]),1),A.push(g),Kg.A.storage.set(I.recentlyUsedKey,A)}(g,c),V({action:"clear"}),b(a,l=!1,l),X=!1}async function F(){const g=await gI(C,c);u.update((I=>{for(const A of g)-1==n.indexOf(A.UID)&&I.push(A);return I})),G.update((()=>s.map((g=>g.UID)))),V({action:"clear"}),b(a,l=!1,l),X=!1}function U(){b(a,l=!1,l),X=!1,V({action:"clear"})}function N(g){return-1===n.indexOf(g.UID)}function Y(){const g=document.querySelector(".levelColumns");g&&zg({x:g.scrollWidth+100})}const R=jg.A.debounce((g=>{p.get({path:t,searchTerm:g.target.value})}),300);return g.$$.update=()=>{12&g.$$.dirty[0]&&l&&p.get({path:t}),2&g.$$.dirty[0]&&Y(),g.$$.dirty[0]},[C,e,t,l,Z,x,c,i,o,a,u,G,m,p,y,async function(){V({action:"clear"}),A(4,Z=!0),await jg.A.timeout(1);const g=document.querySelector(".upload-wrapper");g.classList.add("pat-upload"),new Mg.default(g,{baseUrl:c.rootUrl,currentPath:t,relativePath:"@@fileUpload",allowPathSelection:!1,hiddenInputContainer:".upload-wrapper",success:(g,I)=>{p.get({path:t,updateCache:!0})}})},h,v,W,f,Q,F,function(g){Q(g.detail.item)},async function(g){const I=g.detail.item.path,A=await _g({vocabularyUrl:c.vocabularyUrl,attributes:c.attributes,levelInfoPath:I});if(!A.total)return void alert(`${I} not found!`);const C=A.results[0];C.path||(C.path=c.rootPath),h(C)},U,N,Y,function(g){return"browse"==c.mode&&-1!=t.indexOf(g.path)},R,function(g){const I=new IntersectionObserver((I=>{for(const A of I)if(A.isIntersecting){const I=g.dataset.levelPath,A=parseInt(g.dataset.levelNextPage);p.get({loadMorePath:I,page:A})}}),{threshold:0,root:null,margin:"0px"});window.setTimeout((()=>{I.observe(g)}),500)},()=>U(),()=>h(c.rootPath),()=>h(c.rootPath),g=>Q(g),(g,I,A)=>b(p,I[A].gridView=!0,e),(g,I,A)=>b(p,I[A].gridView=!1,e),(g,I)=>f(g,I),(g,I)=>v(g,I),()=>Q(x),()=>{Y(),W()}]}var tA=class extends wg{constructor(g){super(),Yg(this,g,eA,CA,s,{},null,[-1,-1])}};function lA(g,{from:I,to:A},C={}){const e=getComputedStyle(g),t="none"===e.transform?"":e.transform,[l,c]=e.transformOrigin.split(" ").map(parseFloat),s=I.left+I.width*l/A.width-(A.left+l),i=I.top+I.height*c/A.height-(A.top+c),{delay:o=0,duration:r=g=>120*Math.sqrt(g),easing:a=Jg}=C;return{delay:o,duration:n(r)?r(Math.sqrt(s*s+i*i)):r,easing:a,css:(g,C)=>{const e=C*s,l=C*i,c=g+C*I.width/A.width,n=g+C*I.height/A.height;return`transform: ${t} translate(${e}px, ${l}px) scale(${c}, ${n});`}}}var cA=A(64708),nA=A.n(cA),sA=A(44563),iA=A(49393),oA={};oA.styleTagTransform=WI(),oA.setAttributes=yI(),oA.insert=XI(),oA.domAPI=ZI(),oA.insertStyleElement=hI();mI()(iA.A,oA),iA.A&&iA.A.locals&&iA.A.locals;function rA(g,I,A){const C=g.slice();return C[20]=I[A],C[22]=A,C}function aA(g){let I,A=[],C=new Map,e=hg(g[0]);const t=g=>g[20].UID;for(let I=0;I<e.length;I+=1){let l=rA(g,e,I),c=t(l);C.set(c,A[I]=bA(c,l))}return{c(){for(let g=0;g<A.length;g+=1)A[g].c();I=j()},m(g,C){for(let I=0;I<A.length;I+=1)A[I]&&A[I].m(g,C);F(g,I,C)},p(g,l){if(129&l){e=hg(g[0]);for(let g=0;g<A.length;g+=1)A[g].r();A=fg(A,l,t,1,g,e,C,I.parentNode,Wg,bA,I,rA);for(let g=0;g<A.length;g+=1)A[g].a()}},d(g){g&&U(I);for(let I=0;I<A.length;I+=1)A[I].d(g)}}}function dA(g){let I,A,C;return{c(){I=Y("img"),o(I.src,A=g[20].getURL+"/@@images/image/mini")||k(I,"src",A),k(I,"alt",C=g[20].Title),k(I,"class","svelte-bljrxf")},m(g,A){F(g,I,A)},p(g,e){1&e&&!o(I.src,A=g[20].getURL+"/@@images/image/mini")&&k(I,"src",A),1&e&&C!==(C=g[20].Title)&&k(I,"alt",C)},d(g){g&&U(I)}}}function bA(g,I){let A,t,l,n,s,i,o,r,a,d,b,G,m,Z,x,X,y,V,h,W=I[20].Title+"",f=I[20].path+"",Q=C;function N(){return I[9](I[22])}let j=I[20].getURL&&(I[20].getIcon||"Image"===I[20].portal_type)&&dA(I);return{key:g,first:null,c(){A=Y("div"),t=Y("div"),l=Y("button"),n=R("svg"),i=L(),o=Y("div"),r=Y("span"),a=w(W),d=Y("br"),b=L(),G=Y("span"),m=w(f),Z=L(),j&&j.c(),x=L(),k(l,"class","btn btn-link btn-sm link-secondary svelte-bljrxf"),k(r,"class","item-title"),k(G,"class","small"),k(t,"class","item-info svelte-bljrxf"),k(A,"class","selected-item svelte-bljrxf"),k(A,"data-uuid",X=I[20].UID),this.first=A},m(g,I){var C;F(g,A,I),v(A,t),v(t,l),v(l,n),v(t,i),v(t,o),v(o,r),v(r,a),v(o,d),v(o,b),v(o,G),v(G,m),v(A,Z),j&&j.m(A,null),v(A,x),V||(h=[u(s=II.call(null,n,{iconName:"x-circle"})),J(l,"click",(C=N,function(g){return g.stopPropagation(),C.call(this,g)}))],V=!0)},p(g,C){I=g,1&C&&W!==(W=I[20].Title+"")&&D(a,W),1&C&&f!==(f=I[20].path+"")&&D(m,f),I[20].getURL&&(I[20].getIcon||"Image"===I[20].portal_type)?j?j.p(I,C):(j=dA(I),j.c(),j.m(A,x)):j&&(j.d(1),j=null),1&C&&X!==(X=I[20].UID)&&k(A,"data-uuid",X)},r(){y=A.getBoundingClientRect()},f(){q(A),Q()},a(){Q(),Q=function(g,I,A,t){if(!I)return C;const l=g.getBoundingClientRect();if(I.left===l.left&&I.right===l.right&&I.top===l.top&&I.bottom===l.bottom)return C;const{delay:c=0,duration:n=300,easing:s=e,start:i=p()+c,end:o=i+n,tick:r=C,css:a}=A(g,{from:I,to:l},t);let d,b=!0,u=!1;function G(){a&&M(g,d),b=!1}return B((g=>{if(!u&&g>=i&&(u=!0),u&&g>=o&&(r(1,0),G()),!b)return!1;if(u){const I=0+1*s((g-i)/n);r(I,1-I)}return!0})),a&&(d=P(g,0,1,n,c,s,a)),c||(u=!0),r(0,1),G}(A,y,lA,{duration:500})},d(g){g&&U(A),j&&j.d(),V=!1,c(h)}}}function uA(g){let I;return{c(){I=Y("p"),I.textContent=`${(0,Pg.Ay)("loading selected items")}`},m(g,A){F(g,I,A)},d(g){g&&U(I)}}}function GA(g){let I,A,e,t,l,n,s,i=g[0]&&aA(g),o=!g[0]&&uA();return{c(){I=Y("div"),A=Y("div"),i&&i.c(),e=L(),o&&o.c(),t=L(),l=Y("a"),l.textContent=`${(0,Pg.Ay)("Select")}`,k(A,"class","content-browser-selected-items svelte-bljrxf"),k(l,"class","btn btn-primary"),k(l,"href","#"),H(l,"border-radius","0 var(--bs-border-radius) var(--bs-border-radius) 0"),k(I,"class","content-browser-selected-items-wrapper svelte-bljrxf"),H(I,"width",g[2].width||"auto")},m(C,c){F(C,I,c),v(I,A),i&&i.m(A,null),v(A,e),o&&o.m(A,null),v(I,t),v(I,l),g[12](I),n||(s=[J(A,"click",g[10]),J(l,"click",S(g[11]))],n=!0)},p(g,[C]){g[0]?i?i.p(g,C):(i=aA(g),i.c(),i.m(A,e)):i&&(i.d(1),i=null),g[0]?o&&(o.d(1),o=null):o||(o=uA(),o.c(),o.m(A,null)),4&C&&H(I,"width",g[2].width||"auto")},i:C,o:C,d(A){A&&U(I),i&&i.d(),o&&o.d(),g[12](null),n=!1,c(s)}}}function mA(g,I,A){let C,e,t,l,c=!0;const n=Ig("config");d(g,n,(g=>A(2,e=g)));const s=e.fieldId,i=document.getElementById(s),o=Ig("selectedItems");d(g,o,(g=>A(0,C=g)));const r=Ig("selectedUids"),a=Ig("showContentBrowser");var u;function G(g){o.update((I=>(I.splice(g,1),I))),r.update((()=>C.map((g=>g.UID))))}function m(){1!==e.maximumSelectionSize&&C.length>1&&nA().create(i.previousSibling.querySelector(".content-browser-selected-items"),{draggable:".selected-item",animation:200,onUpdate:g=>{let I=[];for(const A of g.target.children)I.push(A.dataset.uuid);p(I)}})}function p(g){const I=g.join(e.separator);i.value=I,i.dispatchEvent(sA.A.change_event())}d(g,a,(g=>A(3,t=g))),u=async()=>{await async function(){const g=e.selection.length?e.selection:i?.value?i.value.split(e.separator):[];g.length&&(b(o,C=await gI(g,e),C),r.update((()=>C.map((g=>g.UID)))))}(),m(),A(8,c=!1)},K().$$.on_mount.push(u);return g.$$.update=()=>{257&g.$$.dirty&&(!C.length&&c||(p(function(){let g=[];return C.forEach((I=>{g.push(I.UID)})),g}()),m()))},[C,l,e,t,n,o,a,G,c,g=>G(g),()=>b(a,t=!C.length,t),()=>b(a,t=!0,t),function(g){Cg[g?"unshift":"push"]((()=>{l=g,A(1,l)}))}]}var pA=class extends wg{constructor(g){super(),Yg(this,g,mA,GA,s,{})}};Og(!1);function ZA(g){let I,A,e,t;return I=new tA({}),e=new pA({}),{c(){Fg(I.$$.fragment),A=L(),Fg(e.$$.fragment)},m(g,C){Ug(I,g,C),F(g,A,C),Ug(e,g,C),t=!0},p:C,i(g){t||(xg(I.$$.fragment,g),xg(e.$$.fragment,g),t=!0)},o(g){Xg(I.$$.fragment,g),Xg(e.$$.fragment,g),t=!1},d(g){g&&U(A),Ng(I,g),Ng(e,g)}}}function xA(g,I,A){let C,e,{maxDepth:t}=I,{width:l}=I,{attributes:c}=I,{contextPath:n}=I,{vocabularyUrl:s}=I,{mode:i="browse"}=I,{rootPath:o=""}=I,{rootUrl:r=""}=I,{basePath:a=""}=I,{selectableTypes:u=[]}=I,{maximumSelectionSize:G=-1}=I,{separator:m}=I,{selection:p=[]}=I,{query:Z={}}=I,{fieldId:x}=I,{upload:X}=I,{favorites:B}=I,{recentlyUsed:y}=I,{recentlyUsedKey:V}=I,{recentlyUsedMaxItems:h}=I,{bSize:v=20}=I;const W=Lg.A.getLogger("pat-contentbrowser");gg("currentPath",Og("")),gg("config",Og({})),gg("pathCache",Og({})),gg("selectedItems",Og([])),gg("showContentBrowser",Og(!1)),gg("selectedUids",Og([])),gg("previewUids",Og([]));const f=Ig("currentPath");if(d(g,f,(g=>A(24,e=g))),!e)if(a||o)b(f,e=0!=a.indexOf(o)?o:a,e);else{const g=new URL(s).pathname.split("/");o=n=b(f,e=g.slice(0,g.length-1).join("/")||"/",e)}let Q=Ig("config");return d(g,Q,(g=>A(23,C=g))),b(Q,C={mode:i,attributes:c,contextPath:n,vocabularyUrl:s,width:l,maxDepth:t,rootPath:o,rootUrl:r,basePath:a,selectableTypes:u,maximumSelectionSize:G,separator:m,selection:p,query:Z,fieldId:x,uploadEnabled:X,favorites:B,recentlyUsed:y,recentlyUsedKey:V,recentlyUsedMaxItems:h,pageSize:v},C),W.debug(`Initialized App<${x}> with config ${JSON.stringify(C)}`),g.$$set=g=>{"maxDepth"in g&&A(4,t=g.maxDepth),"width"in g&&A(5,l=g.width),"attributes"in g&&A(6,c=g.attributes),"contextPath"in g&&A(2,n=g.contextPath),"vocabularyUrl"in g&&A(7,s=g.vocabularyUrl),"mode"in g&&A(8,i=g.mode),"rootPath"in g&&A(3,o=g.rootPath),"rootUrl"in g&&A(9,r=g.rootUrl),"basePath"in g&&A(10,a=g.basePath),"selectableTypes"in g&&A(11,u=g.selectableTypes),"maximumSelectionSize"in g&&A(12,G=g.maximumSelectionSize),"separator"in g&&A(13,m=g.separator),"selection"in g&&A(14,p=g.selection),"query"in g&&A(15,Z=g.query),"fieldId"in g&&A(16,x=g.fieldId),"upload"in g&&A(17,X=g.upload),"favorites"in g&&A(18,B=g.favorites),"recentlyUsed"in g&&A(19,y=g.recentlyUsed),"recentlyUsedKey"in g&&A(20,V=g.recentlyUsedKey),"recentlyUsedMaxItems"in g&&A(21,h=g.recentlyUsedMaxItems),"bSize"in g&&A(22,v=g.bSize)},[f,Q,n,o,t,l,c,s,i,r,a,u,G,m,p,Z,x,X,B,y,V,h,v]}var XA=class extends wg{constructor(g){super(),Yg(this,g,xA,ZA,s,{maxDepth:4,width:5,attributes:6,contextPath:2,vocabularyUrl:7,mode:8,rootPath:3,rootUrl:9,basePath:10,selectableTypes:11,maximumSelectionSize:12,separator:13,selection:14,query:15,fieldId:16,upload:17,favorites:18,recentlyUsed:19,recentlyUsedKey:20,recentlyUsedMaxItems:21,bSize:22})}}}}]);
//# sourceMappingURL=58440.05e14f0282c899b47f3e.min.js.map