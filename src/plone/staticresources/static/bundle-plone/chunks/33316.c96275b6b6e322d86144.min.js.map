{"version":3,"file":"chunks/33316.c96275b6b6e322d86144.min.js","mappings":"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","sources":["webpack://plone.staticresources/../mockup/node_modules/tinymce/plugins/paste/index.js","webpack://plone.staticresources/../mockup/node_modules/tinymce/plugins/paste/plugin.js"],"sourcesContent":["// Exports the \"paste\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/paste')\n//   ES2015:\n//     import 'tinymce/plugins/paste'\nrequire('./plugin.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.2 (2021-11-17)\n */\n(function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasProPlugin = function (editor) {\n      if (editor.hasPlugin('powerpaste', true)) {\n        if (typeof window.console !== 'undefined' && window.console.log) {\n          window.console.log('PowerPaste is incompatible with Paste plugin! Remove \\'paste\\' from the \\'plugins\\' option.');\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    var get = function (clipboard) {\n      return { clipboard: clipboard };\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var isArray = isType('array');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativePush = Array.prototype.push;\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter$1 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map(xs, f));\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var repeat = function (s, count) {\n      return count <= 0 ? '' : new Array(count + 1).join(s);\n    };\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var firePastePreProcess = function (editor, html, internal, isWordHtml) {\n      return editor.fire('PastePreProcess', {\n        content: html,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePostProcess = function (editor, node, internal, isWordHtml) {\n      return editor.fire('PastePostProcess', {\n        node: node,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePlainTextToggle = function (editor, state) {\n      return editor.fire('PastePlainTextToggle', { state: state });\n    };\n    var firePaste = function (editor, ieFake) {\n      return editor.fire('paste', { ieFake: ieFake });\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var shouldBlockDrop = function (editor) {\n      return editor.getParam('paste_block_drop', false);\n    };\n    var shouldPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false);\n    };\n    var shouldFilterDrop = function (editor) {\n      return editor.getParam('paste_filter_drop', true);\n    };\n    var getPreProcess = function (editor) {\n      return editor.getParam('paste_preprocess');\n    };\n    var getPostProcess = function (editor) {\n      return editor.getParam('paste_postprocess');\n    };\n    var getWebkitStyles = function (editor) {\n      return editor.getParam('paste_webkit_styles');\n    };\n    var shouldRemoveWebKitStyles = function (editor) {\n      return editor.getParam('paste_remove_styles_if_webkit', true);\n    };\n    var shouldMergeFormats = function (editor) {\n      return editor.getParam('paste_merge_formats', true);\n    };\n    var isSmartPasteEnabled = function (editor) {\n      return editor.getParam('smart_paste', true);\n    };\n    var isPasteAsTextEnabled = function (editor) {\n      return editor.getParam('paste_as_text', false);\n    };\n    var getRetainStyleProps = function (editor) {\n      return editor.getParam('paste_retain_style_properties');\n    };\n    var getWordValidElements = function (editor) {\n      var defaultValidElements = '-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' + '-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' + 'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';\n      return editor.getParam('paste_word_valid_elements', defaultValidElements);\n    };\n    var shouldConvertWordFakeLists = function (editor) {\n      return editor.getParam('paste_convert_word_fake_lists', true);\n    };\n    var shouldUseDefaultFilters = function (editor) {\n      return editor.getParam('paste_enable_default_filters', true);\n    };\n    var getValidate = function (editor) {\n      return editor.getParam('validate');\n    };\n    var getAllowHtmlDataUrls = function (editor) {\n      return editor.getParam('allow_html_data_urls', false, 'boolean');\n    };\n    var getPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false, 'boolean');\n    };\n    var getImagesDataImgFilter = function (editor) {\n      return editor.getParam('images_dataimg_filter');\n    };\n    var getImagesReuseFilename = function (editor) {\n      return editor.getParam('images_reuse_filename');\n    };\n    var getForcedRootBlock = function (editor) {\n      return editor.getParam('forced_root_block');\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs');\n    };\n    var getTabSpaces = function (editor) {\n      return editor.getParam('paste_tab_spaces', 4, 'number');\n    };\n    var getAllowedImageFileTypes = function (editor) {\n      var defaultImageFileTypes = 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp';\n      return global$6.explode(editor.getParam('images_file_types', defaultImageFileTypes, 'string'));\n    };\n\n    var internalMimeType = 'x-tinymce/html';\n    var internalMark = '<!-- ' + internalMimeType + ' -->';\n    var mark = function (html) {\n      return internalMark + html;\n    };\n    var unmark = function (html) {\n      return html.replace(internalMark, '');\n    };\n    var isMarked = function (html) {\n      return html.indexOf(internalMark) !== -1;\n    };\n    var internalHtmlMime = constant(internalMimeType);\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var isPlainText = function (text) {\n      return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n    };\n    var toBRs = function (text) {\n      return text.replace(/\\r?\\n/g, '<br>');\n    };\n    var openContainer = function (rootTag, rootAttrs) {\n      var attrs = [];\n      var tag = '<' + rootTag;\n      if (typeof rootAttrs === 'object') {\n        for (var key in rootAttrs) {\n          if (has(rootAttrs, key)) {\n            attrs.push(key + '=\"' + global$5.encodeAllRaw(rootAttrs[key]) + '\"');\n          }\n        }\n        if (attrs.length) {\n          tag += ' ' + attrs.join(' ');\n        }\n      }\n      return tag + '>';\n    };\n    var toBlockElements = function (text, rootTag, rootAttrs) {\n      var blocks = text.split(/\\n\\n/);\n      var tagOpen = openContainer(rootTag, rootAttrs);\n      var tagClose = '</' + rootTag + '>';\n      var paragraphs = global$6.map(blocks, function (p) {\n        return p.split(/\\n/).join('<br />');\n      });\n      var stitch = function (p) {\n        return tagOpen + p + tagClose;\n      };\n      return paragraphs.length === 1 ? paragraphs[0] : global$6.map(paragraphs, stitch).join('');\n    };\n    var convert = function (text, rootTag, rootAttrs) {\n      return rootTag ? toBlockElements(text, rootTag === true ? 'p' : rootTag, rootAttrs) : toBRs(text);\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    var nbsp = '\\xA0';\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.html.Schema');\n\n    var isRegExp = function (val) {\n      return val.constructor === RegExp;\n    };\n    var filter = function (content, items) {\n      global$6.each(items, function (v) {\n        if (isRegExp(v)) {\n          content = content.replace(v, '');\n        } else {\n          content = content.replace(v[0], v[1]);\n        }\n      });\n      return content;\n    };\n    var innerText = function (html) {\n      var schema = global$1();\n      var domParser = global$4({}, schema);\n      var text = '';\n      var shortEndedElements = schema.getShortEndedElements();\n      var ignoreElements = global$6.makeMap('script noscript style textarea video audio iframe object', ' ');\n      var blockElements = schema.getBlockElements();\n      var walk = function (node) {\n        var name = node.name, currentNode = node;\n        if (name === 'br') {\n          text += '\\n';\n          return;\n        }\n        if (name === 'wbr') {\n          return;\n        }\n        if (shortEndedElements[name]) {\n          text += ' ';\n        }\n        if (ignoreElements[name]) {\n          text += ' ';\n          return;\n        }\n        if (node.type === 3) {\n          text += node.value;\n        }\n        if (!node.shortEnded) {\n          if (node = node.firstChild) {\n            do {\n              walk(node);\n            } while (node = node.next);\n          }\n        }\n        if (blockElements[name] && currentNode.next) {\n          text += '\\n';\n          if (name === 'p') {\n            text += '\\n';\n          }\n        }\n      };\n      html = filter(html, [/<!\\[[^\\]]+\\]>/g]);\n      walk(domParser.parse(html));\n      return text;\n    };\n    var trimHtml = function (html) {\n      var trimSpaces = function (all, s1, s2) {\n        if (!s1 && !s2) {\n          return ' ';\n        }\n        return nbsp;\n      };\n      html = filter(html, [\n        /^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,\n        /<!--StartFragment-->|<!--EndFragment-->/g,\n        [\n          /( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,\n          trimSpaces\n        ],\n        /<br class=\"Apple-interchange-newline\">/g,\n        /<br>$/i\n      ]);\n      return html;\n    };\n    var createIdGenerator = function (prefix) {\n      var count = 0;\n      return function () {\n        return prefix + count++;\n      };\n    };\n    var getImageMimeType = function (ext) {\n      var lowerExt = ext.toLowerCase();\n      var mimeOverrides = {\n        jpg: 'jpeg',\n        jpe: 'jpeg',\n        jfi: 'jpeg',\n        jif: 'jpeg',\n        jfif: 'jpeg',\n        pjpeg: 'jpeg',\n        pjp: 'jpeg',\n        svg: 'svg+xml'\n      };\n      return global$6.hasOwn(mimeOverrides, lowerExt) ? 'image/' + mimeOverrides[lowerExt] : 'image/' + lowerExt;\n    };\n\n    var isWordContent = function (content) {\n      return /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^']*\\bmso-|w:WordDocument/i.test(content) || /class=\"OutlineElement/.test(content) || /id=\"?docs\\-internal\\-guid\\-/.test(content);\n    };\n    var isNumericList = function (text) {\n      var found = false;\n      var patterns = [\n        /^[IVXLMCD]+\\.[ \\u00a0]/,\n        /^[ivxlmcd]+\\.[ \\u00a0]/,\n        /^[a-z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[A-Z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[0-9]+\\.[ \\u00a0]/,\n        /^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/,\n        /^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/\n      ];\n      text = text.replace(/^[\\u00a0 ]+/, '');\n      global$6.each(patterns, function (pattern) {\n        if (pattern.test(text)) {\n          found = true;\n          return false;\n        }\n      });\n      return found;\n    };\n    var isBulletList = function (text) {\n      return /^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(text);\n    };\n    var convertFakeListsToProperLists = function (node) {\n      var currentListNode, prevListNode, lastLevel = 1;\n      var getText = function (node) {\n        var txt = '';\n        if (node.type === 3) {\n          return node.value;\n        }\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.next);\n        }\n        return txt;\n      };\n      var trimListStart = function (node, regExp) {\n        if (node.type === 3) {\n          if (regExp.test(node.value)) {\n            node.value = node.value.replace(regExp, '');\n            return false;\n          }\n        }\n        if (node = node.firstChild) {\n          do {\n            if (!trimListStart(node, regExp)) {\n              return false;\n            }\n          } while (node = node.next);\n        }\n        return true;\n      };\n      var removeIgnoredNodes = function (node) {\n        if (node._listIgnore) {\n          node.remove();\n          return;\n        }\n        if (node = node.firstChild) {\n          do {\n            removeIgnoredNodes(node);\n          } while (node = node.next);\n        }\n      };\n      var convertParagraphToLi = function (paragraphNode, listName, start) {\n        var level = paragraphNode._listLevel || lastLevel;\n        if (level !== lastLevel) {\n          if (level < lastLevel) {\n            if (currentListNode) {\n              currentListNode = currentListNode.parent.parent;\n            }\n          } else {\n            prevListNode = currentListNode;\n            currentListNode = null;\n          }\n        }\n        if (!currentListNode || currentListNode.name !== listName) {\n          prevListNode = prevListNode || currentListNode;\n          currentListNode = new global$2(listName, 1);\n          if (start > 1) {\n            currentListNode.attr('start', '' + start);\n          }\n          paragraphNode.wrap(currentListNode);\n        } else {\n          currentListNode.append(paragraphNode);\n        }\n        paragraphNode.name = 'li';\n        if (level > lastLevel && prevListNode) {\n          prevListNode.lastChild.append(currentListNode);\n        }\n        lastLevel = level;\n        removeIgnoredNodes(paragraphNode);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n        trimListStart(paragraphNode, /^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n      };\n      var elements = [];\n      var child = node.firstChild;\n      while (typeof child !== 'undefined' && child !== null) {\n        elements.push(child);\n        child = child.walk();\n        if (child !== null) {\n          while (typeof child !== 'undefined' && child.parent !== node) {\n            child = child.walk();\n          }\n        }\n      }\n      for (var i = 0; i < elements.length; i++) {\n        node = elements[i];\n        if (node.name === 'p' && node.firstChild) {\n          var nodeText = getText(node);\n          if (isBulletList(nodeText)) {\n            convertParagraphToLi(node, 'ul');\n            continue;\n          }\n          if (isNumericList(nodeText)) {\n            var matches = /([0-9]+)\\./.exec(nodeText);\n            var start = 1;\n            if (matches) {\n              start = parseInt(matches[1], 10);\n            }\n            convertParagraphToLi(node, 'ol', start);\n            continue;\n          }\n          if (node._listLevel) {\n            convertParagraphToLi(node, 'ul', 1);\n            continue;\n          }\n          currentListNode = null;\n        } else {\n          prevListNode = currentListNode;\n          currentListNode = null;\n        }\n      }\n    };\n    var filterStyles = function (editor, validStyles, node, styleValue) {\n      var outputStyles = {};\n      var styles = editor.dom.parseStyle(styleValue);\n      global$6.each(styles, function (value, name) {\n        switch (name) {\n        case 'mso-list':\n          var matches = /\\w+ \\w+([0-9]+)/i.exec(styleValue);\n          if (matches) {\n            node._listLevel = parseInt(matches[1], 10);\n          }\n          if (/Ignore/i.test(value) && node.firstChild) {\n            node._listIgnore = true;\n            node.firstChild._listIgnore = true;\n          }\n          break;\n        case 'horiz-align':\n          name = 'text-align';\n          break;\n        case 'vert-align':\n          name = 'vertical-align';\n          break;\n        case 'font-color':\n        case 'mso-foreground':\n          name = 'color';\n          break;\n        case 'mso-background':\n        case 'mso-highlight':\n          name = 'background';\n          break;\n        case 'font-weight':\n        case 'font-style':\n          if (value !== 'normal') {\n            outputStyles[name] = value;\n          }\n          return;\n        case 'mso-element':\n          if (/^(comment|comment-list)$/i.test(value)) {\n            node.remove();\n            return;\n          }\n          break;\n        }\n        if (name.indexOf('mso-comment') === 0) {\n          node.remove();\n          return;\n        }\n        if (name.indexOf('mso-') === 0) {\n          return;\n        }\n        if (getRetainStyleProps(editor) === 'all' || validStyles && validStyles[name]) {\n          outputStyles[name] = value;\n        }\n      });\n      if (/(bold)/i.test(outputStyles['font-weight'])) {\n        delete outputStyles['font-weight'];\n        node.wrap(new global$2('b', 1));\n      }\n      if (/(italic)/i.test(outputStyles['font-style'])) {\n        delete outputStyles['font-style'];\n        node.wrap(new global$2('i', 1));\n      }\n      var outputStyle = editor.dom.serializeStyle(outputStyles, node.name);\n      if (outputStyle) {\n        return outputStyle;\n      }\n      return null;\n    };\n    var filterWordContent = function (editor, content) {\n      var validStyles;\n      var retainStyleProperties = getRetainStyleProps(editor);\n      if (retainStyleProperties) {\n        validStyles = global$6.makeMap(retainStyleProperties.split(/[, ]/));\n      }\n      content = filter(content, [\n        /<br class=\"?Apple-interchange-newline\"?>/gi,\n        /<b[^>]+id=\"?docs-internal-[^>]*>/gi,\n        /<!--[\\s\\S]+?-->/gi,\n        /<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi,\n        [\n          /<(\\/?)s>/gi,\n          '<$1strike>'\n        ],\n        [\n          /&nbsp;/gi,\n          nbsp\n        ],\n        [\n          /<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi,\n          function (str, spaces) {\n            return spaces.length > 0 ? spaces.replace(/./, ' ').slice(Math.floor(spaces.length / 2)).split('').join(nbsp) : '';\n          }\n        ]\n      ]);\n      var validElements = getWordValidElements(editor);\n      var schema = global$1({\n        valid_elements: validElements,\n        valid_children: '-li[p]'\n      });\n      global$6.each(schema.elements, function (rule) {\n        if (!rule.attributes.class) {\n          rule.attributes.class = {};\n          rule.attributesOrder.push('class');\n        }\n        if (!rule.attributes.style) {\n          rule.attributes.style = {};\n          rule.attributesOrder.push('style');\n        }\n      });\n      var domParser = global$4({}, schema);\n      domParser.addAttributeFilter('style', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.attr('style', filterStyles(editor, validStyles, node, node.attr('style')));\n          if (node.name === 'span' && node.parent && !node.attributes.length) {\n            node.unwrap();\n          }\n        }\n      });\n      domParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length, node, className;\n        while (i--) {\n          node = nodes[i];\n          className = node.attr('class');\n          if (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {\n            node.remove();\n          }\n          node.attr('class', null);\n        }\n      });\n      domParser.addNodeFilter('del', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].remove();\n        }\n      });\n      domParser.addNodeFilter('a', function (nodes) {\n        var i = nodes.length, node, href, name;\n        while (i--) {\n          node = nodes[i];\n          href = node.attr('href');\n          name = node.attr('name');\n          if (href && href.indexOf('#_msocom_') !== -1) {\n            node.remove();\n            continue;\n          }\n          if (href && href.indexOf('file://') === 0) {\n            href = href.split('#')[1];\n            if (href) {\n              href = '#' + href;\n            }\n          }\n          if (!href && !name) {\n            node.unwrap();\n          } else {\n            if (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {\n              node.unwrap();\n              continue;\n            }\n            node.attr({\n              href: href,\n              name: name\n            });\n          }\n        }\n      });\n      var rootNode = domParser.parse(content);\n      if (shouldConvertWordFakeLists(editor)) {\n        convertFakeListsToProperLists(rootNode);\n      }\n      content = global$3({ validate: getValidate(editor) }, schema).serialize(rootNode);\n      return content;\n    };\n    var preProcess$1 = function (editor, content) {\n      return shouldUseDefaultFilters(editor) ? filterWordContent(editor, content) : content;\n    };\n\n    var preProcess = function (editor, html) {\n      var parser = global$4({}, editor.schema);\n      parser.addNodeFilter('meta', function (nodes) {\n        global$6.each(nodes, function (node) {\n          node.remove();\n        });\n      });\n      var fragment = parser.parse(html, {\n        forced_root_block: false,\n        isRootContent: true\n      });\n      return global$3({ validate: getValidate(editor) }, editor.schema).serialize(fragment);\n    };\n    var processResult = function (content, cancelled) {\n      return {\n        content: content,\n        cancelled: cancelled\n      };\n    };\n    var postProcessFilter = function (editor, html, internal, isWordHtml) {\n      var tempBody = editor.dom.create('div', { style: 'display:none' }, html);\n      var postProcessArgs = firePastePostProcess(editor, tempBody, internal, isWordHtml);\n      return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n    };\n    var filterContent = function (editor, content, internal, isWordHtml) {\n      var preProcessArgs = firePastePreProcess(editor, content, internal, isWordHtml);\n      var filteredContent = preProcess(editor, preProcessArgs.content);\n      if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n        return postProcessFilter(editor, filteredContent, internal, isWordHtml);\n      } else {\n        return processResult(filteredContent, preProcessArgs.isDefaultPrevented());\n      }\n    };\n    var process = function (editor, html, internal) {\n      var isWordHtml = isWordContent(html);\n      var content = isWordHtml ? preProcess$1(editor, html) : html;\n      return filterContent(editor, content, internal, isWordHtml);\n    };\n\n    var pasteHtml$1 = function (editor, html) {\n      editor.insertContent(html, {\n        merge: shouldMergeFormats(editor),\n        paste: true\n      });\n      return true;\n    };\n    var isAbsoluteUrl = function (url) {\n      return /^https?:\\/\\/[\\w\\?\\-\\/+=.&%@~#]+$/i.test(url);\n    };\n    var isImageUrl = function (editor, url) {\n      return isAbsoluteUrl(url) && exists(getAllowedImageFileTypes(editor), function (type) {\n        return endsWith(url.toLowerCase(), '.' + type.toLowerCase());\n      });\n    };\n    var createImage = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.insertContent('<img src=\"' + url + '\">');\n      });\n      return true;\n    };\n    var createLink = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.execCommand('mceInsertLink', false, url);\n      });\n      return true;\n    };\n    var linkSelection = function (editor, html, pasteHtmlFn) {\n      return editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n    };\n    var insertImage = function (editor, html, pasteHtmlFn) {\n      return isImageUrl(editor, html) ? createImage(editor, html, pasteHtmlFn) : false;\n    };\n    var smartInsertContent = function (editor, html) {\n      global$6.each([\n        linkSelection,\n        insertImage,\n        pasteHtml$1\n      ], function (action) {\n        return action(editor, html, pasteHtml$1) !== true;\n      });\n    };\n    var insertContent = function (editor, html, pasteAsText) {\n      if (pasteAsText || isSmartPasteEnabled(editor) === false) {\n        pasteHtml$1(editor, html);\n      } else {\n        smartInsertContent(editor, html);\n      }\n    };\n\n    var isCollapsibleWhitespace = function (c) {\n      return ' \\f\\t\\x0B'.indexOf(c) !== -1;\n    };\n    var isNewLineChar = function (c) {\n      return c === '\\n' || c === '\\r';\n    };\n    var isNewline = function (text, idx) {\n      return idx < text.length && idx >= 0 ? isNewLineChar(text[idx]) : false;\n    };\n    var normalizeWhitespace = function (editor, text) {\n      var tabSpace = repeat(' ', getTabSpaces(editor));\n      var normalizedText = text.replace(/\\t/g, tabSpace);\n      var result = foldl(normalizedText, function (acc, c) {\n        if (isCollapsibleWhitespace(c) || c === nbsp) {\n          if (acc.pcIsSpace || acc.str === '' || acc.str.length === normalizedText.length - 1 || isNewline(normalizedText, acc.str.length + 1)) {\n            return {\n              pcIsSpace: false,\n              str: acc.str + nbsp\n            };\n          } else {\n            return {\n              pcIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            pcIsSpace: isNewLineChar(c),\n            str: acc.str + c\n          };\n        }\n      }, {\n        pcIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n\n    var doPaste = function (editor, content, internal, pasteAsText) {\n      var args = process(editor, content, internal);\n      if (args.cancelled === false) {\n        insertContent(editor, args.content, pasteAsText);\n      }\n    };\n    var pasteHtml = function (editor, html, internalFlag) {\n      var internal = internalFlag ? internalFlag : isMarked(html);\n      doPaste(editor, unmark(html), internal, false);\n    };\n    var pasteText = function (editor, text) {\n      var encodedText = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n      var normalizedText = normalizeWhitespace(editor, encodedText);\n      var html = convert(normalizedText, getForcedRootBlock(editor), getForcedRootBlockAttrs(editor));\n      doPaste(editor, html, false, true);\n    };\n    var getDataTransferItems = function (dataTransfer) {\n      var items = {};\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      if (dataTransfer) {\n        if (dataTransfer.getData) {\n          var legacyText = dataTransfer.getData('Text');\n          if (legacyText && legacyText.length > 0) {\n            if (legacyText.indexOf(mceInternalUrlPrefix) === -1) {\n              items['text/plain'] = legacyText;\n            }\n          }\n        }\n        if (dataTransfer.types) {\n          for (var i = 0; i < dataTransfer.types.length; i++) {\n            var contentType = dataTransfer.types[i];\n            try {\n              items[contentType] = dataTransfer.getData(contentType);\n            } catch (ex) {\n              items[contentType] = '';\n            }\n          }\n        }\n      }\n      return items;\n    };\n    var getClipboardContent = function (editor, clipboardEvent) {\n      return getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);\n    };\n    var hasContentType = function (clipboardContent, mimeType) {\n      return mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n    };\n    var hasHtmlOrText = function (content) {\n      return hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n    };\n    var parseDataUri = function (uri) {\n      var matches = /data:([^;]+);base64,([a-z0-9\\+\\/=]+)/i.exec(uri);\n      if (matches) {\n        return {\n          type: matches[1],\n          data: decodeURIComponent(matches[2])\n        };\n      } else {\n        return {\n          type: null,\n          data: null\n        };\n      }\n    };\n    var isValidDataUriImage = function (editor, imgElm) {\n      var filter = getImagesDataImgFilter(editor);\n      return filter ? filter(imgElm) : true;\n    };\n    var extractFilename = function (editor, str) {\n      var m = str.match(/([\\s\\S]+?)(?:\\.[a-z0-9.]+)$/i);\n      return isNonNullable(m) ? editor.dom.encode(m[1]) : null;\n    };\n    var uniqueId = createIdGenerator('mceclip');\n    var pasteImage = function (editor, imageItem) {\n      var _a = parseDataUri(imageItem.uri), base64 = _a.data, type = _a.type;\n      var id = uniqueId();\n      var file = imageItem.blob;\n      var img = new Image();\n      img.src = imageItem.uri;\n      if (isValidDataUriImage(editor, img)) {\n        var blobCache = editor.editorUpload.blobCache;\n        var blobInfo = void 0;\n        var existingBlobInfo = blobCache.getByData(base64, type);\n        if (!existingBlobInfo) {\n          var useFileName = getImagesReuseFilename(editor) && isNonNullable(file.name);\n          var name_1 = useFileName ? extractFilename(editor, file.name) : id;\n          var filename = useFileName ? file.name : undefined;\n          blobInfo = blobCache.create(id, file, base64, name_1, filename);\n          blobCache.add(blobInfo);\n        } else {\n          blobInfo = existingBlobInfo;\n        }\n        pasteHtml(editor, '<img src=\"' + blobInfo.blobUri() + '\">', false);\n      } else {\n        pasteHtml(editor, '<img src=\"' + imageItem.uri + '\">', false);\n      }\n    };\n    var isClipboardEvent = function (event) {\n      return event.type === 'paste';\n    };\n    var isDataTransferItem = function (item) {\n      return isNonNullable(item.getAsFile);\n    };\n    var readFilesAsDataUris = function (items) {\n      return global$8.all(map(items, function (item) {\n        return new global$8(function (resolve) {\n          var blob = isDataTransferItem(item) ? item.getAsFile() : item;\n          var reader = new window.FileReader();\n          reader.onload = function () {\n            resolve({\n              blob: blob,\n              uri: reader.result\n            });\n          };\n          reader.readAsDataURL(blob);\n        });\n      }));\n    };\n    var isImage = function (editor) {\n      var allowedExtensions = getAllowedImageFileTypes(editor);\n      return function (file) {\n        return startsWith(file.type, 'image/') && exists(allowedExtensions, function (extension) {\n          return getImageMimeType(extension) === file.type;\n        });\n      };\n    };\n    var getImagesFromDataTransfer = function (editor, dataTransfer) {\n      var items = dataTransfer.items ? bind(from(dataTransfer.items), function (item) {\n        return item.kind === 'file' ? [item.getAsFile()] : [];\n      }) : [];\n      var files = dataTransfer.files ? from(dataTransfer.files) : [];\n      return filter$1(items.length > 0 ? items : files, isImage(editor));\n    };\n    var pasteImageData = function (editor, e, rng) {\n      var dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n      if (getPasteDataImages(editor) && dataTransfer) {\n        var images = getImagesFromDataTransfer(editor, dataTransfer);\n        if (images.length > 0) {\n          e.preventDefault();\n          readFilesAsDataUris(images).then(function (fileResults) {\n            if (rng) {\n              editor.selection.setRng(rng);\n            }\n            each(fileResults, function (result) {\n              pasteImage(editor, result);\n            });\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    var isBrokenAndroidClipboardEvent = function (e) {\n      var clipboardData = e.clipboardData;\n      return navigator.userAgent.indexOf('Android') !== -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;\n    };\n    var isKeyboardPasteEvent = function (e) {\n      return global$7.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n    };\n    var registerEventHandlers = function (editor, pasteBin, pasteFormat) {\n      var keyboardPasteEvent = value();\n      var keyboardPastePressed = value();\n      var keyboardPastePlainTextState;\n      editor.on('keyup', keyboardPastePressed.clear);\n      editor.on('keydown', function (e) {\n        var removePasteBinOnKeyUp = function (e) {\n          if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n            pasteBin.remove();\n          }\n        };\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n          if (keyboardPastePlainTextState && global$a.webkit && navigator.userAgent.indexOf('Version/') !== -1) {\n            return;\n          }\n          e.stopImmediatePropagation();\n          keyboardPasteEvent.set(e);\n          keyboardPastePressed.set(true);\n          if (global$a.ie && keyboardPastePlainTextState) {\n            e.preventDefault();\n            firePaste(editor, true);\n            return;\n          }\n          pasteBin.remove();\n          pasteBin.create();\n          editor.once('keyup', removePasteBinOnKeyUp);\n          editor.once('paste', function () {\n            editor.off('keyup', removePasteBinOnKeyUp);\n          });\n        }\n      });\n      var insertClipboardContent = function (editor, clipboardContent, isKeyBoardPaste, plainTextMode, internal) {\n        var content;\n        if (hasContentType(clipboardContent, 'text/html')) {\n          content = clipboardContent['text/html'];\n        } else {\n          content = pasteBin.getHtml();\n          internal = internal ? internal : isMarked(content);\n          if (pasteBin.isDefaultContent(content)) {\n            plainTextMode = true;\n          }\n        }\n        content = trimHtml(content);\n        pasteBin.remove();\n        var isPlainTextHtml = internal === false && isPlainText(content);\n        var isAbsoluteUrl$1 = isAbsoluteUrl(content);\n        if (!content.length || isPlainTextHtml && !isAbsoluteUrl$1) {\n          plainTextMode = true;\n        }\n        if (plainTextMode || isAbsoluteUrl$1) {\n          if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n            content = clipboardContent['text/plain'];\n          } else {\n            content = innerText(content);\n          }\n        }\n        if (pasteBin.isDefaultContent(content)) {\n          if (!isKeyBoardPaste) {\n            editor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');\n          }\n          return;\n        }\n        if (plainTextMode) {\n          pasteText(editor, content);\n        } else {\n          pasteHtml(editor, content, internal);\n        }\n      };\n      var getLastRng = function () {\n        return pasteBin.getLastRng() || editor.selection.getRng();\n      };\n      editor.on('paste', function (e) {\n        var isKeyboardPaste = keyboardPasteEvent.isSet() || keyboardPastePressed.isSet();\n        if (isKeyboardPaste) {\n          keyboardPasteEvent.clear();\n        }\n        var clipboardContent = getClipboardContent(editor, e);\n        var plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n        var internal = hasContentType(clipboardContent, internalHtmlMime());\n        keyboardPastePlainTextState = false;\n        if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n          pasteBin.remove();\n          return;\n        }\n        if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n          pasteBin.remove();\n          return;\n        }\n        if (!isKeyboardPaste) {\n          e.preventDefault();\n        }\n        if (global$a.ie && (!isKeyboardPaste || e.ieFake) && !hasContentType(clipboardContent, 'text/html')) {\n          pasteBin.create();\n          editor.dom.bind(pasteBin.getEl(), 'paste', function (e) {\n            e.stopPropagation();\n          });\n          editor.getDoc().execCommand('Paste', false, null);\n          clipboardContent['text/html'] = pasteBin.getHtml();\n        }\n        if (hasContentType(clipboardContent, 'text/html')) {\n          e.preventDefault();\n          if (!internal) {\n            internal = isMarked(clipboardContent['text/html']);\n          }\n          insertClipboardContent(editor, clipboardContent, isKeyboardPaste, plainTextMode, internal);\n        } else {\n          global$9.setEditorTimeout(editor, function () {\n            insertClipboardContent(editor, clipboardContent, isKeyboardPaste, plainTextMode, internal);\n          }, 0);\n        }\n      });\n    };\n    var registerEventsAndFilters = function (editor, pasteBin, pasteFormat) {\n      registerEventHandlers(editor, pasteBin, pasteFormat);\n      var src;\n      editor.parser.addNodeFilter('img', function (nodes, name, args) {\n        var isPasteInsert = function (args) {\n          return args.data && args.data.paste === true;\n        };\n        var remove = function (node) {\n          if (!node.attr('data-mce-object') && src !== global$a.transparentSrc) {\n            node.remove();\n          }\n        };\n        var isWebKitFakeUrl = function (src) {\n          return src.indexOf('webkit-fake-url') === 0;\n        };\n        var isDataUri = function (src) {\n          return src.indexOf('data:') === 0;\n        };\n        if (!getPasteDataImages(editor) && isPasteInsert(args)) {\n          var i = nodes.length;\n          while (i--) {\n            src = nodes[i].attr('src');\n            if (!src) {\n              continue;\n            }\n            if (isWebKitFakeUrl(src)) {\n              remove(nodes[i]);\n            } else if (!getAllowHtmlDataUrls(editor) && isDataUri(src)) {\n              remove(nodes[i]);\n            }\n          }\n        }\n      });\n    };\n\n    var getPasteBinParent = function (editor) {\n      return global$a.ie && editor.inline ? document.body : editor.getBody();\n    };\n    var isExternalPasteBin = function (editor) {\n      return getPasteBinParent(editor) !== editor.getBody();\n    };\n    var delegatePasteEvents = function (editor, pasteBinElm, pasteBinDefaultContent) {\n      if (isExternalPasteBin(editor)) {\n        editor.dom.bind(pasteBinElm, 'paste keyup', function (_e) {\n          if (!isDefault(editor, pasteBinDefaultContent)) {\n            editor.fire('paste');\n          }\n        });\n      }\n    };\n    var create = function (editor, lastRngCell, pasteBinDefaultContent) {\n      var dom = editor.dom, body = editor.getBody();\n      lastRngCell.set(editor.selection.getRng());\n      var pasteBinElm = editor.dom.add(getPasteBinParent(editor), 'div', {\n        'id': 'mcepastebin',\n        'class': 'mce-pastebin',\n        'contentEditable': true,\n        'data-mce-bogus': 'all',\n        'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n      }, pasteBinDefaultContent);\n      if (global$a.ie || global$a.gecko) {\n        dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n      }\n      dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function (e) {\n        e.stopPropagation();\n      });\n      delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent);\n      pasteBinElm.focus();\n      editor.selection.select(pasteBinElm, true);\n    };\n    var remove = function (editor, lastRngCell) {\n      if (getEl(editor)) {\n        var pasteBinClone = void 0;\n        var lastRng = lastRngCell.get();\n        while (pasteBinClone = editor.dom.get('mcepastebin')) {\n          editor.dom.remove(pasteBinClone);\n          editor.dom.unbind(pasteBinClone);\n        }\n        if (lastRng) {\n          editor.selection.setRng(lastRng);\n        }\n      }\n      lastRngCell.set(null);\n    };\n    var getEl = function (editor) {\n      return editor.dom.get('mcepastebin');\n    };\n    var getHtml = function (editor) {\n      var copyAndRemove = function (toElm, fromElm) {\n        toElm.appendChild(fromElm);\n        editor.dom.remove(fromElm, true);\n      };\n      var pasteBinClones = global$6.grep(getPasteBinParent(editor).childNodes, function (elm) {\n        return elm.id === 'mcepastebin';\n      });\n      var pasteBinElm = pasteBinClones.shift();\n      global$6.each(pasteBinClones, function (pasteBinClone) {\n        copyAndRemove(pasteBinElm, pasteBinClone);\n      });\n      var dirtyWrappers = editor.dom.select('div[id=mcepastebin]', pasteBinElm);\n      for (var i = dirtyWrappers.length - 1; i >= 0; i--) {\n        var cleanWrapper = editor.dom.create('div');\n        pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n        copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n      }\n      return pasteBinElm ? pasteBinElm.innerHTML : '';\n    };\n    var isDefaultContent = function (pasteBinDefaultContent, content) {\n      return content === pasteBinDefaultContent;\n    };\n    var isPasteBin = function (elm) {\n      return elm && elm.id === 'mcepastebin';\n    };\n    var isDefault = function (editor, pasteBinDefaultContent) {\n      var pasteBinElm = getEl(editor);\n      return isPasteBin(pasteBinElm) && isDefaultContent(pasteBinDefaultContent, pasteBinElm.innerHTML);\n    };\n    var PasteBin = function (editor) {\n      var lastRng = Cell(null);\n      var pasteBinDefaultContent = '%MCEPASTEBIN%';\n      return {\n        create: function () {\n          return create(editor, lastRng, pasteBinDefaultContent);\n        },\n        remove: function () {\n          return remove(editor, lastRng);\n        },\n        getEl: function () {\n          return getEl(editor);\n        },\n        getHtml: function () {\n          return getHtml(editor);\n        },\n        getLastRng: lastRng.get,\n        isDefault: function () {\n          return isDefault(editor, pasteBinDefaultContent);\n        },\n        isDefaultContent: function (content) {\n          return isDefaultContent(pasteBinDefaultContent, content);\n        }\n      };\n    };\n\n    var Clipboard = function (editor, pasteFormat) {\n      var pasteBin = PasteBin(editor);\n      editor.on('PreInit', function () {\n        return registerEventsAndFilters(editor, pasteBin, pasteFormat);\n      });\n      return {\n        pasteFormat: pasteFormat,\n        pasteHtml: function (html, internalFlag) {\n          return pasteHtml(editor, html, internalFlag);\n        },\n        pasteText: function (text) {\n          return pasteText(editor, text);\n        },\n        pasteImageData: function (e, rng) {\n          return pasteImageData(editor, e, rng);\n        },\n        getDataTransferItems: getDataTransferItems,\n        hasHtmlOrText: hasHtmlOrText,\n        hasContentType: hasContentType\n      };\n    };\n\n    var togglePlainTextPaste = function (editor, clipboard) {\n      if (clipboard.pasteFormat.get() === 'text') {\n        clipboard.pasteFormat.set('html');\n        firePastePlainTextToggle(editor, false);\n      } else {\n        clipboard.pasteFormat.set('text');\n        firePastePlainTextToggle(editor, true);\n      }\n      editor.focus();\n    };\n\n    var register$2 = function (editor, clipboard) {\n      editor.addCommand('mceTogglePlainTextPaste', function () {\n        togglePlainTextPaste(editor, clipboard);\n      });\n      editor.addCommand('mceInsertClipboardContent', function (ui, value) {\n        if (value.content) {\n          clipboard.pasteHtml(value.content, value.internal);\n        }\n        if (value.text) {\n          clipboard.pasteText(value.text);\n        }\n      });\n    };\n\n    var hasWorkingClipboardApi = function (clipboardData) {\n      return global$a.iOS === false && typeof (clipboardData === null || clipboardData === void 0 ? void 0 : clipboardData.setData) === 'function';\n    };\n    var setHtml5Clipboard = function (clipboardData, html, text) {\n      if (hasWorkingClipboardApi(clipboardData)) {\n        try {\n          clipboardData.clearData();\n          clipboardData.setData('text/html', html);\n          clipboardData.setData('text/plain', text);\n          clipboardData.setData(internalHtmlMime(), html);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    };\n    var setClipboardData = function (evt, data, fallback, done) {\n      if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n        evt.preventDefault();\n        done();\n      } else {\n        fallback(data.html, done);\n      }\n    };\n    var fallback = function (editor) {\n      return function (html, done) {\n        var markedHtml = mark(html);\n        var outer = editor.dom.create('div', {\n          'contenteditable': 'false',\n          'data-mce-bogus': 'all'\n        });\n        var inner = editor.dom.create('div', { contenteditable: 'true' }, markedHtml);\n        editor.dom.setStyles(outer, {\n          position: 'fixed',\n          top: '0',\n          left: '-3000px',\n          width: '1000px',\n          overflow: 'hidden'\n        });\n        outer.appendChild(inner);\n        editor.dom.add(editor.getBody(), outer);\n        var range = editor.selection.getRng();\n        inner.focus();\n        var offscreenRange = editor.dom.createRng();\n        offscreenRange.selectNodeContents(inner);\n        editor.selection.setRng(offscreenRange);\n        global$9.setTimeout(function () {\n          editor.selection.setRng(range);\n          outer.parentNode.removeChild(outer);\n          done();\n        }, 0);\n      };\n    };\n    var getData = function (editor) {\n      return {\n        html: editor.selection.getContent({ contextual: true }),\n        text: editor.selection.getContent({ format: 'text' })\n      };\n    };\n    var isTableSelection = function (editor) {\n      return !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());\n    };\n    var hasSelectedContent = function (editor) {\n      return !editor.selection.isCollapsed() || isTableSelection(editor);\n    };\n    var cut = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), function () {\n            if (global$a.browser.isChrome() || global$a.browser.isFirefox()) {\n              var rng_1 = editor.selection.getRng();\n              global$9.setEditorTimeout(editor, function () {\n                editor.selection.setRng(rng_1);\n                editor.execCommand('Delete');\n              }, 0);\n            } else {\n              editor.execCommand('Delete');\n            }\n          });\n        }\n      };\n    };\n    var copy = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), noop);\n        }\n      };\n    };\n    var register$1 = function (editor) {\n      editor.on('cut', cut(editor));\n      editor.on('copy', copy(editor));\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var getCaretRangeFromEvent = function (editor, e) {\n      return global.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());\n    };\n    var isPlainTextFileUrl = function (content) {\n      var plainTextContent = content['text/plain'];\n      return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n    };\n    var setFocusedRange = function (editor, rng) {\n      editor.focus();\n      editor.selection.setRng(rng);\n    };\n    var setup$2 = function (editor, clipboard, draggingInternallyState) {\n      if (shouldBlockDrop(editor)) {\n        editor.on('dragend dragover draggesture dragdrop drop drag', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n      if (!shouldPasteDataImages(editor)) {\n        editor.on('drop', function (e) {\n          var dataTransfer = e.dataTransfer;\n          if (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {\n            e.preventDefault();\n          }\n        });\n      }\n      editor.on('drop', function (e) {\n        var rng = getCaretRangeFromEvent(editor, e);\n        if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n          return;\n        }\n        var dropContent = clipboard.getDataTransferItems(e.dataTransfer);\n        var internal = clipboard.hasContentType(dropContent, internalHtmlMime());\n        if ((!clipboard.hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && clipboard.pasteImageData(e, rng)) {\n          return;\n        }\n        if (rng && shouldFilterDrop(editor)) {\n          var content_1 = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];\n          if (content_1) {\n            e.preventDefault();\n            global$9.setEditorTimeout(editor, function () {\n              editor.undoManager.transact(function () {\n                if (dropContent['mce-internal']) {\n                  editor.execCommand('Delete');\n                }\n                setFocusedRange(editor, rng);\n                content_1 = trimHtml(content_1);\n                if (!dropContent['text/html']) {\n                  clipboard.pasteText(content_1);\n                } else {\n                  clipboard.pasteHtml(content_1, internal);\n                }\n              });\n            });\n          }\n        }\n      });\n      editor.on('dragstart', function (_e) {\n        draggingInternallyState.set(true);\n      });\n      editor.on('dragover dragend', function (e) {\n        if (shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {\n          e.preventDefault();\n          setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n        }\n        if (e.type === 'dragend') {\n          draggingInternallyState.set(false);\n        }\n      });\n    };\n\n    var setup$1 = function (editor) {\n      var plugin = editor.plugins.paste;\n      var preProcess = getPreProcess(editor);\n      if (preProcess) {\n        editor.on('PastePreProcess', function (e) {\n          preProcess.call(plugin, plugin, e);\n        });\n      }\n      var postProcess = getPostProcess(editor);\n      if (postProcess) {\n        editor.on('PastePostProcess', function (e) {\n          postProcess.call(plugin, plugin, e);\n        });\n      }\n    };\n\n    var addPreProcessFilter = function (editor, filterFunc) {\n      editor.on('PastePreProcess', function (e) {\n        e.content = filterFunc(editor, e.content, e.internal, e.wordContent);\n      });\n    };\n    var addPostProcessFilter = function (editor, filterFunc) {\n      editor.on('PastePostProcess', function (e) {\n        filterFunc(editor, e.node);\n      });\n    };\n    var removeExplorerBrElementsAfterBlocks = function (editor, html) {\n      if (!isWordContent(html)) {\n        return html;\n      }\n      var blockElements = [];\n      global$6.each(editor.schema.getBlockElements(), function (block, blockName) {\n        blockElements.push(blockName);\n      });\n      var explorerBlocksRegExp = new RegExp('(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*', 'g');\n      html = filter(html, [[\n          explorerBlocksRegExp,\n          '$1'\n        ]]);\n      html = filter(html, [\n        [\n          /<br><br>/g,\n          '<BR><BR>'\n        ],\n        [\n          /<br>/g,\n          ' '\n        ],\n        [\n          /<BR><BR>/g,\n          '<br>'\n        ]\n      ]);\n      return html;\n    };\n    var removeWebKitStyles = function (editor, content, internal, isWordHtml) {\n      if (isWordHtml || internal) {\n        return content;\n      }\n      var webKitStylesSetting = getWebkitStyles(editor);\n      var webKitStyles;\n      if (shouldRemoveWebKitStyles(editor) === false || webKitStylesSetting === 'all') {\n        return content;\n      }\n      if (webKitStylesSetting) {\n        webKitStyles = webKitStylesSetting.split(/[, ]/);\n      }\n      if (webKitStyles) {\n        var dom_1 = editor.dom, node_1 = editor.selection.getNode();\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, function (all, before, value, after) {\n          var inputStyles = dom_1.parseStyle(dom_1.decode(value));\n          var outputStyles = {};\n          if (webKitStyles === 'none') {\n            return before + after;\n          }\n          for (var i = 0; i < webKitStyles.length; i++) {\n            var inputValue = inputStyles[webKitStyles[i]], currentValue = dom_1.getStyle(node_1, webKitStyles[i], true);\n            if (/color/.test(webKitStyles[i])) {\n              inputValue = dom_1.toHex(inputValue);\n              currentValue = dom_1.toHex(currentValue);\n            }\n            if (currentValue !== inputValue) {\n              outputStyles[webKitStyles[i]] = inputValue;\n            }\n          }\n          var outputStyle = dom_1.serializeStyle(outputStyles, 'span');\n          if (outputStyle) {\n            return before + ' style=\"' + outputStyle + '\"' + after;\n          }\n          return before + after;\n        });\n      } else {\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n      }\n      content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, function (all, before, value, after) {\n        return before + ' style=\"' + value + '\"' + after;\n      });\n      return content;\n    };\n    var removeUnderlineAndFontInAnchor = function (editor, root) {\n      editor.$('a', root).find('font,u').each(function (i, node) {\n        editor.dom.remove(node, true);\n      });\n    };\n    var setup = function (editor) {\n      if (global$a.webkit) {\n        addPreProcessFilter(editor, removeWebKitStyles);\n      }\n      if (global$a.ie) {\n        addPreProcessFilter(editor, removeExplorerBrElementsAfterBlocks);\n        addPostProcessFilter(editor, removeUnderlineAndFontInAnchor);\n      }\n    };\n\n    var makeSetupHandler = function (editor, clipboard) {\n      return function (api) {\n        api.setActive(clipboard.pasteFormat.get() === 'text');\n        var pastePlainTextToggleHandler = function (e) {\n          return api.setActive(e.state);\n        };\n        editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n        return function () {\n          return editor.off('PastePlainTextToggle', pastePlainTextToggleHandler);\n        };\n      };\n    };\n    var register = function (editor, clipboard) {\n      var onAction = function () {\n        return editor.execCommand('mceTogglePlainTextPaste');\n      };\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction: onAction,\n        onSetup: makeSetupHandler(editor, clipboard)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction: onAction,\n        onSetup: makeSetupHandler(editor, clipboard)\n      });\n    };\n\n    function Plugin () {\n      global$b.add('paste', function (editor) {\n        if (hasProPlugin(editor) === false) {\n          var draggingInternallyState = Cell(false);\n          var pasteFormat = Cell(isPasteAsTextEnabled(editor) ? 'text' : 'html');\n          var clipboard = Clipboard(editor, pasteFormat);\n          setup(editor);\n          register(editor, clipboard);\n          register$2(editor, clipboard);\n          setup$1(editor);\n          register$1(editor);\n          setup$2(editor, clipboard, draggingInternallyState);\n          return get(clipboard);\n        }\n      });\n    }\n\n    Plugin();\n\n}());\n"],"names":["type","call","id","prefix","count","Cell","initial","value","get","set","v","global$b","tinymce","util","Tools","resolve","isArray","t","x","Array","prototype","isPrototypeOf","constructor","name","String","isNonNullable","a","isNullable","isFunction","isSimpleType","noop","constant","identity","never","always","none","NONE","fold","n","_s","isSome","isNone","getOr","getOrThunk","thunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","toArray","toString","some","constant_a","self","me","f","s","Optional","from","nativeSlice","slice","nativePush","push","xs","pred","i","len","length","r","apply","flatten","__assign","Object","assign","arguments","p","hasOwnProperty","this","subject","doRevoke","revoke","clear","isSet","singleton","on","checkRange","str","substr","start","global$a","global$9","global$8","global$7","firePastePlainTextToggle","editor","state","fire","global$6","shouldPasteDataImages","getParam","shouldMergeFormats","getRetainStyleProps","getValidate","getAllowHtmlDataUrls","getPasteDataImages","getAllowedImageFileTypes","explode","internalMimeType","internalMark","isMarked","html","indexOf","internalHtmlMime","has","obj","key","global$5","toBlockElements","text","rootTag","rootAttrs","blocks","split","tagOpen","attrs","tag","encodeAllRaw","join","openContainer","tagClose","paragraphs","global$4","global$3","nbsp","global$2","global$1","content","items","RegExp","replace","trimHtml","all","s1","s2","isWordContent","test","isNumericList","found","pattern","filterStyles","validStyles","node","styleValue","outputStyles","styles","dom","parseStyle","matches","exec","_listLevel","parseInt","firstChild","_listIgnore","remove","wrap","outputStyle","serializeStyle","filterWordContent","retainStyleProperties","makeMap","spaces","Math","floor","validElements","getWordValidElements","schema","valid_elements","valid_children","elements","rule","attributes","class","attributesOrder","style","domParser","addAttributeFilter","nodes","attr","parent","unwrap","className","addNodeFilter","href","rootNode","parse","shouldConvertWordFakeLists","currentListNode","prevListNode","lastLevel","getText","txt","next","trimListStart","regExp","removeIgnoredNodes","convertParagraphToLi","paragraphNode","listName","level","append","lastChild","child","walk","nodeText","convertFakeListsToProperLists","validate","serialize","processResult","cancelled","filterContent","internal","isWordHtml","preProcessArgs","wordContent","firePastePreProcess","filteredContent","parser","fragment","forced_root_block","isRootContent","preProcess","hasEventListeners","isDefaultPrevented","tempBody","create","postProcessArgs","firePastePostProcess","innerHTML","postProcessFilter","process","shouldUseDefaultFilters","preProcess$1","pasteHtml$1","insertContent","merge","paste","isAbsoluteUrl","url","isImageUrl","toLowerCase","suffix","linkSelection","pasteHtmlFn","selection","isCollapsed","undoManager","extra","execCommand","createLink","insertImage","createImage","pasteAsText","isSmartPasteEnabled","action","smartInsertContent","isNewLineChar","c","normalizeWhitespace","acc","tabSpace","getTabSpaces","normalizedText","result","isCollapsibleWhitespace","pcIsSpace","idx","isNewline","doPaste","args","pasteHtml","internalFlag","unmark","pasteText","encodedText","encode","toBRs","convert","getForcedRootBlock","getForcedRootBlockAttrs","getDataTransferItems","dataTransfer","getData","legacyText","types","contentType","ex","hasContentType","clipboardContent","mimeType","hasHtmlOrText","uniqueId","pasteImage","imageItem","uri","_a","data","decodeURIComponent","base64","file","blob","img","Image","src","imgElm","getImagesDataImgFilter","isValidDataUriImage","blobCache","editorUpload","blobInfo","existingBlobInfo","getByData","useFileName","getImagesReuseFilename","name_1","m","match","extractFilename","filename","add","blobUri","readFilesAsDataUris","item","getAsFile","isDataTransferItem","reader","window","FileReader","onload","readAsDataURL","isImage","allowedExtensions","startsWith","extension","lowerExt","mimeOverrides","jpg","jpe","jfi","jif","jfif","pjpeg","pjp","svg","hasOwn","pasteImageData","e","rng","clipboardData","images","kind","files","filter$1","getImagesFromDataTransfer","preventDefault","then","fileResults","setRng","isKeyboardPasteEvent","metaKeyPressed","keyCode","shiftKey","registerEventHandlers","pasteBin","pasteFormat","keyboardPastePlainTextState","keyboardPasteEvent","keyboardPastePressed","removePasteBinOnKeyUp","webkit","navigator","userAgent","stopImmediatePropagation","ie","ieFake","firePaste","once","off","insertClipboardContent","isKeyBoardPaste","plainTextMode","getHtml","isDefaultContent","isPlainTextHtml","isAbsoluteUrl$1","shortEndedElements","getShortEndedElements","ignoreElements","blockElements","getBlockElements","currentNode","shortEnded","innerText","windowManager","alert","isKeyboardPaste","clipboardEvent","getDoc","getClipboardContent","isBrokenAndroidClipboardEvent","getLastRng","getRng","getEl","stopPropagation","setEditorTimeout","getPasteBinParent","inline","document","body","getBody","delegatePasteEvents","pasteBinElm","pasteBinDefaultContent","isExternalPasteBin","_e","isDefault","elm","PasteBin","lastRng","lastRngCell","gecko","setStyle","getStyle","focus","select","pasteBinClone","unbind","copyAndRemove","toElm","fromElm","appendChild","pasteBinClones","grep","childNodes","shift","dirtyWrappers","cleanWrapper","insertBefore","Clipboard","transparentSrc","isWebKitFakeUrl","isDataUri","isPasteInsert","registerEventsAndFilters","register$2","clipboard","addCommand","togglePlainTextPaste","ui","setHtml5Clipboard","iOS","setData","hasWorkingClipboardApi","clearData","setClipboardData","evt","fallback","done","markedHtml","mark","outer","inner","contenteditable","setStyles","position","top","left","width","overflow","range","offscreenRange","createRng","selectNodeContents","setTimeout","parentNode","removeChild","getContent","contextual","format","hasSelectedContent","getParent","getStart","isTableSelection","register$1","browser","isChrome","isFirefox","rng_1","cut","copy","global","getCaretRangeFromEvent","getCaretRangeFromPoint","clientX","clientY","setFocusedRange","addPreProcessFilter","filterFunc","removeExplorerBrElementsAfterBlocks","block","blockName","explorerBlocksRegExp","removeWebKitStyles","webKitStyles","webKitStylesSetting","getWebkitStyles","shouldRemoveWebKitStyles","dom_1","node_1","getNode","before","after","inputStyles","decode","inputValue","currentValue","toHex","removeUnderlineAndFontInAnchor","root","$","find","makeSetupHandler","api","setActive","pastePlainTextToggleHandler","hasPlugin","console","log","hasProPlugin","draggingInternallyState","isPasteAsTextEnabled","addPostProcessFilter","setup","onAction","registry","addToggleButton","active","icon","tooltip","onSetup","addToggleMenuItem","register","plugin","plugins","getPreProcess","postProcess","getPostProcess","setup$1","shouldBlockDrop","plainTextContent","dropContent","shouldFilterDrop","content_1","transact","setup$2"],"sourceRoot":""}