(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[46439],{751:function(){!function(){"use strict";function e(e){function t(t,n){e=e.replace(t,n)}return e=n.trim(e),t(/\n/gi,"<br />"),t(/\[b\]/gi,"<strong>"),t(/\[\/b\]/gi,"</strong>"),t(/\[i\]/gi,"<em>"),t(/\[\/i\]/gi,"</em>"),t(/\[u\]/gi,"<u>"),t(/\[\/u\]/gi,"</u>"),t(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),t(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),t(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),t(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),t(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),t(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),e}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.Tools");t.add("bbcode",(function(t){t.on("BeforeSetContent",(function(t){t.content=e(t.content)})),t.on("PostProcess",(function(t){function o(e,t){r=r.replace(e,t)}var r;t.set&&(t.content=e(t.content)),t.get&&(t.content=(r=t.content,r=n.trim(r),o(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),o(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),o(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),o(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),o(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),o(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),o(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),o(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),o(/<font>(.*?)<\/font>/gi,"$1"),o(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),o(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),o(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),o(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),o(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),o(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),o(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),o(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),o(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),o(/<\/(strong|b)>/gi,"[/b]"),o(/<(strong|b)>/gi,"[b]"),o(/<\/(em|i)>/gi,"[/i]"),o(/<(em|i)>/gi,"[i]"),o(/<\/u>/gi,"[/u]"),o(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),o(/<u>/gi,"[u]"),o(/<blockquote[^>]*>/gi,"[quote]"),o(/<\/blockquote>/gi,"[/quote]"),o(/<br \/>/gi,"\n"),o(/<br\/>/gi,"\n"),o(/<br>/gi,"\n"),o(/<p>/gi,""),o(/<\/p>/gi,"\n"),o(/&nbsp;|\u00a0/gi," "),o(/&quot;/gi,'"'),o(/&lt;/gi,"<"),o(/&gt;/gi,">"),o(/&amp;/gi,"&"),r))}))}))}()},2483:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");e.add("print",(function(e){var n,o;function r(){return o.execCommand("mcePrint")}(n=e).addCommand("mcePrint",(function(){t.browser.isIE()?n.getDoc().execCommand("print",!1,null):n.getWin().print()})),(o=e).ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:r}),o.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:r}),e.addShortcut("Meta+P","","mcePrint")}))}()},2957:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,o=e=>t=>typeof t===e,r=n("string"),a=n("array"),s=o("boolean"),i=o("number"),l=()=>{},c=e=>()=>e,u=c(!0),d=c("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return null==e?m.none():m.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const p=d;var g=tinymce.util.Tools.resolve("tinymce.Env"),h=tinymce.util.Tools.resolve("tinymce.util.Tools");const f=Array.prototype.slice,b=Array.prototype.push,y=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},v=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},w=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},x=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);b.apply(t,e[n])}return t})(y(e,t)),S=Object.hasOwnProperty,k=(e,t)=>S.call(e,t);"undefined"!=typeof window?window:Function("return this;")();const C=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},T=(e,t)=>({element:e,offset:t}),_=(e,t)=>{((e,t)=>{const n=(e=>m.from(e.dom.parentNode).map(C))(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))})(e,t),((e,t)=>{e.dom.appendChild(t.dom)})(t,e)},A=(e=>{const t=t=>e(t)?m.from(t.dom.nodeValue):m.none();return{get:n=>{if(!e(n))throw new Error("Can only get text value of a text node");return t(n).getOr("")},getOption:t,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})((e=>3===(e=>e.dom.nodeType)(e))),O=e=>A.get(e);var E=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const N=(e,t)=>e.isBlock(t)||k(e.schema.getVoidElements(),t.nodeName),P=(e,t)=>!e.isEditable(t),D=(e,t)=>!e.isBlock(t)&&k(e.schema.getWhitespaceElements(),t.nodeName),F=(e,t)=>((e,t)=>{const n=(e=>y(e.dom.childNodes,C))(e);return n.length>0&&t<n.length?T(n[t],0):T(e,t)})(C(e),t),R=(e,t,n,o,r,a=!0)=>{let s=a?t(!1):n;for(;s;){const n=P(e,s);if(n||D(e,s)){if(n?o.cef(s):o.boundary(s))break;s=t(!0)}else{if(N(e,s)){if(o.boundary(s))break}else 3===s.nodeType&&o.text(s);if(s===r)break;s=t(!1)}}},$=(e,t,n,o,r)=>{var a;if(((e,t)=>N(e,t)||P(e,t)||D(e,t)||((e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&!e.isEditable(t.parentNode))(e,t))(e,n))return;const s=null!==(a=e.getParent(o,e.isBlock))&&void 0!==a?a:e.getRoot(),i=new E(n,s),l=r?i.next.bind(i):i.prev.bind(i);R(e,l,n,{boundary:u,cef:u,text:e=>{r?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(C(e))}})},M=(e,t,n,o,r,a=!0)=>{const s=new E(n,t),i=[];let l={sOffset:0,fOffset:0,elements:[]};$(e,l,n,t,!1);const c=()=>(l.elements.length>0&&(i.push(l),l={sOffset:0,fOffset:0,elements:[]}),!1);return R(e,s.next.bind(s),n,{boundary:c,cef:e=>(c(),r&&i.push(...r.cef(e)),!1),text:e=>{l.elements.push(C(e)),r&&r.text(e,l)}},o,a),o&&$(e,l,o,t,!0),c(),i},j=(e,t)=>t.collapsed?[]:((e,t)=>{const n=F(t.startContainer,t.startOffset),o=n.element.dom,r=F(t.endContainer,t.endOffset),a=r.element.dom;return M(e,t.commonAncestorContainer,o,a,{text:(e,t)=>{e===a?t.fOffset+=e.length-r.offset:e===o&&(t.sOffset+=n.offset)},cef:t=>(e=>{const t=f.call(e,0);return t.sort(((e,t)=>((e,t)=>((e,t,n)=>!!(e.compareDocumentPosition(t)&n))(e,t,Node.DOCUMENT_POSITION_PRECEDING))(e.elements[0].dom,t.elements[0].dom)?1:-1)),t})(x(((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:y(n.querySelectorAll("*[contenteditable=true]"),C);var o})(0,C(t)),(t=>{const n=t.dom;return M(e,n,n)})))},!1)})(e,t),B=(e,t)=>{const n=e.createRng();return n.selectNode(t),j(e,n)},I=(e,t)=>x(t,(t=>{const n=t.elements,o=y(n,O).join(""),r=((e,t,n=0,o=e.length)=>{const r=t.regex;r.lastIndex=n;const a=[];let s;for(;s=r.exec(e);){const e=s[t.matchIndex],n=s.index+s[0].indexOf(e),i=n+e.length;if(i>o)break;a.push({start:n,finish:i}),r.lastIndex=i}return a})(o,e,t.sOffset,o.length-t.fOffset);return((e,t)=>{const n=(o=e,r=(e,n)=>{const o=O(n),r=e.last,a=r+o.length,s=x(t,((e,t)=>e.start<a&&e.finish>r?[{element:n,start:Math.max(r,e.start)-r,finish:Math.min(a,e.finish)-r,matchId:t}]:[]));return{results:e.results.concat(s),last:a}},a={results:[],last:0},v(o,((e,t)=>{a=r(a,e)})),a).results;var o,r,a;return((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],i=t(s);i!==n&&(o.push(r),r=[]),n=i,r.push(s)}return 0!==r.length&&o.push(r),o}})(n,(e=>e.matchId))})(n,r)})),L=(e,t)=>{w(e,((e,n)=>{w(e,(e=>{const o=C(t.cloneNode(!1));((e,t,n)=>{((e,t,n)=>{if(!(r(n)||s(n)||i(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,"data-mce-index",n)})(o,0,n);const a=e.element.dom;if(a.length===e.finish&&0===e.start)_(e.element,o);else{a.length!==e.finish&&a.splitText(e.finish);const t=a.splitText(e.start);_(C(t),o)}}))}))},z=e=>e.getAttribute("data-mce-index"),q=e=>{var t;const n=e.parentNode;e.firstChild&&n.insertBefore(e.firstChild,e),null===(t=e.parentNode)||void 0===t||t.removeChild(e)},H=(e,t)=>{const n=[],o=h.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let e=0;e<o.length;e++){const r=z(o[e]);null!==r&&r.length&&r===t.toString()&&n.push(o[e])}return n},W=(e,t,n)=>{const o=t.get();let r=o.index;const a=e.dom;n?r+1===o.count?r=0:r++:r-1==-1?r=o.count-1:r--,a.removeClass(H(e,o.index),"mce-match-marker-selected");const s=H(e,r);return s.length?(a.addClass(H(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(s[0]),r):-1},U=(e,t)=>{const n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},V=(e,t,n,o,r,a)=>{const s=e.selection,i=((e,t)=>{const n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?`(?:^|\\s|${p()})`+n+`(?=$|\\s|${p()})`:n})(n,r),l=s.isForward(),c=((e,t,n,o)=>{const r=e.dom.create("span",{"data-mce-bogus":1});r.className="mce-match-marker";const a=e.getBody();return Y(e,t,!1),o?((e,t,n,o)=>{const r=n.getBookmark(),a=e.select("td[data-mce-selected],th[data-mce-selected]"),s=a.length>0?((e,t)=>x(t,(t=>B(e,t))))(e,a):j(e,n.getRng()),i=I(t,s);return L(i,o),n.moveToBookmark(r),i.length})(e.dom,n,e.selection,r):((e,t,n,o)=>{const r=B(e,n),a=I(t,r);return L(a,o),a.length})(e.dom,n,a,r)})(e,t,{regex:new RegExp(i,o?"g":"gi"),matchIndex:1},a);if(g.browser.isSafari()&&s.setRng(s.getRng(),l),c){const s=W(e,t,!0);t.set({index:s,count:c,text:n,matchCase:o,wholeWord:r,inSelection:a})}return c},Z=(e,t)=>{const n=W(e,t,!0);t.set({...t.get(),index:n})},K=(e,t)=>{const n=W(e,t,!1);t.set({...t.get(),index:n})},G=e=>{const t=z(e);return null!==t&&t.length>0},X=(e,t,n,o,r)=>{const a=t.get(),s=a.index;let i,l=s;o=!1!==o;const c=e.getBody(),u=h.grep(h.toArray(c.getElementsByTagName("span")),G);for(let t=0;t<u.length;t++){const c=z(u[t]);let d=i=parseInt(c,10);if(r||d===a.index){for(n.length?(u[t].innerText=n,q(u[t])):U(e.dom,u[t]);u[++t];){if(d=parseInt(z(u[t]),10),d!==i){t--;break}U(e.dom,u[t])}o&&l--}else i>s&&u[t].setAttribute("data-mce-index",String(i-1))}return t.set({...a,count:r?0:a.count-1,index:l}),o?Z(e,t):K(e,t),!r&&t.get().count>0},Y=(e,t,n)=>{let o,r;const a=t.get(),s=h.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<s.length;e++){const t=z(s[e]);null!==t&&t.length&&(t===a.index.toString()&&(o||(o=s[e].firstChild),r=s[e].firstChild),q(s[e]))}if(t.set({...a,index:-1,count:0,text:""}),o&&r){const t=e.dom.createRng();return t.setStart(o,0),t.setEnd(r,r.data.length),!1!==n&&e.selection.setRng(t),t}},J=(t,n)=>{const o=(()=>{const t=(t=>{const n=e(m.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(m.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(m.some(e))}}})(l);return{...t,on:e=>t.get().each(e)}})();t.undoManager.add();const r=h.trim(t.selection.getContent({format:"text"})),a=e=>{e.setEnabled("next",((e,t)=>t.get().count>1)(0,n)),e.setEnabled("prev",((e,t)=>t.get().count>1)(0,n))},s=(e,t)=>{v(["replace","replaceall","prev","next"],(n=>e.setEnabled(n,!t)))},i=(e,t)=>{t.redial(y(e,t.getData()))},c=(e,t)=>{g.browser.isSafari()&&g.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},u=e=>{Y(t,n,!1),s(e,!0),a(e)},d=e=>{const o=e.getData(),r=n.get();if(o.findtext.length){if(r.text===o.findtext&&r.matchCase===o.matchcase&&r.wholeWord===o.wholewords)Z(t,n);else{const r=V(t,n,o.findtext,o.matchcase,o.wholewords,o.inselection);r<=0&&i(!0,e),s(e,0===r)}a(e)}else u(e)},p=n.get(),f={findtext:r,replacetext:"",wholewords:p.wholeWord,matchcase:p.matchCase,inselection:p.inSelection},b=e=>{const t=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},y=(e,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:b(e)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(t,o)=>{e&&i(!1,t),"findtext"===o.name&&n.get().count>0&&u(t)},onAction:(e,o)=>{const r=e.getData();switch(o.name){case"find":d(e);break;case"replace":X(t,n,r.replacetext)?a(e):u(e);break;case"replaceall":X(t,n,r.replacetext,!0,!0),u(e);break;case"prev":K(t,n),a(e);break;case"next":Z(t,n),a(e);break;case"matchcase":case"wholewords":case"inselection":i(!1,e),(e=>{const t=e.getData(),o=n.get();n.set({...o,matchCase:t.matchcase,wholeWord:t.wholewords,inSelection:t.inselection})})(e),u(e)}c(e,o.name)},onSubmit:e=>{d(e),c(e,"find")},onClose:()=>{t.focus(),Y(t,n),t.undoManager.add()}});o.set(t.windowManager.open(y(!1,f),{inline:"toolbar"}))},Q=(e,t)=>()=>{J(e,t)};t.add("searchreplace",(t=>{const n=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return((e,t)=>{e.addCommand("SearchReplace",(()=>{J(e,t)}))})(t,n),((e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Q(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Q(e,t),icon:"search",shortcut:"Meta+F"}),e.shortcuts.add("Meta+F","",Q(e,t))})(t,n),((e,t)=>({done:n=>Y(e,t,n),find:(n,o,r,a=!1)=>V(e,t,n,o,r,a),next:()=>Z(e,t),prev:()=>K(e,t),replace:(n,o,r)=>X(e,t,n,o,r)}))(t,n)}))}()},5444:function(e,t,n){n(66193)},5638:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,o=e=>t=>typeof t===e,r=e=>t=>e===t,a=n("string"),s=n("object"),i=n("array"),l=r(null),c=o("boolean"),u=r(void 0),d=e=>!(e=>null==e)(e),m=o("function"),p=o("number"),g=()=>{},h=e=>()=>e;function f(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const b=h(!1),y=h(!0);class v{constructor(e,t){this.tag=e,this.value=t}static some(e){return new v(!0,e)}static none(){return v.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?v.some(e(this.value)):v.none()}bind(e){return this.tag?e(this.value):v.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:v.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return d(e)?v.some(e):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}v.singletonNone=new v(!1);const w=Array.prototype.push,x=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},S=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},k=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},C=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return v.some(r);if(n(r,o))break}return v.none()})(e,t,b),T=t=>{const n=e(v.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(v.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(v.some(e))}}},_=()=>T((e=>e.unbind())),A=Object.keys,O="undefined"!=typeof window?window:Function("return this;")(),E=(e,t)=>((e,t)=>{let n=null!=t?t:O;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),N=Object.getPrototypeOf,P=e=>{const t=E("ownerDocument.defaultView",e);return s(e)&&((e=>((e,t)=>{const n=((e,t)=>E(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(N(e).constructor.name))},D=e=>t=>(e=>e.dom.nodeType)(t)===e,F=D(1),R=D(3),$=D(11),M=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},j=(e,t)=>{e.dom.removeAttribute(t)},B=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!u(o)||r+t.length<=o)},I=e=>void 0!==e.style&&m(e.style.getPropertyValue),L=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},z=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},q=e=>L(e.dom.ownerDocument),H=e=>x(e.dom.childNodes,L),W=e=>{const t=(e=>L(e.dom.getRootNode()))(e);return $(n=t)&&d(n.dom.host)?v.some(t):v.none();var n},U=e=>L(e.dom.host),V=e=>{const t=R(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return W(L(t)).fold((()=>n.body.contains(t)),(o=V,r=U,e=>o(r(e))));var o,r},Z=(e,t,n)=>{if(!a(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);I(e)&&e.style.setProperty(t,n)},K=(e,t,n)=>{const o=e.dom;Z(o,t,n)},G=(e,t)=>{const n=e.dom;((e,t)=>{const n=A(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(t,((e,t)=>{Z(n,t,e)}))},X=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||V(e)?o:Y(n,t)},Y=(e,t)=>I(e)?e.style.getPropertyValue(t):"",J=e=>{const t=L((e=>{if(d(e.target)){const t=L(e.target);if(F(t)&&d(t.dom.shadowRoot)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return(e=>0<e.length?v.some(e[0]):v.none())(t)}}return v.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(a=o,s=n,(...e)=>a(s.apply(null,e)));var a,s;return((e,t,n,o,r,a,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},Q=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},ee=y,te=(e,t,n)=>((e,t,n,o)=>((e,t,n,o,r)=>{const a=((e,t)=>n=>{e(n)&&t(J(n))})(n,o);return e.dom.addEventListener(t,a,r),{unbind:f(Q,e,t,a,r)}})(e,t,n,o,!1))(e,t,ee,n),ne=()=>oe(0,0),oe=(e,t)=>({major:e,minor:t}),re={nu:oe,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?ne():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return oe(o(1),o(2))})(e,n)},unknown:ne},ae=(e,t)=>{const n=String(t).toLowerCase();return C(e,(e=>e.search(n)))},se=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ie=e=>t=>B(t,e),le=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>B(e,"edge/")&&B(e,"chrome")&&B(e,"safari")&&B(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,se],search:e=>B(e,"chrome")&&!B(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>B(e,"msie")||B(e,"trident")},{name:"Opera",versionRegexes:[se,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ie("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ie("firefox")},{name:"Safari",versionRegexes:[se,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(B(e,"safari")||B(e,"mobile/"))&&B(e,"applewebkit")}],ce=[{name:"Windows",search:ie("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>B(e,"iphone")||B(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ie("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ie("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ie("linux"),versionRegexes:[]},{name:"Solaris",search:ie("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ie("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ie("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ue={browsers:h(le),oses:h(ce)},de="Edge",me="Chromium",pe="Opera",ge="Firefox",he="Safari",fe=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(de),isChromium:o(me),isIE:o("IE"),isOpera:o(pe),isFirefox:o(ge),isSafari:o(he)}},be=()=>fe({current:void 0,version:re.unknown()}),ye=fe,ve=(h(de),h(me),h("IE"),h(pe),h(ge),h(he),"Windows"),we="Android",xe="Linux",Se="macOS",ke="Solaris",Ce="FreeBSD",Te="ChromeOS",_e=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(ve),isiOS:o("iOS"),isAndroid:o(we),isMacOS:o(Se),isLinux:o(xe),isSolaris:o(ke),isFreeBSD:o(Ce),isChromeOS:o(Te)}},Ae=()=>_e({current:void 0,version:re.unknown()}),Oe=_e,Ee=(h(ve),h("iOS"),h(we),h(xe),h(Se),h(ke),h(Ce),h(Te),(e,t,n)=>{const o=ue.browsers(),r=ue.oses(),a=t.bind((e=>((e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n]);if(o.isSome())return o}return v.none()})(t.brands,(t=>{const n=t.brand.toLowerCase();return C(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:re.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>ae(e,t).map((e=>{const n=re.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(be,ye),s=((e,t)=>ae(e,t).map((e=>{const n=re.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(Ae,Oe),i=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),i=s||o("(pointer:coarse)"),l=r||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:h(r),isiPhone:h(a),isTablet:h(l),isPhone:h(c),isTouch:h(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:h(u),isDesktop:h(d)}})(s,a,e,n);return{browser:a,os:s,deviceType:i}}),Ne=e=>window.matchMedia(e).matches;let Pe=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})((()=>Ee(window.navigator.userAgent,v.from(window.navigator.userAgentData),Ne)));const De=(e,t)=>({left:e,top:t,translate:(n,o)=>De(e+n,t+o)}),Fe=De,Re=e=>{const t=void 0===e?window:e;return Pe().browser.isFirefox()?v.none():v.from(t.visualViewport)},$e=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Me=e=>{const t=void 0===e?window:e,n=t.document,o=(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Fe(n,o)})(L(n));return Re(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return $e(o.left,o.top,n,r)}),(e=>$e(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},je=(e,t,n)=>Re(n).map((n=>{const o=e=>t(J(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}})).getOrThunk((()=>({unbind:g})));var Be=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ie=tinymce.util.Tools.resolve("tinymce.Env");const Le=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},ze=e=>e.options.get("fullscreen_native"),qe=e=>{return e.dom===(void 0!==(t=q(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},He="data-ephox-mobile-fullscreen-style",We="position:absolute!important;",Ue="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ve=Ie.os.isAndroid(),Ze=(e,t,n)=>{const o=t=>n=>{const o=M(n,"style"),r=void 0===o?"no-styles":o.trim();r!==t&&(((e,t,n)=>{((e,t,n)=>{if(!(a(n)||c(n)||p(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)})(n,He,r),G(n,e.parseStyle(t)))},r=((e,t,n)=>((e,t,n)=>k(((e,t)=>{const n=m(t)?t:b;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=L(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,n),t))(e,(e=>z(e,t)),n))(t,"*"),s=(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t})(x(r,(e=>((e,t)=>(e=>{return k((e=>v.from(e.dom.parentNode).map(L))(n=e).map(H).map((e=>k(e,(e=>{return t=e,!(n.dom===t.dom);var t})))).getOr([]),(e=>z(e,t)));var n})(e))(e,"*:not(.tox-silver-sink)")))),l=(e=>{const t=X(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"})(n);S(s,o("display:none!important;")),S(r,o(We+Ue+l)),o((!0===Ve?"":We)+Ue+l)(t)},Ke=Be.DOM,Ge=Re().fold((()=>({bind:g,unbind:g})),(e=>{const t=(()=>{const e=T(g);return{...e,on:t=>e.get().each(t)}})(),n=_(),o=_(),r=(e=>{let t=null;return{cancel:()=>{l(t)||(clearTimeout(t),t=null)},throttle:(...n)=>{l(t)&&(t=setTimeout((()=>{t=null,e.apply(null,n)}),50))}}})((()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((()=>{t.on((t=>G(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})))}))}));return{bind:e=>{t.set(e),r.throttle(),n.set(je("resize",r.throttle)),o.set(je("scroll",r.throttle))},unbind:()=>{t.on((()=>{n.clear(),o.clear()})),t.clear()}}})),Xe=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),a=L(r),s=(i=a,v.from(i.dom.nextSibling).map(L)).filter((e=>(e=>F(e)&&P(e.dom))(e)&&(e=>(e=>void 0!==e.dom.classList)(e)&&e.dom.classList.contains("tox-silver-sink"))(e)));var i;const l=(e=>{const t=L(e.getElement());return W(t).map(U).getOrThunk((()=>(e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return L(t)})(q(t))))})(e),c=t.get(),u=L(e.getBody()),d=Ie.deviceType.isTouch(),m=r.style,p=e.iframeElement,g=null==p?void 0:p.style,h=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),W(a).map((e=>U(e).dom)).each((t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},f=()=>{d&&(e=>{const t=(e=>{const t=document;return 1!==(n=t).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:x(t.querySelectorAll(e),L);var n})("["+He+"]");S(t,(t=>{const n=M(t,He);n&&"no-styles"!==n?G(t,e.parseStyle(n)):j(t,"style"),j(t,He)}))})(e.dom),h(Ke.removeClass),Ge.unbind(),v.from(t.get()).each((e=>e.fullscreenChangeHandler.unbind()))};if(c)c.fullscreenChangeHandler.unbind(),ze(e)&&qe(l)&&(e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()})(q(l)),g.width=c.iframeWidth,g.height=c.iframeHeight,m.width=c.containerWidth,m.height=c.containerHeight,m.top=c.containerTop,m.left=c.containerLeft,y=s,w=c.sinkCssPosition,k=(e,t)=>{K(e,"position",t)},y.isSome()&&w.isSome()?v.some(k(y.getOrDie(),w.getOrDie())):v.none(),f(),b=c.scrollPos,window.scrollTo(b.x,b.y),t.set(null),Le(e,!1),e.off("remove",f);else{const n=te(q(l),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(n=>{ze(e)&&(qe(l)||null===t.get()||Xe(e,t))})),o={scrollPos:Me(window),containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,iframeWidth:g.width,iframeHeight:g.height,fullscreenChangeHandler:n,sinkCssPosition:s.map((e=>X(e,"position")))};d&&Ze(e.dom,a,u),g.width=g.height="100%",m.width=m.height="",h(Ke.addClass),s.each((e=>{K(e,"position","fixed")})),Ge.bind(a),e.on("remove",f),t.set(o),ze(e)&&(e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()})(l),Le(e,!0)}var b,y,w,k};var Ye=tinymce.util.Tools.resolve("tinymce.util.VK");const Je=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)};t.add("fullscreen",(t=>{const n=e(null);return t.inline||((e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})})(t),((e,t)=>{e.addCommand("mceFullScreen",(()=>{Xe(e,t)}))})(t,n),((e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:Je(e,t),context:"any"}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:Je(e,t),shortcut:"Meta+Shift+F",context:"any"})})(t,n),((e,t)=>{e.on("init",(()=>{e.on("keydown",(e=>{e.keyCode!==Ye.TAB||e.metaKey||e.ctrlKey||!t.get()||e.preventDefault()}))}))})(t,n),t.addShortcut("Meta+Shift+F","","mceFullScreen")),(e=>({isFullscreen:()=>null!==e.get()}))(n)}))}()},7828:function(e,t,n){n(83393)},8627:function(){!function(){"use strict";function e(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function t(e){return!(null==e)}function n(){}function o(e){return function(){return e}}function r(e){return e}function a(){return u}var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(e){return n=typeof(t=e),"array"==(null===t?"null":"object"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n);var t,n},l=o(!"function"),c=o(!0),u={fold:function(e,t){return e()},isSome:l,isNone:c,getOr:r,getOrThunk:d,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:r,orThunk:d,map:a,each:n,bind:a,exists:l,forall:c,filter:function(){return u},toArray:function(){return[]},toString:o("none()")};function d(e){return e()}function m(e,t){for(var n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1}function p(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var a=e[r];o[r]=t(a,r)}return o}function g(e,t){for(var n=0,o=e.length;n<o;n++)t(e[n],n)}function h(){var t,o,r=(t=n,o=e(re.none()),{clear:function(){a(),o.set(re.none())},isSet:function(){return o.get().isSome()},get:function(){return o.get()},set:function(e){a(),o.set(re.some(e))}});function a(){return o.get().each(t)}return le(le({},r),{on:function(e){return r.get().each(e)}})}function f(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}function b(e,t){return e.fire("PastePlainTextToggle",{state:t})}function y(e){return e.getParam("paste_data_images",!1)}function v(e){return e.getParam("paste_retain_style_properties")}function w(e){return e.getParam("validate")}function x(e){return e.getParam("paste_data_images",!1,"boolean")}function S(e){return pe.explode(e.getParam("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"))}function k(e){return-1!==e.indexOf(he)}function C(e,t){return pe.each(t,(function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])})),e}function T(e){return C(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?" ":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function _(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function A(e,t){var n,o=v(e);o&&(n=pe.makeMap(o.split(/[, ]/))),t=C(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi," "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return 0<t.length?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(" "):""}]]);var r=e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody"),a=Se({valid_elements:r,valid_children:"-li[p]"});pe.each(a.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var s=ve({},a);s.addAttributeFilter("style",(function(t){for(var o,r=t.length;r--;)(o=t[r]).attr("style",function(e,t,n,o){var r={},a=e.dom.parseStyle(o);return pe.each(a,(function(a,s){switch(s){case"mso-list":var i=/\w+ \w+([0-9]+)/i.exec(o);i&&(n._listLevel=parseInt(i[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":s="text-align";break;case"vert-align":s="vertical-align";break;case"font-color":case"mso-foreground":s="color";break;case"mso-background":case"mso-highlight":s="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(r[s]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}0!==s.indexOf("mso-comment")?0!==s.indexOf("mso-")&&("all"===v(e)||t&&t[s])&&(r[s]=a):n.remove()})),/(bold)/i.test(r["font-weight"])&&(delete r["font-weight"],n.wrap(new xe("b",1))),/(italic)/i.test(r["font-style"])&&(delete r["font-style"],n.wrap(new xe("i",1))),e.dom.serializeStyle(r,n.name)||null}(e,n,o,o.attr("style"))),"span"===o.name&&o.parent&&!o.attributes.length&&o.unwrap()})),s.addAttributeFilter("class",(function(e){for(var t,n,o=e.length;o--;)n=(t=e[o]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),s.addNodeFilter("del",(function(e){for(var t=e.length;t--;)e[t].remove()})),s.addNodeFilter("a",(function(e){for(var t,n,o,r=e.length;r--;)n=(t=e[r]).attr("href"),o=t.attr("name"),n&&-1!==n.indexOf("#_msocom_")?t.remove():!(n=n&&0===n.indexOf("file://")?(n=n.split("#")[1])&&"#"+n:n)&&!o||o&&!/^_?(?:toc|edn|ftn)/i.test(o)?t.unwrap():t.attr({href:n,name:o})}));var i=s.parse(t);return e.getParam("paste_convert_word_fake_lists",!0)&&function(e){for(var t,n,o=1,r=function(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)for(;t+=r(e),e=e.next;);return t},a=function(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!a(e,t))return!1}while(e=e.next);return!0},s=function(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)for(;s(e),e=e.next;);},i=function(e,r,i){var l=e._listLevel||o;(t=l!==o?l<o?t&&t.parent.parent:(n=t,null):t)&&t.name===r?t.append(e):(n=n||t,t=new xe(r,1),1<i&&t.attr("start",""+i),e.wrap(t)),e.name="li",o<l&&n&&n.lastChild.append(t),o=l,s(e),a(e,/^\u00a0+/),a(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),a(e,/^\u00a0+/)},l=[],c=e.firstChild;null!=c;)if(l.push(c),null!==(c=c.walk()))for(;void 0!==c&&c.parent!==e;)c=c.walk();for(var u,d,m,p=0;p<l.length;p++)"p"===(e=l[p]).name&&e.firstChild?(u=r(e),/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(u)?i(e,"ul"):function(e){var t=!1;return e=u.replace(/^[\u00a0 ]+/,""),pe.each([/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],(function(n){if(n.test(e))return!(t=!0)})),t}(u)?(m=1,i(e,"ol",m=(d=/([0-9]+)\./.exec(u))?parseInt(d[1],10):m)):e._listLevel?i(e,"ul",1):t=null):(n=t,t=null)}(i),we({validate:w(e)},a).serialize(i)}function O(e,t){return{content:e,cancelled:t}}function E(e,t){return e.insertContent(t,{merge:e.getParam("paste_merge_formats",!0),paste:!0}),!0}function N(e){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e)}function P(e,t,n){return!(!1!==e.selection.isCollapsed()||!N(t)||(r=t,a=n,(o=e).undoManager.extra((function(){a(o,r)}),(function(){o.execCommand("mceInsertLink",!1,r)})),0));var o,r,a}function D(e,t,n){return o=e,!(!N(r=t)||!m(S(o),(function(e){return f(t=r.toLowerCase(),n="."+e.toLowerCase(),t.length-n.length);var t,n}))||(s=t,i=n,(a=e).undoManager.extra((function(){i(a,s)}),(function(){a.insertContent('<img src="'+s+'">')})),0));var o,r,a,s,i}function F(e){return"\n"===e||"\r"===e}function R(e,t,n,o){var r,a,s,i,l=function(e,t,n){var o,r,a,s,i,l,c,u,d,m,p,g,h=_(t),f=h?(r=t,(o=e).getParam("paste_enable_default_filters",!0)?A(o,r):r):t;return s=n,i=h,p=(a=e).fire("PastePreProcess",{content:f,internal:s,wordContent:i}),g=function(e,t){var n=ve({},e.schema);n.addNodeFilter("meta",(function(e){pe.each(e,(function(e){e.remove()}))}));var o=n.parse(t,{forced_root_block:!1,isRootContent:!0});return we({validate:w(e)},e.schema).serialize(o)}(a,p.content),a.hasEventListeners("PastePostProcess")&&!p.isDefaultPrevented()?(c=s,u=i,d=(l=a).dom.create("div",{style:"display:none"},g),O((m=l.fire("PastePostProcess",{node:d,internal:c,wordContent:u})).node.innerHTML,m.isDefaultPrevented())):O(g,p.isDefaultPrevented())}(e,t,n);!1===l.cancelled&&(r=e,a=l.content,o||!1===r.getParam("smart_paste",!0)?E(r,a):(s=r,i=a,pe.each([P,D,E],(function(e){return!0!==e(s,i,E)}))))}function $(e,t,n){var o=n||k(t);R(e,t.replace(he,""),o,!1)}function M(e,t){var n,o,r,a,s,i,l=function(e,t,n){return t?(o=!0===t?"p":t,r=n,a=e.split(/\n\n/),s=function(e,t){var n,o=[],r="<"+e;if("object"==typeof t){for(var a in t)n=a,be.call(t,n)&&o.push(a+'="'+ye.encodeAllRaw(t[a])+'"');o.length&&(r+=" "+o.join(" "))}return r+">"}(o,r),i="</"+o+">",1===(l=pe.map(a,(function(e){return e.split(/\n/).join("<br />")}))).length?l[0]:pe.map(l,(function(e){return s+e+i})).join("")):e.replace(/\r?\n/g,"<br>");var o,r,a,s,i,l}((n=e.dom.encode(t).replace(/\r\n/g,"\n"),a=(o=e.getParam("paste_tab_spaces",4,"number"))<=0?"":new Array(o+1).join(" "),s=n.replace(/\t/g,a),i={pcIsSpace:!(r=function(e,t){return-1!==" \f\t\v".indexOf(t)||" "===t?e.pcIsSpace||""===e.str||e.str.length===s.length-1||(n=e.str.length+1)<s.length&&0<=n&&F(s[n])?{pcIsSpace:!1,str:e.str+" "}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:F(t),str:e.str+t};var n}),str:""},g(s,(function(e,t){i=r(i,e)})),i.str),e.getParam("forced_root_block"),e.getParam("forced_root_block_attrs"));R(e,l,!1,!0)}function j(e){var t,n={};if(e&&(!e.getData||(t=e.getData("Text"))&&0<t.length&&-1===t.indexOf("data:text/mce-internal,")&&(n["text/plain"]=t),e.types))for(var o=0;o<e.types.length;o++){var r=e.types[o];try{n[r]=e.getData(r)}catch(e){n[r]=""}}return n}function B(e,t){return t in e&&0<e[t].length}function I(e){return B(e,"text/html")||B(e,"text/plain")}function L(e,n,o){var r,a,s,l,c,u="paste"===n.type?n.clipboardData:n.dataTransfer;if(x(e)&&u){var d=(r=e,s=(a=u).items?function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);se.apply(t,e[n])}return t}(p(ie(a.items),(function(e){return"file"===e.kind?[e.getAsFile()]:[]}))):[],l=a.files?ie(a.files):[],function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var a=e[o];t(a,o)&&n.push(a)}return n}(0<s.length?s:l,(c=S(r),function(e){return f(e.type,"image/",0)&&m(c,(function(t){return n=t.toLowerCase(),(pe.hasOwn(o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"},n)?"image/"+o[n]:"image/"+n)===e.type;var n,o}))})));if(0<d.length)return n.preventDefault(),de.all(p(d,(function(e){return new de((function(n){var o=t(e.getAsFile)?e.getAsFile():e,r=new window.FileReader;r.onload=function(){n({blob:o,uri:r.result})},r.readAsDataURL(o)}))}))).then((function(n){o&&e.selection.setRng(o),g(n,(function(n){var o,r,a,s,i,l,c,u,d,m,p,g,h,f,b,y,v,w,x,S;o=e,a=(r=n).uri,y=(b=(s=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(a))?{type:s[1],data:decodeURIComponent(s[2])}:{type:null,data:null}).data,v=b.type,w=ke(),x=r.blob,(S=new Image).src=r.uri,h=S,!(f=o.getParam("images_dataimg_filter"))||f(h)?(m=void 0,(l=(i=o.editorUpload.blobCache).getByData(y,v))?m=l:(u=(c=o.getParam("images_reuse_filename")&&t(x.name))?(p=o,t(g=x.name.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i))?p.dom.encode(g[1]):null):w,d=c?x.name:void 0,m=i.create(w,x,y,u,d),i.add(m)),$(o,'<img src="'+m.blobUri()+'">',!1)):$(o,'<img src="'+r.uri+'">',!1)}))})),!0}return!1}function z(e){return me.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode}function q(e,t,n){var o,r,a,s,i,l,c;function u(e,t,n,o,r){var s;B(t,"text/html")?s=t["text/html"]:(s=a.getHtml(),r=r||k(s),a.isDefaultContent(s)&&(o=!0)),s=T(s),a.remove();var i,l,c,u,d,m,p,g,h=!1===r&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(s),f=N(s);((o=!s.length||h&&!f||o)||f)&&(s=B(t,"text/plain")&&h?t["text/plain"]:(i=s,l=Se(),c=ve({},l),u="",d=l.getShortEndedElements(),m=pe.makeMap("script noscript style textarea video audio iframe object"," "),p=l.getBlockElements(),g=function(e){var t=e.name,n=e;if("br"!==t){if("wbr"!==t)if(d[t]&&(u+=" "),m[t])u+=" ";else{if(3===e.type&&(u+=e.value),!e.shortEnded&&(e=e.firstChild))for(;g(e),e=e.next;);p[t]&&n.next&&(u+="\n","p"===t&&(u+="\n"))}}else u+="\n"},i=C(i,[/<!\[[^\]]+\]>/g]),g(c.parse(i)),u)),a.isDefaultContent(s)?n||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?M(e,s):$(e,s,r)}r=e,a=t,s=n,l=h(),c=h(),r.on("keyup",c.clear),r.on("keydown",(function(e){function t(e){z(e)&&!e.isDefaultPrevented()&&a.remove()}if(z(e)&&!e.isDefaultPrevented()&&(!(i=e.shiftKey&&86===e.keyCode)||!ce.webkit||-1===navigator.userAgent.indexOf("Version/"))){if(e.stopImmediatePropagation(),l.set(e),c.set(!0),ce.ie&&i)return e.preventDefault(),void r.fire("paste",{ieFake:!0});a.remove(),a.create(),r.once("keyup",t),r.once("paste",(function(){r.off("keyup",t)}))}})),r.on("paste",(function(e){var t=l.isSet()||c.isSet();t&&l.clear();var n,o=j(e.clipboardData||r.getDoc().dataTransfer),d="text"===s.get()||i,m=B(o,fe());i=!1,e.isDefaultPrevented()||(n=e.clipboardData,-1!==navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length)||!I(o)&&L(r,e,a.getLastRng()||r.selection.getRng())?a.remove():(t||e.preventDefault(),!ce.ie||t&&!e.ieFake||B(o,"text/html")||(a.create(),r.dom.bind(a.getEl(),"paste",(function(e){e.stopPropagation()})),r.getDoc().execCommand("Paste",!1,null),o["text/html"]=a.getHtml()),B(o,"text/html")?(e.preventDefault(),m=m||k(o["text/html"]),u(r,o,t,d,m)):ue.setEditorTimeout(r,(function(){u(r,o,t,d,m)}),0))})),e.parser.addNodeFilter("img",(function(t,n,r){var a;if(!x(e)&&r.data&&!0===r.data.paste)for(var s=t.length;s--;)(o=t[s].attr("src"))&&(0!==o.indexOf("webkit-fake-url")&&(e.getParam("allow_html_data_urls",!1,"boolean")||0!==o.indexOf("data:"))||(a=t[s]).attr("data-mce-object")||o===ce.transparentSrc||a.remove())}))}function H(e){return ce.ie&&e.inline?document.body:e.getBody()}function W(e,t,n,o){!function(e,t,n){if(!1===ce.iOS&&"function"==typeof(null==e?void 0:e.setData))try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(fe(),t),1}catch(e){return}}(e.clipboardData,t.html,t.text)?n(t.html,o):(e.preventDefault(),o())}function U(e){return function(t,n){var o=he+t,r=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),a=e.dom.create("div",{contenteditable:"true"},o);e.dom.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),r.appendChild(a),e.dom.add(e.getBody(),r);var s=e.selection.getRng();a.focus();var i=e.dom.createRng();i.selectNodeContents(a),e.selection.setRng(i),ue.setTimeout((function(){e.selection.setRng(s),r.parentNode.removeChild(r),n()}),0)}}function V(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}}function Z(e){return!e.selection.isCollapsed()||(t=e).dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody());var t}function K(e,t){return Te.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())}function G(e,t){e.focus(),e.selection.setRng(t)}function X(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))}function Y(e,t){if(!_(t))return t;var n=[];return pe.each(e.schema.getBlockElements(),(function(e,t){n.push(t)})),t=C(t,[[new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g"),"$1"]]),C(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function J(e,t,n,o){if(o||n)return t;var r,a,s,i=e.getParam("paste_webkit_styles");return!1===e.getParam("paste_remove_styles_if_webkit",!0)||"all"===i?t:(t=(r=i?i.split(/[, ]/):r)?(a=e.dom,s=e.selection.getNode(),t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,o){var i=a.parseStyle(a.decode(n)),l={};if("none"===r)return t+o;for(var c=0;c<r.length;c++){var u=i[r[c]],d=a.getStyle(s,r[c],!0);/color/.test(r[c])&&(u=a.toHex(u),d=a.toHex(d)),d!==u&&(l[r[c]]=u)}var m=a.serializeStyle(l,"span");return m?t+' style="'+m+'"'+o:t+o}))):t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")).replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,o){return t+' style="'+n+'"'+o}))}function Q(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,!0)}))}function ee(e,t){return function(n){function o(e){return n.setActive(e.state)}return n.setActive("text"===t.pasteFormat.get()),e.on("PastePlainTextToggle",o),function(){return e.off("PastePlainTextToggle",o)}}}function te(e){return e.dom.get("mcepastebin")}var ne,oe=function(e){function t(){return a}function n(t){return t(e)}var r=o(e),a={fold:function(t,n){return n(e)},isSome:c,isNone:l,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:t,orThunk:t,map:function(t){return oe(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?a:u},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return a},re={some:oe,none:a,from:function(e){return null==e?u:oe(e)}},ae=Array.prototype.slice,se=Array.prototype.push,ie="function"==typeof Array.from?Array.from:function(e){return ae.call(e)},le=function(){return(le=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ce=tinymce.util.Tools.resolve("tinymce.Env"),ue=tinymce.util.Tools.resolve("tinymce.util.Delay"),de=tinymce.util.Tools.resolve("tinymce.util.Promise"),me=tinymce.util.Tools.resolve("tinymce.util.VK"),pe=tinymce.util.Tools.resolve("tinymce.util.Tools"),ge="x-tinymce/html",he="\x3c!-- "+ge+" --\x3e",fe=o(ge),be=Object.hasOwnProperty,ye=tinymce.util.Tools.resolve("tinymce.html.Entities"),ve=tinymce.util.Tools.resolve("tinymce.html.DomParser"),we=tinymce.util.Tools.resolve("tinymce.html.Serializer"),xe=tinymce.util.Tools.resolve("tinymce.html.Node"),Se=tinymce.util.Tools.resolve("tinymce.html.Schema"),ke=(ne=0,function(){return"mceclip"+ne++}),Ce=function(e,t){var n=te(e);return n&&"mcepastebin"===n.id&&n.innerHTML===t},Te=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils");s.add("paste",(function(t){if(0==(!!t.hasPlugin("powerpaste",!0)&&(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0))){var o=e(!1),r=e(t.getParam("paste_as_text",!1)?"text":"html"),a=(S=r,k=function(t){var n=e(null),o="%MCEPASTEBIN%";return{create:function(){return function(e,t,n){var o=e.dom,r=e.getBody();t.set(e.selection.getRng());var a,s,i,l,c=e.dom.add(H(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(ce.ie||ce.gecko)&&o.setStyle(c,"left","rtl"===o.getStyle(r,"direction",!0)?65535:-65535),o.bind(c,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),s=c,i=n,H(l=a=e)!==l.getBody()&&a.dom.bind(s,"paste keyup",(function(e){Ce(a,i)||a.fire("paste")})),c.focus(),e.selection.select(c,!0)}(t,n,o)},remove:function(){return function(e,t){if(te(e)){for(var n,o=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);o&&e.selection.setRng(o)}t.set(null)}(t,n)},getEl:function(){return te(t)},getHtml:function(){return function(e){function t(t,n){t.appendChild(n),e.dom.remove(n,!0)}var n=pe.grep(H(e).childNodes,(function(e){return"mcepastebin"===e.id})),o=n.shift();pe.each(n,(function(e){t(o,e)}));for(var r=e.dom.select("div[id=mcepastebin]",o),a=r.length-1;0<=a;a--){var s=e.dom.create("div");o.insertBefore(s,r[a]),t(s,r[a])}return o?o.innerHTML:""}(t)},getLastRng:n.get,isDefault:function(){return Ce(t,o)},isDefaultContent:function(e){return e===o}}}(x=t),x.on("PreInit",(function(){return q(x,k,S)})),{pasteFormat:S,pasteHtml:function(e,t){return $(x,e,t)},pasteText:function(e){return M(x,e)},pasteImageData:function(e,t){return L(x,e,t)},getDataTransferItems:j,hasHtmlOrText:I,hasContentType:B}),s=t;return ce.webkit&&X(s,J),ce.ie&&(X(s,Y),w=Q,(v=s).on("PastePostProcess",(function(e){w(v,e.node)}))),(h=t).ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:C,onSetup:ee(h,f=a)}),h.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:C,onSetup:ee(h,f)}),g=a,(p=t).addCommand("mceTogglePlainTextPaste",(function(){var e,t=p;"text"===(e=g).pasteFormat.get()?(e.pasteFormat.set("html"),b(t,!1)):(e.pasteFormat.set("text"),b(t,!0)),t.focus()})),p.addCommand("mceInsertClipboardContent",(function(e,t){t.content&&g.pasteHtml(t.content,t.internal),t.text&&g.pasteText(t.text)})),function(e){var t=e.plugins.paste,n=e.getParam("paste_preprocess");n&&e.on("PastePreProcess",(function(e){n.call(t,t,e)}));var o=e.getParam("paste_postprocess");o&&e.on("PastePostProcess",(function(e){o.call(t,t,e)}))}(t),(u=t).on("cut",(d=u,function(e){Z(d)&&W(e,V(d),U(d),(function(){var e;ce.browser.isChrome()||ce.browser.isFirefox()?(e=d.selection.getRng(),ue.setEditorTimeout(d,(function(){d.selection.setRng(e),d.execCommand("Delete")}),0)):d.execCommand("Delete")}))})),u.on("copy",(m=u,function(e){Z(m)&&W(e,V(m),U(m),n)})),l=a,c=o,(i=t).getParam("paste_block_drop",!1)&&i.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),y(i)||i.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&0<t.files.length&&e.preventDefault()})),i.on("drop",(function(e){var t,n,o,r,a=K(i,e);e.isDefaultPrevented()||c.get()||(t=l.getDataTransferItems(e.dataTransfer),n=l.hasContentType(t,fe()),(!l.hasHtmlOrText(t)||(o=t["text/plain"])&&0===o.indexOf("file://"))&&l.pasteImageData(e,a)||!a||!i.getParam("paste_filter_drop",!0)||(r=t["mce-internal"]||t["text/html"]||t["text/plain"])&&(e.preventDefault(),ue.setEditorTimeout(i,(function(){i.undoManager.transact((function(){t["mce-internal"]&&i.execCommand("Delete"),G(i,a),r=T(r),t["text/html"]?l.pasteHtml(r,n):l.pasteText(r)}))}))))})),i.on("dragstart",(function(e){c.set(!0)})),i.on("dragover dragend",(function(e){y(i)&&!1===c.get()&&(e.preventDefault(),G(i,K(i,e))),"dragend"===e.type&&c.set(!1)})),{clipboard:a}}var i,l,c,u,d,m,p,g,h,f,v,w,x,S,k;function C(){return h.execCommand("mceTogglePlainTextPaste")}}))}()},13550:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=()=>{};class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return t(e)?o.some(e):o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);const r=e=>((e,t)=>t>=0&&t<e.length?o.some(e[t]):o.none())(e,0);var a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const s="undefined"!=typeof window?window:Function("return this;")(),i=function(e,t){const n=window.Prism;window.Prism={manual:!0};var o=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a;switch(n=n||{},r.util.type(t)){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach((function(t,r){o[r]=e(t,n)})),o);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(o){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(o.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var o="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(o))return!1;e=e.parentElement}return!!n}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],s={};for(var i in a)if(a.hasOwnProperty(i)){if(i==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(i)||(s[i]=a[i])}var c=o[e];return o[e]=s,r.languages.DFS(r.languages,(function(t,n){n===c&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,o,a){a=a||{};var s=r.util.objId;for(var i in t)if(t.hasOwnProperty(i)){n.call(t,i,t[i],o||i);var l=t[i],c=r.util.type(l);"Object"!==c||a[s(l)]?"Array"!==c||a[s(l)]||(a[s(l)]=!0,e(l,n,i,a)):(a[s(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var a,s=0;a=o.elements[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(t,n,o){var a=r.util.getLanguage(t),s=r.languages[a];r.util.setLanguage(t,a);var i=t.parentElement;i&&"pre"===i.nodeName.toLowerCase()&&r.util.setLanguage(i,a);var l={element:t,language:a,grammar:s,code:t.textContent};function c(e){l.highlightedCode=e,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r.hooks.run("after-highlight",l),r.hooks.run("complete",l),o&&o.call(l.element)}if(r.hooks.run("before-sanity-check",l),(i=l.element.parentElement)&&"pre"===i.nodeName.toLowerCase()&&!i.hasAttribute("tabindex")&&i.setAttribute("tabindex","0"),!l.code)return r.hooks.run("complete",l),void(o&&o.call(l.element));if(r.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var u=new Worker(r.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(r.highlight(l.code,l.grammar,l.language));else c(r.util.encode(l.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",o),!o.grammar)throw new Error('The language "'+o.language+'" has no grammar.');return o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),a.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}var r=new l;return c(r,r.head,e),i(e,r,t,r.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:a};function a(e,t,n,o){this.type=e,this.content=t,this.alias=n,this.length=0|(o||"").length}function s(e,t,n,o){e.lastIndex=t;var r=e.exec(n);if(r&&o&&r[1]){var a=r[1].length;r.index+=a,r[0]=r[0].slice(a)}return r}function i(e,t,n,o,l,d){for(var m in n)if(n.hasOwnProperty(m)&&n[m]){var p=n[m];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(d&&d.cause==m+","+g)return;var h=p[g],f=h.inside,b=!!h.lookbehind,y=!!h.greedy,v=h.alias;if(y&&!h.pattern.global){var w=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,w+"g")}for(var x=h.pattern||h,S=o.next,k=l;S!==t.tail&&!(d&&k>=d.reach);k+=S.value.length,S=S.next){var C=S.value;if(t.length>e.length)return;if(!(C instanceof a)){var T,_=1;if(y){if(!(T=s(x,k,e,b))||T.index>=e.length)break;var A=T.index,O=T.index+T[0].length,E=k;for(E+=S.value.length;A>=E;)E+=(S=S.next).value.length;if(k=E-=S.value.length,S.value instanceof a)continue;for(var N=S;N!==t.tail&&(E<O||"string"==typeof N.value);N=N.next)_++,E+=N.value.length;_--,C=e.slice(k,E),T.index-=k}else if(!(T=s(x,0,C,b)))continue;A=T.index;var P=T[0],D=C.slice(0,A),F=C.slice(A+P.length),R=k+C.length;d&&R>d.reach&&(d.reach=R);var $=S.prev;if(D&&($=c(t,$,D),k+=D.length),u(t,$,_),S=c(t,$,new a(m,f?r.tokenize(P,f):P,v,P)),F&&c(t,S,F),_>1){var M={cause:m+","+g,reach:R};i(e,t,n,S.prev,k,M),d&&M.reach>d.reach&&(d.reach=M.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var o=t.next,r={value:n,prev:t,next:o};return t.next=r,o.prev=r,e.length++,r}function u(e,t,n){for(var o=t.next,r=0;r<n&&o!==e.tail;r++)o=o.next;t.next=o,o.prev=t,e.length-=r}if(e.Prism=r,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var o="";return t.forEach((function(t){o+=e(t,n)})),o}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(a.classes,s):a.classes.push(s)),r.hooks.run("wrap",a);var i="";for(var l in a.attributes)i+=" "+l+'="'+(a.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+i+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,s=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),s&&e.close()}),!1),r):r;var d=r.util.currentScript();function m(){r.manual||r.highlightAll()}if(d&&(r.filename=d.src,d.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});return void 0!==t&&t.exports&&(t.exports=o),void 0!==e&&(e.Prism=o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,o,r,a){if(n.language===o){var s=n.tokenStack=[];n.code=n.code.replace(r,(function(e){if("function"==typeof a&&!a(e))return e;for(var r,i=s.length;-1!==n.code.indexOf(r=t(o,i));)++i;return s[i]=e,r})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,o){if(n.language===o&&n.tokenStack){n.grammar=e.languages[o];var r=0,a=Object.keys(n.tokenStack);!function s(i){for(var l=0;l<i.length&&!(r>=a.length);l++){var c=i[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=a[r],d=n.tokenStack[u],m="string"==typeof c?c:c.content,p=t(o,u),g=m.indexOf(p);if(g>-1){++r;var h=m.substring(0,g),f=new e.Token(o,e.tokenize(d,n.grammar),"language-"+o,d),b=m.substring(g+p.length),y=[];h&&y.push.apply(y,s([h])),y.push(f),b&&y.push.apply(y,s([b])),"string"==typeof c?i.splice.apply(i,[l,1].concat(y)):c.content=y}}else c.content&&s(c.content)}return i}(n.tokens)}}}})}(o),o.languages.c=o.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),o.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),o.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},o.languages.c.string],char:o.languages.c.char,comment:o.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:o.languages.c}}}}),o.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete o.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(o),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,(function(e,n){return"(?:"+t[+n]+")"}))}function n(e,n,o){return RegExp(t(e,n),o||"")}function o(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var r="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",a="class enum interface record struct",s="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",i="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function l(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var c=l(a),u=RegExp(l(r+" "+a+" "+s+" "+i)),d=l(a+" "+s+" "+i),m=l(r+" "+a+" "+i),p=o(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=o(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,f=t(/<<0>>(?:\s*<<1>>)?/.source,[h,p]),b=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,f]),y=/\[\s*(?:,\s*)*\]/.source,v=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[b,y]),w=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,g,y]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,b,y]),k={keyword:u,punctuation:/[<>()?,.:[\]]/},C=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,T=/"(?:\\.|[^\\"\r\n])*"/.source,_=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[_]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[T]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[b]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,S]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,f]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[b]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[v]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,m,h]),inside:k}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,b]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,p]),inside:{function:n(/^<<0>>/.source,[h]),generic:{pattern:RegExp(p),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,f,h,S,u.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[f,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:u,"class-name":{pattern:RegExp(S),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var A=T+"|"+C,O=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[A]),E=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),N=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,P=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[b,E]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[N,P]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[N]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[E]),inside:e.languages.csharp},"class-name":{pattern:RegExp(b),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var D=/:[^}\r\n]+/.source,F=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),R=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[F,D]),$=o(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[A]),2),M=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[$,D]);function j(t,o){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[o,D]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[R]),lookbehind:!0,greedy:!0,inside:j(R,F)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[M]),lookbehind:!0,greedy:!0,inside:j(M,$)}],char:{pattern:RegExp(C),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(o),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(o),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,o={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[o,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:o.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:o.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":o,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:o.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:o.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(o),o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),o.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),o.languages.markup&&(o.languages.markup.tag.addInlined("script","javascript"),o.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),o.languages.js=o.languages.javascript,o.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.languages.markup.doctype.inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:o.languages[t]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},o.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(o.languages.markup.tag,"addAttribute",{value:function(e,t){o.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:o.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],o=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:o,operator:r,punctuation:a};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},i=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore("php","variable",{string:i,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:i,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:o,operator:r,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){if(/<\?/.test(t.code)){e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(o),o.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},o.languages.python["string-interpolation"].inside.interpolation.inside.rest=o.languages.python,o.languages.py=o.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",o=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+o),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+o+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(o),window.Prism=n,o}(void 0,void 0),l=e=>t=>t.options.get(e),c=l("codesample_languages"),u=l("codesample_global_prismjs"),d=e=>s.Prism&&u(e)?s.Prism:i,m=e=>t(e)&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-"),p=e=>{const t=e.selection?e.selection.getNode():null;return m(t)?o.some(t):o.none()},g=e=>{const t=(e=>{const t=c(e);return t||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]})(e),n=r(t).fold((s="",()=>s),(e=>e.value));var s;const i=((e,t)=>p(e).fold((()=>t),(e=>{const n=e.className.match(/language-(\w+)/);return n?n[1]:t})))(e,n),l=(e=>p(e).bind((e=>o.from(e.textContent))).getOr(""))(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:i,code:l},onSubmit:t=>{const n=t.getData();((e,t,n)=>{const o=e.dom;e.undoManager.transact((()=>{const r=p(e);return n=a.DOM.encode(n),r.fold((()=>{e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>");const r=o.select("#__new")[0];o.setAttrib(r,"id",null),e.selection.select(r)}),(r=>{o.setAttrib(r,"class","language-"+t),r.innerHTML=n,d(e).highlightElement(r),e.selection.select(r)}))}))})(e,n.language,n.code),t.close()}})},h=(f=/^\s+|\s+$/g,e=>e.replace(f,""));var f,b=tinymce.util.Tools.resolve("tinymce.util.Tools");const y=(e,t=n)=>n=>{const o=()=>{n.setEnabled(e.selection.isEditable()),t(n)};return e.on("NodeChange",o),o(),()=>{e.off("NodeChange",o)}};e.add("codesample",(e=>{(e=>{const t=e.options.register;t("codesample_languages",{processor:"object[]"}),t("codesample_global_prismjs",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreProcess",(t=>{const n=e.dom,o=n.select("pre[contenteditable=false]",t.node);b.each(b.grep(o,m),(e=>{const t=e.textContent;let o;for(n.setAttrib(e,"class",h(n.getAttrib(e,"class"))),n.setAttrib(e,"contentEditable",null),n.setAttrib(e,"data-mce-highlighted",null);o=e.firstChild;)e.removeChild(o);n.add(e,"code").textContent=t}))})),e.on("SetContent",(()=>{const t=e.dom,n=b.grep(t.select("pre"),(e=>m(e)&&"true"!==t.getAttrib(e,"data-mce-highlighted")));n.length&&e.undoManager.transact((()=>{b.each(n,(n=>{var o;b.each(t.select("br",n),(n=>{t.replace(e.getDoc().createTextNode("\n"),n)})),n.innerHTML=t.encode(null!==(o=n.textContent)&&void 0!==o?o:""),d(e).highlightElement(n),t.setAttrib(n,"data-mce-highlighted",!0),n.className=h(n.className)}))}))})),e.on("PreInit",(()=>{e.parser.addNodeFilter("pre",(e=>{var t;for(let n=0,o=e.length;n<o;n++){const o=e[n];-1!==(null!==(t=o.attr("class"))&&void 0!==t?t:"").indexOf("language-")&&(o.attr("contenteditable","false"),o.attr("data-mce-highlighted","false"))}}))}))})(e),(e=>{const t=()=>e.execCommand("codesample");e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:y(e,(t=>{t.setActive((e=>{const t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')})(e))}))}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t,onSetup:y(e)})})(e),(e=>{e.addCommand("codesample",(()=>{const t=e.selection.getNode();e.selection.isCollapsed()||m(t)?g(e):e.formatter.toggle("code")}))})(e),e.on("dblclick",(t=>{m(t.target)&&g(e)}))}))}()},17536:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=()=>{};class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return t(e)?o.some(e):o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);var r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const a="undefined"!=typeof window?window:Function("return this;")(),s=function(){const e=window.Prism;window.Prism={manual:!0};var t=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a;switch(n=n||{},r.util.type(t)){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach((function(t,r){o[r]=e(t,n)})),o);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(o){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(o.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var o="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(o))return!1;e=e.parentElement}return!!n}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],s={};for(var i in a)if(a.hasOwnProperty(i)){if(i==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(i)||(s[i]=a[i])}var c=o[e];return o[e]=s,r.languages.DFS(r.languages,(function(t,n){n===c&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,o,a){a=a||{};var s=r.util.objId;for(var i in t)if(t.hasOwnProperty(i)){n.call(t,i,t[i],o||i);var l=t[i],c=r.util.type(l);"Object"!==c||a[s(l)]?"Array"!==c||a[s(l)]||(a[s(l)]=!0,e(l,n,i,a)):(a[s(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var a,s=0;a=o.elements[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(t,n,o){var a=r.util.getLanguage(t),s=r.languages[a];r.util.setLanguage(t,a);var i=t.parentElement;i&&"pre"===i.nodeName.toLowerCase()&&r.util.setLanguage(i,a);var l={element:t,language:a,grammar:s,code:t.textContent};function c(e){l.highlightedCode=e,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r.hooks.run("after-highlight",l),r.hooks.run("complete",l),o&&o.call(l.element)}if(r.hooks.run("before-sanity-check",l),(i=l.element.parentElement)&&"pre"===i.nodeName.toLowerCase()&&!i.hasAttribute("tabindex")&&i.setAttribute("tabindex","0"),!l.code)return r.hooks.run("complete",l),void(o&&o.call(l.element));if(r.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var u=new Worker(r.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(r.highlight(l.code,l.grammar,l.language));else c(r.util.encode(l.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",o),!o.grammar)throw new Error('The language "'+o.language+'" has no grammar.');return o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),a.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}var r=new l;return c(r,r.head,e),i(e,r,t,r.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:a};function a(e,t,n,o){this.type=e,this.content=t,this.alias=n,this.length=0|(o||"").length}function s(e,t,n,o){e.lastIndex=t;var r=e.exec(n);if(r&&o&&r[1]){var a=r[1].length;r.index+=a,r[0]=r[0].slice(a)}return r}function i(e,t,n,o,l,d){for(var m in n)if(n.hasOwnProperty(m)&&n[m]){var p=n[m];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(d&&d.cause==m+","+g)return;var h=p[g],f=h.inside,b=!!h.lookbehind,y=!!h.greedy,v=h.alias;if(y&&!h.pattern.global){var w=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,w+"g")}for(var x=h.pattern||h,S=o.next,k=l;S!==t.tail&&!(d&&k>=d.reach);k+=S.value.length,S=S.next){var C=S.value;if(t.length>e.length)return;if(!(C instanceof a)){var T,_=1;if(y){if(!(T=s(x,k,e,b))||T.index>=e.length)break;var A=T.index,O=T.index+T[0].length,E=k;for(E+=S.value.length;A>=E;)E+=(S=S.next).value.length;if(k=E-=S.value.length,S.value instanceof a)continue;for(var N=S;N!==t.tail&&(E<O||"string"==typeof N.value);N=N.next)_++,E+=N.value.length;_--,C=e.slice(k,E),T.index-=k}else if(!(T=s(x,0,C,b)))continue;A=T.index;var P=T[0],D=C.slice(0,A),F=C.slice(A+P.length),R=k+C.length;d&&R>d.reach&&(d.reach=R);var $=S.prev;if(D&&($=c(t,$,D),k+=D.length),u(t,$,_),S=c(t,$,new a(m,f?r.tokenize(P,f):P,v,P)),F&&c(t,S,F),_>1){var M={cause:m+","+g,reach:R};i(e,t,n,S.prev,k,M),d&&M.reach>d.reach&&(d.reach=M.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var o=t.next,r={value:n,prev:t,next:o};return t.next=r,o.prev=r,e.length++,r}function u(e,t,n){for(var o=t.next,r=0;r<n&&o!==e.tail;r++)o=o.next;t.next=o,o.prev=t,e.length-=r}if(e.Prism=r,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var o="";return t.forEach((function(t){o+=e(t,n)})),o}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(a.classes,s):a.classes.push(s)),r.hooks.run("wrap",a);var i="";for(var l in a.attributes)i+=" "+l+'="'+(a.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+i+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,s=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),s&&e.close()}),!1),r):r;var d=r.util.currentScript();function m(){r.manual||r.highlightAll()}if(d&&(r.filename=d.src,d.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});return t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,o,r,a){if(n.language===o){var s=n.tokenStack=[];n.code=n.code.replace(r,(function(e){if("function"==typeof a&&!a(e))return e;for(var r,i=s.length;-1!==n.code.indexOf(r=t(o,i));)++i;return s[i]=e,r})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,o){if(n.language===o&&n.tokenStack){n.grammar=e.languages[o];var r=0,a=Object.keys(n.tokenStack);!function s(i){for(var l=0;l<i.length&&!(r>=a.length);l++){var c=i[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=a[r],d=n.tokenStack[u],m="string"==typeof c?c:c.content,p=t(o,u),g=m.indexOf(p);if(g>-1){++r;var h=m.substring(0,g),f=new e.Token(o,e.tokenize(d,n.grammar),"language-"+o,d),b=m.substring(g+p.length),y=[];h&&y.push.apply(y,s([h])),y.push(f),b&&y.push.apply(y,s([b])),"string"==typeof c?i.splice.apply(i,[l,1].concat(y)):c.content=y}}else c.content&&s(c.content)}return i}(n.tokens)}}}})}(t),t.languages.c=t.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),t.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),t.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},t.languages.c.string],char:t.languages.c.char,comment:t.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:t.languages.c}}}}),t.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete t.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(t),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,(function(e,n){return"(?:"+t[+n]+")"}))}function n(e,n,o){return RegExp(t(e,n),o||"")}function o(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var r="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",a="class enum interface record struct",s="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",i="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function l(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var c=l(a),u=RegExp(l(r+" "+a+" "+s+" "+i)),d=l(a+" "+s+" "+i),m=l(r+" "+a+" "+i),p=o(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=o(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,f=t(/<<0>>(?:\s*<<1>>)?/.source,[h,p]),b=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,f]),y=/\[\s*(?:,\s*)*\]/.source,v=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[b,y]),w=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,g,y]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,b,y]),k={keyword:u,punctuation:/[<>()?,.:[\]]/},C=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,T=/"(?:\\.|[^\\"\r\n])*"/.source,_=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[_]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[T]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[b]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,S]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,f]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[b]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[v]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,m,h]),inside:k}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,b]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,p]),inside:{function:n(/^<<0>>/.source,[h]),generic:{pattern:RegExp(p),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,f,h,S,u.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[f,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:u,"class-name":{pattern:RegExp(S),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var A=T+"|"+C,O=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[A]),E=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),N=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,P=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[b,E]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[N,P]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[N]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[E]),inside:e.languages.csharp},"class-name":{pattern:RegExp(b),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var D=/:[^}\r\n]+/.source,F=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),R=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[F,D]),$=o(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[A]),2),M=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[$,D]);function j(t,o){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[o,D]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[R]),lookbehind:!0,greedy:!0,inside:j(R,F)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[M]),lookbehind:!0,greedy:!0,inside:j(M,$)}],char:{pattern:RegExp(C),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(t),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,o={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[o,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:o.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:o.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":o,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:o.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:o.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(t),t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var o={};o["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};r["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},t.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],o=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:o,operator:r,punctuation:a};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},i=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore("php","variable",{string:i,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:i,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:o,operator:r,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){/<\?/.test(t.code)&&e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(t),t.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},t.languages.python["string-interpolation"].inside.interpolation.inside.rest=t.languages.python,t.languages.py=t.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",o=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+o),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+o+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(t),window.Prism=e,t}(),i=e=>t=>t.options.get(e),l=i("codesample_languages"),c=i("codesample_global_prismjs"),u=e=>a.Prism&&c(e)?a.Prism:s,d=e=>t(e)&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-"),m=e=>{const t=e.selection?e.selection.getNode():null;return d(t)?o.some(t):o.none()},p=e=>{const t=(e=>l(e)||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}])(e),n=(a=t,(e=>0<e.length?o.some(e[0]):o.none())(a)).fold((()=>""),(e=>e.value));var a;const s=((e,t)=>m(e).fold((()=>t),(e=>{const n=e.className.match(/language-(\w+)/);return n?n[1]:t})))(e,n),i=(e=>m(e).bind((e=>o.from(e.textContent))).getOr(""))(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:s,code:i},onSubmit:t=>{const n=t.getData();((e,t,n)=>{const o=e.dom;e.undoManager.transact((()=>{const a=m(e);return n=r.DOM.encode(n),a.fold((()=>{e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>");const r=o.select("#__new")[0];o.setAttrib(r,"id",null),e.selection.select(r)}),(r=>{o.setAttrib(r,"class","language-"+t),r.innerHTML=n,u(e).highlightElement(r),e.selection.select(r)}))}))})(e,n.language,n.code),t.close()}})},g=(h=/^\s+|\s+$/g,e=>e.replace(h,""));var h,f=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=(e,t=n)=>n=>{const o=()=>{n.setEnabled(e.selection.isEditable()),t(n)};return e.on("NodeChange",o),o(),()=>{e.off("NodeChange",o)}};e.add("codesample",(e=>{(e=>{const t=e.options.register;t("codesample_languages",{processor:"object[]"}),t("codesample_global_prismjs",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreProcess",(t=>{const n=e.dom,o=n.select("pre[contenteditable=false]",t.node);f.each(f.grep(o,d),(e=>{const t=e.textContent;let o;for(n.setAttrib(e,"class",g(n.getAttrib(e,"class"))),n.setAttrib(e,"contentEditable",null),n.setAttrib(e,"data-mce-highlighted",null);o=e.firstChild;)e.removeChild(o);n.add(e,"code").textContent=t}))})),e.on("SetContent",(()=>{const t=e.dom,n=f.grep(t.select("pre"),(e=>d(e)&&"true"!==t.getAttrib(e,"data-mce-highlighted")));n.length&&e.undoManager.transact((()=>{f.each(n,(n=>{var o;f.each(t.select("br",n),(n=>{t.replace(e.getDoc().createTextNode("\n"),n)})),n.innerHTML=t.encode(null!==(o=n.textContent)&&void 0!==o?o:""),u(e).highlightElement(n),t.setAttrib(n,"data-mce-highlighted",!0),n.className=g(n.className)}))}))})),e.on("PreInit",(()=>{e.parser.addNodeFilter("pre",(e=>{var t;for(let n=0,o=e.length;n<o;n++){const o=e[n];-1!==(null!==(t=o.attr("class"))&&void 0!==t?t:"").indexOf("language-")&&(o.attr("contenteditable","false"),o.attr("data-mce-highlighted","false"))}}))}))})(e),(e=>{const t=()=>e.execCommand("codesample");e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:b(e,(t=>{t.setActive((e=>{const t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')})(e))}))}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t,onSetup:b(e)})})(e),(e=>{e.addCommand("codesample",(()=>{const t=e.selection.getNode();e.selection.isCollapsed()||d(t)?p(e):e.formatter.toggle("code")}))})(e),e.on("dblclick",(t=>{d(t.target)&&p(e)}))}))}()},18896:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("boolean"),o=t("number"),r=e=>t=>t.options.get(e),a=r("nonbreaking_force_tab"),s=r("nonbreaking_wrap"),i=(e,t)=>{let n="";for(let o=0;o<t;o++)n+=e;return n},l=(e,t)=>{const n=s(e)||e.plugins.visualchars?`<span class="${(e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled())(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${i("&nbsp;",t)}</span>`:i("&nbsp;",t);e.undoManager.transact((()=>e.insertContent(n)))};var c=tinymce.util.Tools.resolve("tinymce.util.VK");const u=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("nonbreaking",(e=>{(e=>{const t=e.options.register;t("nonbreaking_force_tab",{processor:e=>n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceNonBreaking",(()=>{l(e,1)}))})(e),(e=>{const t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:u(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:u(e)})})(e),(e=>{const t=a(e);t>0&&e.on("keydown",(n=>{if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),l(e,t)}}))})(e)}))}()},22612:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>({isFullscreen:()=>null!==e.get()}),o=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,r=e=>t=>typeof t===e,a=e=>t=>e===t,s=o("string"),i=o("object"),l=o("array"),c=a(null),u=r("boolean"),d=a(void 0),m=e=>!(e=>null==e)(e),p=r("function"),g=r("number"),h=()=>{},f=e=>()=>e;function b(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const y=f(!1),v=f(!0);class w{constructor(e,t){this.tag=e,this.value=t}static some(e){return new w(!0,e)}static none(){return w.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?w.some(e(this.value)):w.none()}bind(e){return this.tag?e(this.value):w.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:w.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return m(e)?w.some(e):w.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}w.singletonNone=new w(!1);const x=Array.prototype.push,S=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},k=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},C=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},T=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return w.some(r);if(n(r,o))break}return w.none()})(e,t,y),_=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t})(S(e,t)),A=e=>((e,t)=>t>=0&&t<e.length?w.some(e[t]):w.none())(e,0),O=t=>{const n=e(w.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(w.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(w.some(e))}}},E=()=>O((e=>e.unbind())),N=Object.keys,P="undefined"!=typeof window?window:Function("return this;")(),D=(e,t)=>((e,t)=>{let n=null!=t?t:P;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),F=(e,t)=>{const n=((e,t)=>D(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},R=Object.getPrototypeOf,$=e=>{const t=D("ownerDocument.defaultView",e);return i(e)&&((e=>F("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(R(e).constructor.name))},M=e=>t=>(e=>e.dom.nodeType)(t)===e,j=M(1),B=M(3),I=M(11),L=(e,t,n)=>{((e,t,n)=>{if(!(s(n)||u(n)||g(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},z=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},q=(e,t)=>{e.dom.removeAttribute(t)},H=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!d(o)||r+t.length<=o)},W=e=>void 0!==e.style&&p(e.style.getPropertyValue),U=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},V={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return U(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return U(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return U(n)},fromDom:U,fromPoint:(e,t,n)=>w.from(e.dom.elementFromPoint(t,n)).map(U)},Z=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},K=e=>V.fromDom(e.dom.ownerDocument),G=e=>(e=>w.from(e.dom.parentNode).map(V.fromDom))(e).map(X).map((t=>C(t,(t=>{return n=t,!(e.dom===n.dom);var n})))).getOr([]),X=e=>S(e.dom.childNodes,V.fromDom),Y=e=>{const t=(e=>V.fromDom(e.dom.getRootNode()))(e);return I(n=t)&&m(n.dom.host)?w.some(t):w.none();var n},J=e=>V.fromDom(e.dom.host),Q=e=>m(e.dom.shadowRoot),ee=e=>{const t=B(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return Y(V.fromDom(t)).fold((()=>n.body.contains(t)),(o=ee,r=J,e=>o(r(e))));var o,r},te=(e,t,n)=>{if(!s(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);W(e)&&e.style.setProperty(t,n)},ne=(e,t,n)=>{const o=e.dom;te(o,t,n)},oe=(e,t)=>{const n=e.dom;((e,t)=>{const n=N(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(t,((e,t)=>{te(n,t,e)}))},re=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||ee(e)?o:ae(n,t)},ae=(e,t)=>W(e)?e.style.getPropertyValue(t):"",se=e=>{const t=V.fromDom((e=>{if(m(e.target)){const t=V.fromDom(e.target);if(j(t)&&Q(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return A(t)}}return w.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(a=o,s=n,(...e)=>a(s.apply(null,e)));var a,s;return((e,t,n,o,r,a,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},ie=(e,t,n,o,r)=>{const a=((e,t)=>n=>{e(n)&&t(se(n))})(n,o);return e.dom.addEventListener(t,a,r),{unbind:b(le,e,t,a,r)}},le=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},ce=v,ue=(e,t,n)=>((e,t,n,o)=>ie(e,t,n,o,!1))(e,t,ce,n),de=()=>me(0,0),me=(e,t)=>({major:e,minor:t}),pe={nu:me,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?de():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return me(o(1),o(2))})(e,n)},unknown:de},ge=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return w.none()})(t.brands,(t=>{const n=t.brand.toLowerCase();return T(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:pe.nu(parseInt(t.version,10),0)})))})),he=(e,t)=>{const n=String(t).toLowerCase();return T(e,(e=>e.search(n)))},fe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,be=e=>t=>H(t,e),ye=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>H(e,"edge/")&&H(e,"chrome")&&H(e,"safari")&&H(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fe],search:e=>H(e,"chrome")&&!H(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>H(e,"msie")||H(e,"trident")},{name:"Opera",versionRegexes:[fe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:be("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:be("firefox")},{name:"Safari",versionRegexes:[fe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(H(e,"safari")||H(e,"mobile/"))&&H(e,"applewebkit")}],ve=[{name:"Windows",search:be("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>H(e,"iphone")||H(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:be("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:be("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:be("linux"),versionRegexes:[]},{name:"Solaris",search:be("sunos"),versionRegexes:[]},{name:"FreeBSD",search:be("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:be("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],we={browsers:f(ye),oses:f(ve)},xe="Edge",Se="Chromium",ke="Opera",Ce="Firefox",Te="Safari",_e=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(xe),isChromium:o(Se),isIE:o("IE"),isOpera:o(ke),isFirefox:o(Ce),isSafari:o(Te)}},Ae={unknown:()=>_e({current:void 0,version:pe.unknown()}),nu:_e,edge:f(xe),chromium:f(Se),ie:f("IE"),opera:f(ke),firefox:f(Ce),safari:f(Te)},Oe="Windows",Ee="Android",Ne="Linux",Pe="macOS",De="Solaris",Fe="FreeBSD",Re="ChromeOS",$e=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(Oe),isiOS:o("iOS"),isAndroid:o(Ee),isMacOS:o(Pe),isLinux:o(Ne),isSolaris:o(De),isFreeBSD:o(Fe),isChromeOS:o(Re)}},Me={unknown:()=>$e({current:void 0,version:pe.unknown()}),nu:$e,windows:f(Oe),ios:f("iOS"),android:f(Ee),linux:f(Ne),macos:f(Pe),solaris:f(De),freebsd:f(Fe),chromeos:f(Re)},je=(e,t,n)=>{const o=we.browsers(),r=we.oses(),a=t.bind((e=>ge(o,e))).orThunk((()=>((e,t)=>he(e,t).map((e=>{const n=pe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(Ae.unknown,Ae.nu),s=((e,t)=>he(e,t).map((e=>{const n=pe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(Me.unknown,Me.nu),i=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),i=s||o("(pointer:coarse)"),l=r||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:f(r),isiPhone:f(a),isTablet:f(l),isPhone:f(c),isTouch:f(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:f(u),isDesktop:f(d)}})(s,a,e,n);return{browser:a,os:s,deviceType:i}},Be=e=>window.matchMedia(e).matches;let Ie=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})((()=>je(window.navigator.userAgent,w.from(window.navigator.userAgentData),Be)));const Le=(e,t)=>({left:e,top:t,translate:(n,o)=>Le(e+n,t+o)}),ze=Le,qe=e=>{const t=void 0===e?window:e;return Ie().browser.isFirefox()?w.none():w.from(t.visualViewport)},He=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),We=e=>{const t=void 0===e?window:e,n=t.document,o=(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return ze(n,o)})(V.fromDom(n));return qe(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return He(o.left,o.top,n,r)}),(e=>He(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},Ue=(e,t,n)=>qe(n).map((n=>{const o=e=>t(se(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}})).getOrThunk((()=>({unbind:h})));var Ve=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ze=tinymce.util.Tools.resolve("tinymce.Env");const Ke=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},Ge=(Xe="fullscreen_native",e=>e.options.get(Xe));var Xe;const Ye=e=>{const t=V.fromDom(e.getElement());return Y(t).map(J).getOrThunk((()=>(e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return V.fromDom(t)})(K(t))))},Je=e=>{return e.dom===(void 0!==(t=K(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},Qe=(e,t,n)=>C(((e,t)=>{const n=p(t)?t:y;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=V.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,n),t),et=e=>((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:S(n.querySelectorAll(e),V.fromDom);var o})(e),tt=(e,t,n)=>Qe(e,(e=>Z(e,t)),n),nt=(e,t)=>((e,t)=>C(G(e),t))(e,(e=>Z(e,t))),ot="data-ephox-mobile-fullscreen-style",rt="position:absolute!important;",at="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",st=Ze.os.isAndroid(),it=(e,t,n)=>{const o=t=>n=>{const o=z(n,"style"),r=void 0===o?"no-styles":o.trim();r!==t&&(L(n,ot,r),oe(n,e.parseStyle(t)))},r=tt(t,"*"),a=_(r,(e=>nt(e,"*:not(.tox-silver-sink)"))),s=(e=>{const t=re(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"})(n);k(a,o("display:none!important;")),k(r,o(rt+at+s));o((!0===st?"":rt)+at+s)(t)},lt=Ve.DOM,ct=qe().fold((()=>({bind:h,unbind:h})),(e=>{const t=(()=>{const e=O(h);return{...e,on:t=>e.get().each(t)}})(),n=E(),o=E(),r=((e,t)=>{let n=null;return{cancel:()=>{c(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{c(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}})((()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((()=>{t.on((t=>oe(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})))}))}),50);return{bind:e=>{t.set(e),r.throttle(),n.set(Ue("resize",r.throttle)),o.set(Ue("scroll",r.throttle))},unbind:()=>{t.on((()=>{n.clear(),o.clear()})),t.clear()}}})),ut=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),a=V.fromDom(r),s=(i=a,w.from(i.dom.nextSibling).map(V.fromDom)).filter((e=>(e=>j(e)&&$(e.dom))(e)&&((e,t)=>(e=>void 0!==e.dom.classList)(e)&&e.dom.classList.contains(t))(e,"tox-silver-sink")));var i;const l=Ye(e),c=t.get(),u=V.fromDom(e.getBody()),d=Ze.deviceType.isTouch(),m=r.style,p=e.iframeElement,g=null==p?void 0:p.style,h=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),Y(a).map((e=>J(e).dom)).each((t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},f=()=>{d&&(e=>{const t=et("["+ot+"]");k(t,(t=>{const n=z(t,ot);n&&"no-styles"!==n?oe(t,e.parseStyle(n)):q(t,"style"),q(t,ot)}))})(e.dom),h(lt.removeClass),ct.unbind(),w.from(t.get()).each((e=>e.fullscreenChangeHandler.unbind()))};if(c)c.fullscreenChangeHandler.unbind(),Ge(e)&&Je(l)&&(e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()})(K(l)),g.width=c.iframeWidth,g.height=c.iframeHeight,m.width=c.containerWidth,m.height=c.containerHeight,m.top=c.containerTop,m.left=c.containerLeft,y=s,v=c.sinkCssPosition,x=(e,t)=>{ne(e,"position",t)},y.isSome()&&v.isSome()?w.some(x(y.getOrDie(),v.getOrDie())):w.none(),f(),b=c.scrollPos,window.scrollTo(b.x,b.y),t.set(null),Ke(e,!1),e.off("remove",f);else{const n=ue(K(l),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(n=>{Ge(e)&&(Je(l)||null===t.get()||ut(e,t))})),o={scrollPos:We(window),containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,iframeWidth:g.width,iframeHeight:g.height,fullscreenChangeHandler:n,sinkCssPosition:s.map((e=>re(e,"position")))};d&&it(e.dom,a,u),g.width=g.height="100%",m.width=m.height="",h(lt.addClass),s.each((e=>{ne(e,"position","fixed")})),ct.bind(a),e.on("remove",f),t.set(o),Ge(e)&&(e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()})(l),Ke(e,!0)}var b,y,v,x};var dt=tinymce.util.Tools.resolve("tinymce.util.VK");const mt=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)};t.add("fullscreen",(t=>{const o=e(null);return t.inline||((e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})})(t),((e,t)=>{e.addCommand("mceFullScreen",(()=>{ut(e,t)}))})(t,o),((e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:mt(e,t),context:"any"}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:mt(e,t),shortcut:"Meta+Shift+F",context:"any"})})(t,o),((e,t)=>{e.on("init",(()=>{e.on("keydown",(e=>{e.keyCode!==dt.TAB||e.metaKey||e.ctrlKey||!t.get()||e.preventDefault()}))}))})(t,o),t.addShortcut("Meta+Shift+F","","mceFullScreen")),n(o)}))}()},22903:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>t=>t.options.get(e),o=n("pagebreak_separator"),r=n("pagebreak_split_block"),a="mce-pagebreak",s=e=>{const n=`<img src="${t.transparentSrc}" class="${a}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${n}</p>`:n},i=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("pagebreak",(e=>{(e=>{const t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",(()=>{e.insertContent(s(r(e)))}))})(e),(e=>{const t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:i(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:i(e)})})(e),(e=>{const t=o(e),n=()=>r(e),i=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(e=>"\\"+e)),"gi");e.on("BeforeSetContent",(e=>{e.content=e.content.replace(i,s(n()))})),e.on("PreInit",(()=>{e.serializer.addNodeFilter("img",(o=>{let r,s,i=o.length;for(;i--;)if(r=o[i],s=r.attr("class"),s&&-1!==s.indexOf(a)){const o=r.parent;if(o&&e.schema.getBlockElements()[o.name]&&n()){o.type=3,o.value=t,o.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}}))}))})(e),(e=>{e.on("ResolveName",(t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,a)&&(t.name="pagebreak")}))})(e)}))}()},24855:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=t("string"),o=t("object"),r=t("array"),a=e=>!(e=>null==e)(e);class s{constructor(e,t){this.tag=e,this.value=t}static some(e){return new s(!0,e)}static none(){return s.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?s.some(e(this.value)):s.none()}bind(e){return this.tag?e(this.value):s.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:s.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return a(e)?s.some(e):s.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}s.singletonNone=new s(!1);const i=Array.prototype.push,l=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},c=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);i.apply(t,e[n])}return t},u=Object.keys,d=Object.hasOwnProperty,m=(e,t)=>p(e,t)?s.from(e[t]):s.none(),p=(e,t)=>d.call(e,t),g=e=>t=>t.options.get(e),h=g("audio_template_callback"),f=g("video_template_callback"),b=g("iframe_template_callback"),y=g("media_live_embeds"),v=g("media_filter_html"),w=g("media_url_resolver"),x=g("media_alt_source"),S=g("media_poster"),k=g("media_dimensions");var C=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_=tinymce.util.Tools.resolve("tinymce.html.DomParser");const A=T.DOM,O=e=>e.replace(/px$/,""),E=e=>{const t=e.attr("style"),n=t?A.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:m(n,"max-width").map(O).getOr(""),height:m(n,"max-height").map(O).getOr("")}},N=(e,t)=>{let n={};for(let o=_({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){const e=o.name;if(o.attr("data-ephox-embed-iri")){n=E(o);break}n.source||"param"!==e||(n.source=o.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(n.type||(n.type=e),n=C.extend(o.attributes.map,n)),"source"===e&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==e||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||"",n.altsource=n.altsource||"",n.poster=n.poster||"",n},P=e=>{var t;const n=null!==(t=e.toLowerCase().split(".").pop())&&void 0!==t?t:"";return m({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n).getOr("")};var D=tinymce.util.Tools.resolve("tinymce.html.Node"),F=tinymce.util.Tools.resolve("tinymce.html.Serializer");const R=(e,t={})=>_({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),$=T.DOM,M=e=>/^[0-9.]+$/.test(e)?e+"px":e,j=(e,t)=>{const n=t.attr("style"),o=n?$.parseStyle(n):{};a(e.width)&&(o["max-width"]=M(e.width)),a(e.height)&&(o["max-height"]=M(e.height)),t.attr("style",$.serializeStyle(o))},B=["source","altsource"],I=(e,t,n,o)=>{let r=0,a=0;const s=R(o);s.addNodeFilter("source",(e=>r=e.length));const i=s.parse(e);for(let e=i;e;e=e.walk())if(1===e.type){const o=e.name;if(e.attr("data-ephox-embed-iri")){j(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(n)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let n=r;n<2;n++)if(t[B[n]]){const o=new D("source",1);o.attr("src",t[B[n]]),o.attr("type",t[B[n]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":const n=e.getAll("img").length>0;if(t.poster&&!n){e.attr("src",t.poster);const n=new D("img",1);n.attr("src",t.poster),n.attr("width",t.width),n.attr("height",t.height),e.append(n)}break;case"source":if(a<2&&(e.attr("src",t[B[a]]),e.attr("type",t[B[a]+"mime"]||null),!t[B[a]])){e.remove();continue}a++;break;case"img":t.poster||e.remove()}}return F({},o).serialize(i)},L=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],z=(e,t)=>{const n=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(t),o=e.regex.exec(t);let r=n+e.url;if(a(o))for(let e=0;e<o.length;e++)r=r.replace("$"+e,(()=>o[e]?o[e]:""));return r.replace(/\?$/,"")},q=e=>{const t=L.filter((t=>t.regex.test(e)));return t.length>0?C.extend({},t[0],{url:z(t[0],e)}):null},H=(e,t)=>{var n;const o=C.extend({},t);if(!o.source&&(C.extend(o,N(null!==(n=o.embed)&&void 0!==n?n:"",e.schema)),!o.source))return"";o.altsource||(o.altsource=""),o.poster||(o.poster=""),o.source=e.convertURL(o.source,"source"),o.altsource=e.convertURL(o.altsource,"source"),o.sourcemime=P(o.source),o.altsourcemime=P(o.altsource),o.poster=e.convertURL(o.poster,"poster");const r=q(o.source);if(r&&(o.source=r.url,o.type=r.type,o.allowfullscreen=r.allowFullscreen,o.width=o.width||String(r.w),o.height=o.height||String(r.h)),o.embed)return I(o.embed,o,!0,e.schema);{const t=h(e),n=f(e),r=b(e);return o.width=o.width||"300",o.height=o.height||"150",C.each(o,((t,n)=>{o[n]=e.dom.encode(""+t)})),"iframe"===o.type?((e,t)=>{if(t)return t(e);{const t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}})(o,r):"application/x-shockwave-flash"===o.sourcemime?(e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t})(o):-1!==o.sourcemime.indexOf("audio")?((e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>")(o,t):((e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>")(o,n)}},W=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),U={},V=e=>t=>H(e,t),Z=(e,t)=>{const n=w(e);return n?((e,t,n)=>new Promise(((o,r)=>{const a=n=>(n.html&&(U[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)}));U[e.source]?a(U[e.source]):n({url:e.source}).then(a).catch(r)})))(t,V(e),n):((e,t)=>Promise.resolve({html:t(e),url:e.source}))(t,V(e))},K=(e,t)=>{const n={};return m(e,"dimensions").each((e=>{l(["width","height"],(o=>{m(t,o).orThunk((()=>m(e,o))).each((e=>n[o]=e))}))})),n},G=(e,t)=>{const n=t&&"dimensions"!==t?((e,t)=>m(t,e).bind((e=>m(e,"meta"))))(t,e).getOr({}):{},r=((e,t,n)=>r=>{const a=()=>m(e,r),i=()=>m(t,r),l=e=>m(e,"value").bind((e=>e.length>0?s.some(e):s.none()));return{[r]:(r===n?a().bind((e=>o(e)?l(e).orThunk(i):i().orThunk((()=>s.from(e))))):i().orThunk((()=>a().bind((e=>o(e)?l(e):s.from(e)))))).getOr("")}})(e,n,t);return{...r("source"),...r("altsource"),...r("poster"),...r("embed"),...K(e,n)}},X=e=>{const t={...e,source:{value:m(e,"source").getOr("")},altsource:{value:m(e,"altsource").getOr("")},poster:{value:m(e,"poster").getOr("")}};return l(["width","height"],(n=>{m(e,n).each((e=>{const o=t.dimensions||{};o[n]=e,t.dimensions=o}))})),t},Y=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},J=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const n=o.html,r={...N(n,t.schema),source:o.url,embed:n};e.setData(X(r))}},Q=(e,t)=>{const n=e.dom.select("*[data-mce-object]");e.insertContent(t),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=n.length-1;o>=0;o--)t[e]===n[o]&&n.splice(o,1);e.selection.select(n[0])})(e,n),e.nodeChanged()},ee=(e,t)=>a(t)&&"ephox-embed-iri"===t&&a(q(e)),te=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&ee(t.source,e.type),ne=(e,t,n)=>{var o,r;t.embed=te(e,t)&&k(n)?H(n,{...t,embed:""}):I(null!==(o=t.embed)&&void 0!==o?o:"",t,!1,n.schema),t.embed&&(e.source===t.source||(r=t.source,p(U,r)))?Q(n,t.embed):Z(n,t).then((e=>{Q(n,e.html)})).catch(Y(n))},oe=e=>{const t=(e=>{const t=e.selection.getNode(),n=W(t)?e.serializer.serialize(t,{selection:!0}):"",o=N(n,e.schema),r=(()=>{if(ee(o.source,o.type)){const n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,""),height:n.h.toString().replace(/px$/,"")}}return{}})();return{embed:n,...o,...r}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=X(t),r=k(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:c([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],r])},s={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},i=[];x(e)&&i.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),S(e)&&i.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const l={title:"Advanced",name:"advanced",items:i},u=[a,s];i.length>0&&u.push(l);const d={type:"tabpanel",tabs:u},m=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:d,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=G(t.getData());ne(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=G(n.getData(),"source");t.source!==o.source&&(J(m,e)({url:o.source,html:""}),Z(e,o).then(J(m,e)).catch(Y(e)))})(n.get(),t);break;case"embed":(t=>{var n;const o=G(t.getData()),r=N(null!==(n=o.embed)&&void 0!==n?n:"",e.schema);t.setData(X(r))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const r=G(t.getData(),n),a=te(o,r)&&k(e)?{...r,embed:""}:r,s=H(e,a);t.setData(X({...a,embed:s}))})(t,o.name,n.get())}n.set(G(t.getData()))},initialData:o})};var re=tinymce.util.Tools.resolve("tinymce.Env");const ae=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},se=(e,t,n,o=null)=>{const r=e.attr(n);return a(r)?r:p(t,n)?null:o},ie=(e,t,n)=>{const o="img"===t.name||"video"===e.name,r=o?"300":null,a="audio"===e.name?"30":"150",s=o?a:null;t.attr({width:se(e,n,"width",r),height:se(e,n,"height",s)})},le=(e,t)=>{const n=t.name,o=new D("img",1);return ue(e,t,o),ie(t,o,{}),o.attr({style:t.attr("style"),src:re.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},ce=(e,t)=>{var n;const o=t.name,r=new D("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,class:"mce-preview-object mce-object-"+o}),ue(e,t,r);const s=e.dom.parseStyle(null!==(n=t.attr("style"))&&void 0!==n?n:""),i=new D(o,1);if(ie(t,i,s),i.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===o)i.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox"),referrerpolicy:t.attr("referrerpolicy")});else{l(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(e=>{i.attr(e,t.attr(e))}));const n=r.attr("data-mce-html");a(n)&&((e,t,n,o)=>{const r=R(e.schema).parse(o,{context:t});for(;r.firstChild;)n.append(r.firstChild)})(e,o,i,unescape(n))}const c=new D("span",1);return c.attr("class","mce-shim"),r.append(i),r.append(c),r},ue=(e,t,n)=>{var o;const r=null!==(o=t.attributes)&&void 0!==o?o:[];let a=r.length;for(;a--;){const t=r[a].name;let o=r[a].value;"width"===t||"height"===t||"style"===t||((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(t,"data-mce-",0)||("data"!==t&&"src"!==t||(o=e.convertURL(o,t)),n.attr("data-mce-p-"+t,o))}const s=F({inner:!0},e.schema),i=new D("div",1);l(t.children(),(e=>i.append(e)));const c=s.serialize(i);c&&(n.attr("data-mce-html",escape(c)),n.empty())},de=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},me=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||de(t))return!0;return!1},pe=(e,t,n)=>{const o=(0,e.options.get)("xss_sanitization"),r=v(e);return R(e.schema,{sanitize:o,validate:r}).parse(n,{context:t})},ge=e=>{e.on("PreInit",(()=>{const{schema:t,serializer:n,parser:o}=e,r=t.getBoolAttrs();l("webkitallowfullscreen mozallowfullscreen".split(" "),(e=>{r[e]={}})),((e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})({embed:["wmode"]},((e,n)=>{const o=t.getElementRule(n);o&&l(e,(e=>{o.attributes[e]={},o.attributesOrder.push(e)}))})),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,o=t.length;for(;o--;)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||(ae(n)&&y(e)?me(n)||n.replace(ce(e,n)):me(n)||n.replace(le(e,n))))})(e)),n.addAttributeFilter("data-mce-object",((t,n)=>{var o;let r=t.length;for(;r--;){const a=t[r];if(!a.parent)continue;const s=a.attr(n),i=new D(s,1);if("audio"!==s){const e=a.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&a.firstChild?i.attr({width:a.firstChild.attr("width"),height:a.firstChild.attr("height")}):i.attr({width:a.attr("width"),height:a.attr("height")})}i.attr({style:a.attr("style")});const c=null!==(o=a.attributes)&&void 0!==o?o:[];let u=c.length;for(;u--;){const e=c[u].name;0===e.indexOf("data-mce-p-")&&i.attr(e.substr(11),c[u].value)}const d=a.attr("data-mce-html");if(d){const t=pe(e,s,unescape(d));l(t.children(),(e=>i.append(e)))}a.replace(i)}}))})),e.on("SetContent",(()=>{const t=e.dom;l(t.select("span.mce-preview-object"),(e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})}))}))},he=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",(e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",(()=>{oe(e)}))})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(W(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,r=he(e)(t);return()=>{o(),r()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:he(e)})})(e),(e=>{e.on("ResolveName",(e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))})(e),ge(e),(e=>{e.on("mousedown",(t=>{const n=e.dom.getParent(t.target,".mce-preview-object");n&&"2"===e.dom.getAttrib(n,"data-mce-selected")&&t.stopImmediatePropagation()})),e.on("click keyup touchend",(()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectResized",(t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(I(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}}))})(e),(e=>({showDialog:()=>{oe(e)}}))(e))))}()},25809:function(){!function(){"use strict";var e,t,n,o,r,a=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},s=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=(e="array",function(t){return o=typeof(n=t),(null===n?"null":"object"===o&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===o&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":o)===e;var n,o}),l=function(e){return!function(e){return null==e}(e)},c=function(e){return function(t){return typeof t===e}}("function"),u=function(){},d=function(e){return function(){return e}},m=function(e){return e},p=d(!1),g=d(!0),h=function(){return f},f={fold:function(e,t){return e()},isSome:p,isNone:g,getOr:n=m,getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:n,orThunk:t,map:h,each:u,bind:h,exists:p,forall:g,filter:function(){return h()},toArray:function(){return[]},toString:d("none()")},b=function(e){var t=d(e),n=function(){return r},o=function(t){return t(e)},r={fold:function(t,n){return n(e)},isSome:g,isNone:p,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:o,exists:o,forall:o,filter:function(t){return t(e)?r:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return r},y={some:b,none:h,from:function(e){return null==e?f:b(e)}},v=Array.prototype.slice,w=Array.prototype.push,x=function(e,t){for(var n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},S=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;r++){var a=e[r];o[r]=t(a,r)}return o},k=function(e,t){for(var n=0,o=e.length;n<o;n++){t(e[n],n)}},C=function(e,t){return function(e){for(var t=[],n=0,o=e.length;n<o;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t}(S(e,t))},T=c(Array.from)?Array.from:function(e){return v.call(e)},_=function(){return _=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},_.apply(this,arguments)},A=function(){var e=function(e){var t=a(y.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(y.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(y.some(e))}}}(u);return _(_({},e),{on:function(t){return e.get().each(t)}})},O=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},E=tinymce.util.Tools.resolve("tinymce.Env"),N=tinymce.util.Tools.resolve("tinymce.util.Delay"),P=tinymce.util.Tools.resolve("tinymce.util.Promise"),D=tinymce.util.Tools.resolve("tinymce.util.VK"),F=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},R=tinymce.util.Tools.resolve("tinymce.util.Tools"),$=function(e){return e.getParam("paste_data_images",!1)},M=function(e){return e.getParam("paste_merge_formats",!0)},j=function(e){return e.getParam("paste_retain_style_properties")},B=function(e){return e.getParam("validate")},I=function(e){return e.getParam("allow_html_data_urls",!1,"boolean")},L=function(e){return e.getParam("paste_data_images",!1,"boolean")},z=function(e){return R.explode(e.getParam("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"))},q="x-tinymce/html",H="\x3c!-- "+q+" --\x3e",W=function(e){return-1!==e.indexOf(H)},U=d(q),V=Object.hasOwnProperty,Z=function(e,t){return V.call(e,t)},K=tinymce.util.Tools.resolve("tinymce.html.Entities"),G=function(e,t,n){var o=e.split(/\n\n/),r=function(e,t){var n=[],o="<"+e;if("object"==typeof t){for(var r in t)Z(t,r)&&n.push(r+'="'+K.encodeAllRaw(t[r])+'"');n.length&&(o+=" "+n.join(" "))}return o+">"}(t,n),a="</"+t+">",s=R.map(o,(function(e){return e.split(/\n/).join("<br />")}));return 1===s.length?s[0]:R.map(s,(function(e){return r+e+a})).join("")},X=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Y=tinymce.util.Tools.resolve("tinymce.html.Serializer"),J=" ",Q=tinymce.util.Tools.resolve("tinymce.html.Node"),ee=tinymce.util.Tools.resolve("tinymce.html.Schema"),te=function(e,t){return R.each(t,(function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])})),e},ne=function(e){return e=te(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?J:" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},oe=function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)},re=function(e){var t=!1;return e=e.replace(/^[\u00a0 ]+/,""),R.each([/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],(function(n){if(n.test(e))return t=!0,!1})),t},ae=function(e,t,n,o){var r={},a=e.dom.parseStyle(o);R.each(a,(function(a,s){switch(s){case"mso-list":var i=/\w+ \w+([0-9]+)/i.exec(o);i&&(n._listLevel=parseInt(i[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":s="text-align";break;case"vert-align":s="vertical-align";break;case"font-color":case"mso-foreground":s="color";break;case"mso-background":case"mso-highlight":s="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(r[s]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}0!==s.indexOf("mso-comment")?0!==s.indexOf("mso-")&&("all"===j(e)||t&&t[s])&&(r[s]=a):n.remove()})),/(bold)/i.test(r["font-weight"])&&(delete r["font-weight"],n.wrap(new Q("b",1))),/(italic)/i.test(r["font-style"])&&(delete r["font-style"],n.wrap(new Q("i",1)));var s=e.dom.serializeStyle(r,n.name);return s||null},se=function(e,t){var n,o=j(e);o&&(n=R.makeMap(o.split(/[, ]/))),t=te(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,J],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(J):""}]]);var r=function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")}(e),a=ee({valid_elements:r,valid_children:"-li[p]"});R.each(a.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var s=X({},a);s.addAttributeFilter("style",(function(t){for(var o,r=t.length;r--;)(o=t[r]).attr("style",ae(e,n,o,o.attr("style"))),"span"===o.name&&o.parent&&!o.attributes.length&&o.unwrap()})),s.addAttributeFilter("class",(function(e){for(var t,n,o=e.length;o--;)n=(t=e[o]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),s.addNodeFilter("del",(function(e){for(var t=e.length;t--;)e[t].remove()})),s.addNodeFilter("a",(function(e){for(var t,n,o,r=e.length;r--;)if(n=(t=e[r]).attr("href"),o=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||o){if(o&&!/^_?(?:toc|edn|ftn)/i.test(o)){t.unwrap();continue}t.attr({href:n,name:o})}else t.unwrap()}));var i=s.parse(t);return function(e){return e.getParam("paste_convert_word_fake_lists",!0)}(e)&&function(e){for(var t,n,o=1,r=function(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)do{t+=r(e)}while(e=e.next);return t},a=function(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!a(e,t))return!1}while(e=e.next);return!0},s=function(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{s(e)}while(e=e.next)},i=function(e,r,i){var l=e._listLevel||o;l!==o&&(l<o?t&&(t=t.parent.parent):(n=t,t=null)),t&&t.name===r?t.append(e):(n=n||t,t=new Q(r,1),i>1&&t.attr("start",""+i),e.wrap(t)),e.name="li",l>o&&n&&n.lastChild.append(t),o=l,s(e),a(e,/^\u00a0+/),a(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),a(e,/^\u00a0+/)},l=[],c=e.firstChild;null!=c;)if(l.push(c),null!==(c=c.walk()))for(;void 0!==c&&c.parent!==e;)c=c.walk();for(var u=0;u<l.length;u++)if("p"===(e=l[u]).name&&e.firstChild){var d=r(e);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(d)){i(e,"ul");continue}if(re(d)){var m=/([0-9]+)\./.exec(d),p=1;m&&(p=parseInt(m[1],10)),i(e,"ol",p);continue}if(e._listLevel){i(e,"ul",1);continue}t=null}else n=t,t=null}(i),t=Y({validate:B(e)},a).serialize(i)},ie=function(e,t){return{content:e,cancelled:t}},le=function(e,t,n,o){var r=function(e,t,n,o){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:o})}(e,t,n,o),a=function(e,t){var n=X({},e.schema);n.addNodeFilter("meta",(function(e){R.each(e,(function(e){e.remove()}))}));var o=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Y({validate:B(e)},e.schema).serialize(o)}(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?function(e,t,n,o){var r=e.dom.create("div",{style:"display:none"},t),a=function(e,t,n,o){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:o})}(e,r,n,o);return ie(a.node.innerHTML,a.isDefaultPrevented())}(e,a,n,o):ie(a,r.isDefaultPrevented())},ce=function(e,t,n){var o=oe(t),r=o?function(e,t){return function(e){return e.getParam("paste_enable_default_filters",!0)}(e)?se(e,t):t}(e,t):t;return le(e,r,n,o)},ue=function(e,t){return e.insertContent(t,{merge:M(e),paste:!0}),!0},de=function(e){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e)},me=function(e,t){return de(t)&&x(z(e),(function(e){return n=t.toLowerCase(),o="."+e.toLowerCase(),O(n,o,n.length-o.length);var n,o}))},pe=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!de(t))&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",!1,t)})),!0}(e,t,n)},ge=function(e,t,n){return!!me(e,t)&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')})),!0}(e,t,n)},he=function(e,t,n){n||!1===function(e){return e.getParam("smart_paste",!0)}(e)?ue(e,t):function(e,t){R.each([pe,ge,ue],(function(n){return!0!==n(e,t,ue)}))}(e,t)},fe=function(e){return"\n"===e||"\r"===e},be=function(e,t){var n,o,r,a,s=(n=" ",o=function(e){return e.getParam("paste_tab_spaces",4,"number")}(e),o<=0?"":new Array(o+1).join(n)),i=t.replace(/\t/g,s),l=(r=function(e,t){return function(e){return-1!==" \f\t\v".indexOf(e)}(t)||t===J?e.pcIsSpace||""===e.str||e.str.length===i.length-1||function(e,t){return t<e.length&&t>=0&&fe(e[t])}(i,e.str.length+1)?{pcIsSpace:!1,str:e.str+J}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:fe(t),str:e.str+t}},a={pcIsSpace:!1,str:""},k(i,(function(e,t){a=r(a,e,t)})),a);return l.str},ye=function(e,t,n,o){var r=ce(e,t,n);!1===r.cancelled&&he(e,r.content,o)},ve=function(e,t,n){var o=n||W(t);ye(e,function(e){return e.replace(H,"")}(t),o,!1)},we=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n"),o=function(e,t,n){return t?G(e,!0===t?"p":t,n):function(e){return e.replace(/\r?\n/g,"<br>")}(e)}(be(e,n),function(e){return e.getParam("forced_root_block")}(e),function(e){return e.getParam("forced_root_block_attrs")}(e));ye(e,o,!1,!0)},xe=function(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var o=0;o<e.types.length;o++){var r=e.types[o];try{t[r]=e.getData(r)}catch(e){t[r]=""}}}return t},Se=function(e,t){return t in e&&e[t].length>0},ke=function(e){return Se(e,"text/html")||Se(e,"text/plain")},Ce=(o="mceclip",r=0,function(){return o+r++}),Te=function(e,t){var n,o,r=(n=t.uri,(o=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(n))?{type:o[1],data:decodeURIComponent(o[2])}:{type:null,data:null}),a=r.data,s=r.type,i=Ce(),c=t.blob,u=new Image;if(u.src=t.uri,function(e,t){var n=function(e){return e.getParam("images_dataimg_filter")}(e);return!n||n(t)}(e,u)){var d=e.editorUpload.blobCache,m=void 0,p=d.getByData(a,s);if(p)m=p;else{var g=function(e){return e.getParam("images_reuse_filename")}(e)&&l(c.name),h=g?function(e,t){var n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return l(n)?e.dom.encode(n[1]):null}(e,c.name):i,f=g?c.name:void 0;m=d.create(i,c,a,h,f),d.add(m)}ve(e,'<img src="'+m.blobUri()+'">',!1)}else ve(e,'<img src="'+t.uri+'">',!1)},_e=function(e){return P.all(S(e,(function(e){return new P((function(t){var n=function(e){return l(e.getAsFile)}(e)?e.getAsFile():e,o=new window.FileReader;o.onload=function(){t({blob:n,uri:o.result})},o.readAsDataURL(n)}))})))},Ae=function(e){var t=z(e);return function(e){return function(e,t){return O(e,t,0)}(e.type,"image/")&&x(t,(function(t){return n=t.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"},(R.hasOwn(o,n)?"image/"+o[n]:"image/"+n)===e.type;var n,o}))}},Oe=function(e,t,n){var o="paste"===t.type?t.clipboardData:t.dataTransfer;if(L(e)&&o){var r=function(e,t){var n=t.items?C(T(t.items),(function(e){return"file"===e.kind?[e.getAsFile()]:[]})):[],o=t.files?T(t.files):[];return function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var a=e[o];t(a,o)&&n.push(a)}return n}(n.length>0?n:o,Ae(e))}(e,o);if(r.length>0)return t.preventDefault(),_e(r).then((function(t){n&&e.selection.setRng(n),k(t,(function(t){Te(e,t)}))})),!0}return!1},Ee=function(e){return D.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},Ne=function(e,t,n){var o,r=A(),a=A();e.on("keyup",a.clear),e.on("keydown",(function(n){var s=function(e){Ee(e)&&!e.isDefaultPrevented()&&t.remove()};if(Ee(n)&&!n.isDefaultPrevented()){if((o=n.shiftKey&&86===n.keyCode)&&E.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(n.stopImmediatePropagation(),r.set(n),a.set(!0),E.ie&&o)return n.preventDefault(),void function(e,t){e.fire("paste",{ieFake:t})}(e,!0);t.remove(),t.create(),e.once("keyup",s),e.once("paste",(function(){e.off("keyup",s)}))}}));var s=function(e,n,o,r,a){var s;Se(n,"text/html")?s=n["text/html"]:(s=t.getHtml(),a=a||W(s),t.isDefaultContent(s)&&(r=!0)),s=ne(s),t.remove();var i=!1===a&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(s),l=de(s);(!s.length||i&&!l)&&(r=!0),(r||l)&&(s=Se(n,"text/plain")&&i?n["text/plain"]:function(e){var t=ee(),n=X({},t),o="",r=t.getShortEndedElements(),a=R.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements(),i=function(e){var t=e.name,n=e;if("br"!==t){if("wbr"!==t)if(r[t]&&(o+=" "),a[t])o+=" ";else{if(3===e.type&&(o+=e.value),!e.shortEnded&&(e=e.firstChild))do{i(e)}while(e=e.next);s[t]&&n.next&&(o+="\n","p"===t&&(o+="\n"))}}else o+="\n"};return e=te(e,[/<!\[[^\]]+\]>/g]),i(n.parse(e)),o}(s)),t.isDefaultContent(s)?o||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):r?we(e,s):ve(e,s,a)};e.on("paste",(function(i){var l=r.isSet()||a.isSet();l&&r.clear();var c=function(e,t){return xe(t.clipboardData||e.getDoc().dataTransfer)}(e,i),u="text"===n.get()||o,d=Se(c,U());o=!1,i.isDefaultPrevented()||function(e){var t=e.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length}(i)?t.remove():ke(c)||!Oe(e,i,t.getLastRng()||e.selection.getRng())?(l||i.preventDefault(),!E.ie||l&&!i.ieFake||Se(c,"text/html")||(t.create(),e.dom.bind(t.getEl(),"paste",(function(e){e.stopPropagation()})),e.getDoc().execCommand("Paste",!1,null),c["text/html"]=t.getHtml()),Se(c,"text/html")?(i.preventDefault(),d||(d=W(c["text/html"])),s(e,c,l,u,d)):N.setEditorTimeout(e,(function(){s(e,c,l,u,d)}),0)):t.remove()}))},Pe=function(e){return E.ie&&e.inline?document.body:e.getBody()},De=function(e,t,n){(function(e){return Pe(e)!==e.getBody()})(e)&&e.dom.bind(t,"paste keyup",(function(t){$e(e,n)||e.fire("paste")}))},Fe=function(e){return e.dom.get("mcepastebin")},Re=function(e,t){return t===e},$e=function(e,t){var n,o=Fe(e);return(n=o)&&"mcepastebin"===n.id&&Re(t,o.innerHTML)},Me=function(e){var t=a(null),n="%MCEPASTEBIN%";return{create:function(){return function(e,t,n){var o=e.dom,r=e.getBody();t.set(e.selection.getRng());var a=e.dom.add(Pe(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(E.ie||E.gecko)&&o.setStyle(a,"left","rtl"===o.getStyle(r,"direction",!0)?65535:-65535),o.bind(a,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),De(e,a,n),a.focus(),e.selection.select(a,!0)}(e,t,n)},remove:function(){return function(e,t){if(Fe(e)){for(var n=void 0,o=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);o&&e.selection.setRng(o)}t.set(null)}(e,t)},getEl:function(){return Fe(e)},getHtml:function(){return function(e){var t=function(t,n){t.appendChild(n),e.dom.remove(n,!0)},n=R.grep(Pe(e).childNodes,(function(e){return"mcepastebin"===e.id})),o=n.shift();R.each(n,(function(e){t(o,e)}));for(var r=e.dom.select("div[id=mcepastebin]",o),a=r.length-1;a>=0;a--){var s=e.dom.create("div");o.insertBefore(s,r[a]),t(s,r[a])}return o?o.innerHTML:""}(e)},getLastRng:t.get,isDefault:function(){return $e(e,n)},isDefaultContent:function(e){return Re(n,e)}}},je=function(e,t){var n=Me(e);return e.on("PreInit",(function(){return function(e,t,n){var o;Ne(e,t,n),e.parser.addNodeFilter("img",(function(t,n,r){var a=function(e){e.attr("data-mce-object")||o===E.transparentSrc||e.remove()},s=function(e){return 0===e.indexOf("webkit-fake-url")},i=function(e){return 0===e.indexOf("data:")};if(!L(e)&&function(e){return e.data&&!0===e.data.paste}(r))for(var l=t.length;l--;)(o=t[l].attr("src"))&&(s(o)||!I(e)&&i(o))&&a(t[l])}))}(e,n,t)})),{pasteFormat:t,pasteHtml:function(t,n){return ve(e,t,n)},pasteText:function(t){return we(e,t)},pasteImageData:function(t,n){return Oe(e,t,n)},getDataTransferItems:xe,hasHtmlOrText:ke,hasContentType:Se}},Be=function(e,t){e.addCommand("mceTogglePlainTextPaste",(function(){!function(e,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),F(e,!1)):(t.pasteFormat.set("text"),F(e,!0)),e.focus()}(e,t)})),e.addCommand("mceInsertClipboardContent",(function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)}))},Ie=function(e,t,n){if(!function(e){return!1===E.iOS&&"function"==typeof(null==e?void 0:e.setData)}(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(U(),t),!0}catch(e){return!1}},Le=function(e,t,n,o){Ie(e.clipboardData,t.html,t.text)?(e.preventDefault(),o()):n(t.html,o)},ze=function(e){return function(t,n){var o=function(e){return H+e}(t),r=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),a=e.dom.create("div",{contenteditable:"true"},o);e.dom.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),r.appendChild(a),e.dom.add(e.getBody(),r);var s=e.selection.getRng();a.focus();var i=e.dom.createRng();i.selectNodeContents(a),e.selection.setRng(i),N.setTimeout((function(){e.selection.setRng(s),r.parentNode.removeChild(r),n()}),0)}},qe=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},He=function(e){return!e.selection.isCollapsed()||function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())}(e)},We=function(e){e.on("cut",function(e){return function(t){He(e)&&Le(t,qe(e),ze(e),(function(){if(E.browser.isChrome()||E.browser.isFirefox()){var t=e.selection.getRng();N.setEditorTimeout(e,(function(){e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))}}(e)),e.on("copy",function(e){return function(t){He(e)&&Le(t,qe(e),ze(e),u)}}(e))},Ue=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ve=function(e,t){return Ue.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},Ze=function(e,t){e.focus(),e.selection.setRng(t)},Ke=function(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))},Ge=function(e,t){if(!oe(t))return t;var n=[];R.each(e.schema.getBlockElements(),(function(e,t){n.push(t)}));var o=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=te(t,[[o,"$1"]]),t=te(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])},Xe=function(e,t,n,o){if(o||n)return t;var r,a=function(e){return e.getParam("paste_webkit_styles")}(e);if(!1===function(e){return e.getParam("paste_remove_styles_if_webkit",!0)}(e)||"all"===a)return t;if(a&&(r=a.split(/[, ]/)),r){var s=e.dom,i=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,o){var a=s.parseStyle(s.decode(n)),l={};if("none"===r)return t+o;for(var c=0;c<r.length;c++){var u=a[r[c]],d=s.getStyle(i,r[c],!0);/color/.test(r[c])&&(u=s.toHex(u),d=s.toHex(d)),d!==u&&(l[r[c]]=u)}var m=s.serializeStyle(l,"span");return m?t+' style="'+m+'"'+o:t+o}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,o){return t+' style="'+n+'"'+o})),t},Ye=function(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,!0)}))},Je=function(e,t){return function(n){n.setActive("text"===t.pasteFormat.get());var o=function(e){return n.setActive(e.state)};return e.on("PastePlainTextToggle",o),function(){return e.off("PastePlainTextToggle",o)}}};s.add("paste",(function(e){if(!1===function(e){return!!e.hasPlugin("powerpaste",!0)&&(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)}(e)){var t=a(!1),n=a(function(e){return e.getParam("paste_as_text",!1)}(e)?"text":"html"),o=je(e,n);return function(e){E.webkit&&Ke(e,Xe),E.ie&&(Ke(e,Ge),function(e,t){e.on("PastePostProcess",(function(n){t(e,n.node)}))}(e,Ye))}(e),function(e,t){var n=function(){return e.execCommand("mceTogglePlainTextPaste")};e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:Je(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:Je(e,t)})}(e,o),Be(e,o),function(e){var t=e.plugins.paste,n=function(e){return e.getParam("paste_preprocess")}(e);n&&e.on("PastePreProcess",(function(e){n.call(t,t,e)}));var o=function(e){return e.getParam("paste_postprocess")}(e);o&&e.on("PastePostProcess",(function(e){o.call(t,t,e)}))}(e),We(e),function(e,t,n){(function(e){return e.getParam("paste_block_drop",!1)})(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),$(e)||e.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()})),e.on("drop",(function(o){var r=Ve(e,o);if(!o.isDefaultPrevented()&&!n.get()){var a,s=t.getDataTransferItems(o.dataTransfer),i=t.hasContentType(s,U());if((t.hasHtmlOrText(s)&&(!(a=s["text/plain"])||0!==a.indexOf("file://"))||!t.pasteImageData(o,r))&&r&&function(e){return e.getParam("paste_filter_drop",!0)}(e)){var l=s["mce-internal"]||s["text/html"]||s["text/plain"];l&&(o.preventDefault(),N.setEditorTimeout(e,(function(){e.undoManager.transact((function(){s["mce-internal"]&&e.execCommand("Delete"),Ze(e,r),l=ne(l),s["text/html"]?t.pasteHtml(l,i):t.pasteText(l)}))})))}}})),e.on("dragstart",(function(e){n.set(!0)})),e.on("dragover dragend",(function(t){$(e)&&!1===n.get()&&(t.preventDefault(),Ze(e,Ve(e,t))),"dragend"===t.type&&n.set(!1)}))}(e,o,t),function(e){return{clipboard:e}}(o)}}))}()},27524:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=t("array"),s=n("boolean"),i=e=>!(e=>null==e)(e),l=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=(e,t)=>e===t;const p=e=>t=>!e(t),g=d(!1);class h{constructor(e,t){this.tag=e,this.value=t}static some(e){return new h(!0,e)}static none(){return h.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?h.some(e(this.value)):h.none()}bind(e){return this.tag?e(this.value):h.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:h.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return i(e)?h.some(e):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}h.singletonNone=new h(!1);const f=Array.prototype.slice,b=Array.prototype.indexOf,y=Array.prototype.push,v=(e,t)=>{return n=e,o=t,b.call(n,o)>-1;var n,o},w=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},x=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},S=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},k=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},C=(e,t,n)=>(S(e,((e,o)=>{n=t(n,e,o)})),n),T=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return h.some(r);if(n(r,o))break}return h.none()},_=(e,t)=>T(e,t,g),A=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(x(e,t)),O=e=>{const t=f.call(e,0);return t.reverse(),t},E=(e,t)=>t>=0&&t<e.length?h.some(e[t]):h.none(),N=e=>E(e,0),P=e=>E(e,e.length-1),D=(e,t)=>{const n=[],o=l(t)?e=>w(n,(n=>t(n,e))):e=>v(n,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];o(r)||n.push(r)}return n},F=(e,t,n=m)=>e.exists((e=>n(e,t))),R=(e,t,n)=>e.isSome()&&t.isSome()?h.some(n(e.getOrDie(),t.getOrDie())):h.none(),$=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},M={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return $(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return $(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return $(n)},fromDom:$,fromPoint:(e,t,n)=>h.from(e.dom.elementFromPoint(t,n)).map($)},j=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},B=(e,t)=>e.dom===t.dom,I=j,L="undefined"!=typeof window?window:Function("return this;")(),z=(e,t)=>((e,t)=>{let n=null!=t?t:L;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),q=(e,t)=>{const n=((e,t)=>z(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},H=Object.getPrototypeOf,W=e=>{const t=z("ownerDocument.defaultView",e);return r(e)&&((e=>q("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(H(e).constructor.name))},U=e=>e.dom.nodeName.toLowerCase(),V=e=>e.dom.nodeType,Z=e=>t=>V(t)===e,K=e=>G(e)&&W(e.dom),G=Z(1),X=Z(3),Y=Z(11),J=e=>t=>G(t)&&U(t)===e,Q=e=>h.from(e.dom.parentNode).map(M.fromDom),ee=e=>x(e.dom.childNodes,M.fromDom),te=(e,t)=>{const n=e.dom.childNodes;return h.from(n[t]).map(M.fromDom)},ne=e=>te(e,0),oe=e=>te(e,e.dom.childNodes.length-1),re=e=>{const t=(e=>M.fromDom(e.dom.getRootNode()))(e);return Y(n=t)&&i(n.dom.host)?h.some(t):h.none();var n},ae=e=>M.fromDom(e.dom.host),se=e=>{const t=X(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return re(M.fromDom(t)).fold((()=>n.body.contains(t)),(o=se,r=ae,e=>o(r(e))));var o,r};var ie=(e,t,n,o,r)=>e(n,o)?h.some(n):l(r)&&r(n)?h.none():t(n,o,r);const le=(e,t,n)=>{let o=e.dom;const r=l(n)?n:g;for(;o.parentNode;){o=o.parentNode;const e=M.fromDom(o);if(t(e))return h.some(e);if(r(e))break}return h.none()},ce=(e,t,n)=>ie(((e,t)=>t(e)),le,e,t,n),ue=(e,t,n)=>le(e,(e=>j(e,t)),n),de=e=>{return ie(((e,t)=>j(e,t)),ue,e,"[contenteditable]",t);var t},me=e=>e.dom.contentEditable,pe=(e,t)=>{Q(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},ge=(e,t)=>{const n=(e=>h.from(e.dom.nextSibling).map(M.fromDom))(e);n.fold((()=>{Q(e).each((e=>{he(e,t)}))}),(e=>{pe(e,t)}))},he=(e,t)=>{e.dom.appendChild(t.dom)},fe=(e,t)=>{S(t,(t=>{he(e,t)}))},be=e=>{e.dom.textContent="",S(ee(e),(e=>{ye(e)}))},ye=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)};var ve=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),we=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),xe=tinymce.util.Tools.resolve("tinymce.util.VK");const Se=e=>x(e,M.fromDom),ke=Object.keys,Ce=(e,t)=>{const n=ke(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},Te=(e,t)=>{const n={};var o;return((e,t,n,o)=>{Ce(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,t,(o=n,(e,t)=>{o[t]=e}),u),n},_e=(e,t)=>{const n=e.dom;Ce(t,((e,t)=>{((e,t,n)=>{if(!(o(n)||s(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(n,t,e)}))},Ae=e=>C(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Oe=e=>((e,t)=>M.fromDom(e.dom.cloneNode(t)))(e,!0),Ee=(e,t)=>{const n=((e,t)=>{const n=M.fromTag(t),o=Ae(e);return _e(n,o),n})(e,t);ge(e,n);const o=ee(e);return fe(n,o),ye(e),n};var Ne=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Pe=tinymce.util.Tools.resolve("tinymce.util.Tools");const De=e=>t=>i(t)&&t.nodeName.toLowerCase()===e,Fe=e=>t=>i(t)&&e.test(t.nodeName),Re=e=>i(e)&&3===e.nodeType,$e=e=>i(e)&&1===e.nodeType,Me=Fe(/^(OL|UL|DL)$/),je=Fe(/^(OL|UL)$/),Be=De("ol"),Ie=Fe(/^(LI|DT|DD)$/),Le=Fe(/^(DT|DD)$/),ze=Fe(/^(TH|TD)$/),qe=De("br"),He=(e,t)=>i(t)&&t.nodeName in e.schema.getTextBlockElements(),We=(e,t)=>i(e)&&e.nodeName in t,Ue=(e,t)=>i(t)&&t.nodeName in e.schema.getVoidElements(),Ve=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},Ze=(e,t)=>e.isChildOf(t,e.getRoot()),Ke=e=>t=>t.options.get(e),Ge=Ke("lists_indent_on_tab"),Xe=Ke("forced_root_block"),Ye=Ke("forced_root_block_attrs"),Je=(e,t,n={})=>{const o=e.dom,r=e.schema.getBlockElements(),a=o.createFragment(),s=Xe(e),i=Ye(e);let l,c,u=!1;for(c=o.create(s,{...i,...n.style?{style:n.style}:{}}),We(t.firstChild,r)||a.appendChild(c);l=t.firstChild;){const e=l.nodeName;u||"SPAN"===e&&"bookmark"===l.getAttribute("data-mce-type")||(u=!0),We(l,r)?(a.appendChild(l),c=null):(c||(c=o.create(s,i),a.appendChild(c)),c.appendChild(l))}return!u&&c&&c.appendChild(o.create("br",{"data-mce-bogus":"1"})),a},Qe=Ne.DOM,et=(e,t,n)=>{const o=Qe.select('span[data-mce-type="bookmark"]',t),r=Je(e,n),a=Qe.createRng();a.setStartAfter(n),a.setEndAfter(t);const s=a.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){Qe.remove(t);break}e.dom.isEmpty(s)||Qe.insertAfter(s,t),Qe.insertAfter(r,t);const i=n.parentElement;i&&Ve(e.dom,i)&&(e=>{const t=e.parentNode;t&&Pe.each(o,(e=>{t.insertBefore(e,n.parentNode)})),Qe.remove(e)})(i),Qe.remove(n),Ve(e.dom,t)&&Qe.remove(t)},tt=J("dd"),nt=J("dt"),ot=(e,t)=>{var n;tt(t)?Ee(t,"dt"):nt(t)&&(n=t,h.from(n.dom.parentElement).map(M.fromDom)).each((n=>et(e,n.dom,t.dom)))},rt=e=>{nt(e)&&Ee(e,"dd")},at=(e,t)=>{if(Re(e))return{container:e,offset:t};const n=ve.getNode(e,t);return Re(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Re(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Re(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},st=e=>{const t=e.cloneRange(),n=at(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=at(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},it=["OL","UL","DL"],lt=it.join(","),ct=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,lt,pt(e,n))},ut=e=>{const t=ct(e),n=e.selection.getSelectedBlocks();return((e,t)=>i(e)&&1===t.length&&t[0]===e)(t,n)?(e=>k(e.querySelectorAll(lt),Me))(t):k(n,(e=>Me(e)&&t!==e))},dt=e=>{const t=e.selection.getSelectedBlocks();return k(((e,t)=>{const n=Pe.map(t,(t=>e.dom.getParent(t,"li,dd,dt",pt(e,t))||t));return D(n)})(e,t),Ie)},mt=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},pt=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=_(n,(t=>{return(t=>t.nodeName.toLowerCase()!==Xe(e))(t)&&(n=e.schema,!Me(o=t)&&!Ie(o)&&w(it,(e=>n.isValidChild(o.nodeName,e))));var n,o}));return o.getOr(e.getBody())},gt=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",pt(e,t));return P(n)},ht=e=>{const t=(e=>{const t=gt(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),je);return t.toArray().concat(n)})(e),n=(e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",pt(e,t))})(e);return _(n,(e=>{return t=M.fromDom(e),Q(t).exists((e=>Ie(e.dom)&&ne(e).exists((e=>!Me(e.dom)))&&oe(e).exists((e=>!Me(e.dom)))));var t})).fold((()=>ft(e,t)),(e=>[e]))},ft=(e,t)=>{const n=x(t,(t=>gt(e,t).getOr(t)));return D(n)},bt=e=>/\btox\-/.test(e.className),yt=(e,t)=>T(e,Me,ze).exists((e=>e.nodeName===t&&!bt(e))),vt=(e,t)=>null!==t&&!e.dom.isEditable(t),wt=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return vt(e,n)||!e.selection.isEditable()},xt=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},St=(e,t)=>{const n=(t||document).createDocumentFragment();return S(e,(e=>{n.appendChild(e.dom)})),M.fromDom(n)},kt=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),Ct=(Tt=/^\s+|\s+$/g,e=>e.replace(Tt,""));var Tt;const _t=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(e=>void 0!==e.style&&l(e.style.getPropertyValue))(e)&&e.style.setProperty(t,n)},At=(e,t,n)=>{const o=e.dom;_t(o,t,n)},Ot=e=>I(e,"OL,UL"),Et=e=>ne(e).exists(Ot),Nt=e=>"listAttributes"in e,Pt=e=>"isComment"in e,Dt=e=>e.depth>0,Ft=e=>e.isSelected,Rt=e=>{const t=ee(e),n=oe(e).exists(Ot)?t.slice(0,-1):t;return x(n,Oe)},$t=(e,t)=>{he(e.item,t.list)},Mt=(e,t)=>{const n={list:M.fromTag(t,e),item:M.fromTag("li",e)};return he(n.list,n.item),n},jt=(e,t,n)=>{const o=t.slice(0,n.depth);return P(o).each((t=>{if(Nt(n)){const o=((e,t,n)=>{const o=M.fromTag("li",e);return _e(o,t),fe(o,n),o})(e,n.itemAttributes,n.content);((e,t)=>{he(e.list,t),e.item=t})(t,o),((e,t)=>{U(e.list)!==t.listType&&(e.list=Ee(e.list,t.listType)),_e(e.list,t.listAttributes)})(t,n)}else if((e=>"isFragment"in e)(n))fe(t.item,n.content);else{const e=M.fromHtml(`\x3c!--${n.content}--\x3e`);he(t.list,e)}})),o},Bt=(e,t,n)=>{const o=((e,t,n)=>{const o=[];for(let r=0;r<n;r++)o.push(Mt(e,Nt(t)?t.listType:t.parentListType));return o})(e,n,n.depth-t.length);var r;return(e=>{for(let t=1;t<e.length;t++)$t(e[t-1],e[t])})(o),((e,t)=>{for(let t=0;t<e.length-1;t++)At(e[t].item,"list-style-type","none");P(e).each((e=>{Nt(t)&&(_e(e.list,t.listAttributes),_e(e.item,t.itemAttributes)),fe(e.item,t.content)}))})(o,n),r=o,R(P(t),N(r),$t),t.concat(o)},It=(e,t)=>{let n=h.none();const o=C(t,((t,o,r)=>Pt(o)?0===r?(n=h.some(o),t):jt(e,t,o):o.depth>t.length?Bt(e,t,o):jt(e,t,o)),[]);return n.each((e=>{const t=M.fromHtml(`\x3c!--${e.content}--\x3e`);N(o).each((e=>{((e,t)=>{ne(e).fold((()=>{he(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))})(e.list,t)}))})),N(o).map((e=>e.list))},Lt=e=>(S(e,((t,n)=>{((e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,r=e=>e.depth<n;return T(O(e.slice(0,t)),o,r).orThunk((()=>T(e.slice(t+1),o,r)))})(e,n).fold((()=>{t.dirty&&Nt(t)&&(e=>{e.listAttributes=Te(e.listAttributes,((e,t)=>"start"!==t))})(t)}),(e=>{return o=e,void(Nt(n=t)&&Nt(o)&&(n.listType=o.listType,n.listAttributes={...o.listAttributes}));var n,o}))})),e),zt=(e,t,n,o)=>{var r,a;if(8===V(a=o)||"#comment"===U(a))return[{depth:e+1,content:null!==(r=o.dom.nodeValue)&&void 0!==r?r:"",dirty:!1,isSelected:!1,isComment:!0}];t.each((e=>{B(e.start,o)&&n.set(!0)}));const s=((e,t,n)=>Q(e).filter(G).map((o=>({depth:t,dirty:!1,isSelected:n,content:Rt(e),itemAttributes:Ae(e),listAttributes:Ae(o),listType:U(o),isInPreviousLi:!1}))))(o,e,n.get());t.each((e=>{B(e.end,o)&&n.set(!1)}));const i=oe(o).filter(Ot).map((o=>Ht(e,t,n,o))).getOr([]);return s.toArray().concat(i)},qt=(e,t,n,o)=>ne(o).filter(Ot).fold((()=>zt(e,t,n,o)),(r=>{const a=C(ee(o),((o,a,s)=>{if(0===s)return o;if(I(a,"LI"))return o.concat(zt(e,t,n,a));{const t={isFragment:!0,depth:e,content:[a],isSelected:!1,dirty:!1,parentListType:U(r)};return o.concat(t)}}),[]);return Ht(e,t,n,r).concat(a)})),Ht=(e,t,n,o)=>A(ee(o),(o=>(Ot(o)?Ht:qt)(e+1,t,n,o))),Wt=(e,t)=>A(((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],i=t(s);i!==n&&(o.push(r),r=[]),n=i,r.push(s)}return 0!==r.length&&o.push(r),o}})(t,Dt),(t=>N(t).exists(Dt)?((e,t)=>{const n=Lt(t);return It(e.contentDocument,n).toArray()})(e,t):((e,t)=>{const n=Lt(t);return x(n,(t=>{const n=Pt(t)?St([M.fromHtml(`\x3c!--${t.content}--\x3e`)]):St(t.content),o=Nt(t)?t.itemAttributes:{};return M.fromDom(Je(e,n.dom,o))}))})(e,t))),Ut=(e,t,n)=>{const o=((e,t)=>{const n=(()=>{let e=!1;return{get:()=>e,set:t=>{e=t}}})();return x(e,(e=>({sourceList:e,entries:Ht(0,t,n,e)})))})(t,(e=>{const t=x(dt(e),M.fromDom);return R(_(t,p(Et)),_(O(t),p(Et)),((e,t)=>({start:e,end:t})))})(e));S(o,(t=>{((e,t)=>{S(k(e,Ft),(e=>((e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})(t,e)))})(t.entries,n);const o=Wt(e,t.entries);var r;S(o,(t=>{kt(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),r=t.sourceList,S(o,(e=>{pe(r,e)})),ye(t.sourceList)}))},Vt=(e,t)=>{const n=Se(ht(e)),o=Se((e=>k(dt(e),Le))(e));let r=!1;if(n.length||o.length){const a=e.selection.getBookmark();Ut(e,n,t),((e,t,n)=>{S(n,"Indent"===t?rt:t=>ot(e,t))})(e,t,o),e.selection.moveToBookmark(a),e.selection.setRng(st(e.selection.getRng())),e.nodeChanged(),r=!0}return r},Zt=(e,t)=>!(e=>{const t=ct(e);return vt(e,t)||!e.selection.isEditable()})(e)&&Vt(e,t),Kt=e=>Zt(e,"Indent"),Gt=e=>Zt(e,"Outdent"),Xt=e=>Zt(e,"Flatten"),Yt=e=>"\ufeff"===e,Jt=(e,t)=>{return n=e,o=function(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}(B,t),le(n,o,r).isSome();var n,o,r};var Qt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const en=Ne.DOM,tn=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if($e(o)){const e=en.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[r]):en.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},nn=e=>{const t=t=>{let n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];if(n){if($e(n)&&n.parentNode){const e=n;o=(e=>{var t;let n=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,o=0;for(;n;){if(n===e)return o;$e(n)&&"bookmark"===n.getAttribute("data-mce-type")||o++,n=n.nextSibling}return-1})(n),n=n.parentNode,en.remove(e),!n.hasChildNodes()&&en.isBlock(n)&&n.appendChild(en.create("br"))}e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o}};t(!0),t();const n=en.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),st(n)},on=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},rn=(e,t)=>{Pe.each(t,((t,n)=>{e.setAttribute(n,t)}))},an=(e,t,n)=>{((e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)})(e,t,n),((e,t,n)=>{rn(t,n["list-attributes"]),Pe.each(e.select("li",t),(e=>{rn(e,n["list-item-attributes"])}))})(e,t,n)},sn=(e,t)=>i(t)&&!We(t,e.schema.getBlockElements()),ln=(e,t,n,o)=>{let r=t[n?"startContainer":"endContainer"];const a=t[n?"startOffset":"endOffset"];$e(r)&&(r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r),!n&&qe(r.nextSibling)&&(r=r.nextSibling);const s=(t,n)=>{var r;const a=new we(t,(t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&o!==t;)t=t.parentNode;return t})(t)),s=n?"next":"prev";let i;for(;i=a[s]();)if(!Ue(e,i)&&!Yt(i.textContent)&&0!==(null===(r=i.textContent)||void 0===r?void 0:r.length))return h.some(i);return h.none()};if(n&&Re(r))if(Yt(r.textContent))r=s(r,!1).getOr(r);else for(null!==r.parentNode&&sn(e,r.parentNode)&&(r=r.parentNode);null!==r.previousSibling&&(sn(e,r.previousSibling)||Re(r.previousSibling));)r=r.previousSibling;if(!n&&Re(r))if(Yt(r.textContent))r=s(r,!0).getOr(r);else for(null!==r.parentNode&&sn(e,r.parentNode)&&(r=r.parentNode);null!==r.nextSibling&&(sn(e,r.nextSibling)||Re(r.nextSibling));)r=r.nextSibling;for(;r.parentNode!==o;){const t=r.parentNode;if(He(e,r))return r;if(/^(TD|TH)$/.test(t.nodeName))return r;r=t}return r},cn=(e,t,n)=>{const o=e.selection.getRng();let r="LI";const a=pt(e,((e,t)=>{const n=e.selection.getStart(!0),o=ln(e,t,!0,e.getBody());return Jt(M.fromDom(o),M.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:n})(e,o)),s=e.dom;if("false"===s.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(r="DT");const i=tn(o),l=k(((e,t,n)=>{const o=[],r=e.dom,a=ln(e,t,!0,n),s=ln(e,t,!1,n);let i;const l=[];for(let e=a;e&&(l.push(e),e!==s);e=e.nextSibling);return Pe.each(l,(t=>{var a;if(He(e,t))return o.push(t),void(i=null);if(r.isBlock(t)||qe(t))return qe(t)&&r.remove(t),void(i=null);const s=t.nextSibling;Qt.isBookmarkNode(t)&&(Me(s)||He(e,s)||!s&&t.parentNode===n)?i=null:(i||(i=r.create("p"),null===(a=t.parentNode)||void 0===a||a.insertBefore(i,t),o.push(i)),i.appendChild(t))})),o})(e,o,a),e.dom.isEditable);Pe.each(l,(o=>{let a;const i=o.previousSibling,l=o.parentNode;Ie(l)||(i&&Me(i)&&i.nodeName===t&&((e,t,n)=>{const o=e.getStyle(t,"list-style-type");let r=n?n["list-style-type"]:"";return r=null===r?"":r,o===r})(s,i,n)?(a=i,o=s.rename(o,r),i.appendChild(o)):(a=s.create(t),l.insertBefore(a,o),a.appendChild(o),o=s.rename(o,r)),((e,t,n)=>{Pe.each(n,(n=>e.setStyle(t,n,"")))})(s,o,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),an(s,a,n),dn(e.dom,a))})),e.selection.setRng(nn(i))},un=(e,t,n)=>{return((e,t)=>Me(e)&&e.nodeName===(null==t?void 0:t.nodeName))(t,n)&&((e,t,n)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0))(e,t,n)&&(o=n,t.className===o.className);var o},dn=(e,t)=>{let n,o=t.nextSibling;if(un(e,t,o)){const r=o;for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(o=t.previousSibling,un(e,t,o)){const r=o;for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}},mn=(e,t,n,o)=>{if(t.nodeName!==n){const r=e.dom.rename(t,n);an(e.dom,r,o),kt(e,on(n),r)}else an(e.dom,t,o),kt(e,on(n),t)},pn=(e,t,n,o)=>{if(t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),t.nodeName!==n){const r=e.dom.rename(t,n);an(e.dom,r,o),kt(e,on(n),r)}else an(e.dom,t,o),kt(e,on(n),t)},gn=e=>"list-style-type"in e,hn=(e,t,n)=>{const o=ct(e);if(wt(e,o))return;const a=ut(e),s=r(n)?n:{};a.length>0?((e,t,n,o,r)=>{const a=Me(t);if(!a||t.nodeName!==o||gn(r)||bt(t)){cn(e,o,r);const s=tn(e.selection.getRng()),i=a?[t,...n]:n,l=a&&bt(t)?pn:mn;Pe.each(i,(t=>{l(e,t,o,r)})),e.selection.setRng(nn(s))}else Xt(e)})(e,o,a,t,s):((e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||gn(o)||bt(t)){const r=tn(e.selection.getRng());bt(t)&&t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),an(e.dom,t,o);const a=e.dom.rename(t,n);dn(e.dom,a),e.selection.setRng(nn(r)),cn(e,n,o),kt(e,on(n),a)}else Xt(e);else cn(e,n,o),kt(e,on(n),t)})(e,o,t,s)},fn=Ne.DOM,bn=(e,t)=>{const n=Pe.grep(e.select("ol,ul",t));Pe.each(n,(t=>{((e,t)=>{const n=t.parentElement;if(n&&"LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),Ve(e,n)&&fn.remove(n)):fn.setStyle(n,"listStyleType","none")}if(Me(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})(e,t)}))},yn=(e,t,n,o)=>{let r=t.startContainer;const a=t.startOffset;if(Re(r)&&(n?a<r.data.length:a>0))return r;const s=e.schema.getNonEmptyElements();$e(r)&&(r=ve.getNode(r,a));const i=new we(r,o);n&&((e,t)=>!!qe(t)&&e.isBlock(t.nextSibling)&&!qe(t.previousSibling))(e.dom,r)&&i.next();const l=n?i.next.bind(i):i.prev2.bind(i);for(;r=l();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(s[r.nodeName])return r;if(Re(r)&&r.data.length>0)return r}return null},vn=(e,t)=>{const n=t.childNodes;return 1===n.length&&!Me(n[0])&&e.isBlock(n[0])},wn=e=>h.from(e).map(M.fromDom).filter(K).exists((e=>((e,t=!1)=>se(e)?e.dom.isContentEditable:de(e).fold(d(t),(e=>"true"===me(e))))(e)&&!v(["details"],U(e)))),xn=(e,t,n)=>{let o;const r=vn(e,n)?n.firstChild:n;if(((e,t)=>{vn(e,t)&&wn(t.firstChild)&&e.remove(t.firstChild,!0)})(e,t),!Ve(e,t,!0))for(;o=t.firstChild;)r.appendChild(o)},Sn=(e,t,n)=>{let o;const r=t.parentNode;if(!Ze(e,t)||!Ze(e,n))return;Me(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&qe(r.previousSibling)&&e.remove(r.previousSibling);const a=n.lastChild;a&&qe(a)&&t.hasChildNodes()&&e.remove(a),Ve(e,n,!0)&&be(M.fromDom(n)),xn(e,t,n),o&&n.appendChild(o);const s=((e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)})(M.fromDom(n),M.fromDom(t))?e.getParents(t,Me,n):[];e.remove(t),S(s,(t=>{Ve(e,t)&&t!==e.getRoot()&&e.remove(t)}))},kn=(e,t,n,o)=>{const r=e.dom;if(r.isEmpty(o))((e,t,n)=>{be(M.fromDom(n)),Sn(e.dom,t,n),e.selection.setCursorLocation(n,0)})(e,n,o);else{const a=tn(t);Sn(r,n,o),e.selection.setRng(nn(a))}},Cn=(e,t)=>{const n=e.dom,o=e.selection,r=o.getStart(),a=mt(e,r),s=n.getParent(o.getStart(),"LI",a);if(s){const r=s.parentElement;if(r===e.getBody()&&Ve(n,r))return!0;const i=st(o.getRng()),l=n.getParent(yn(e,i,t,a),"LI",a),c=l&&(t?n.isChildOf(s,l):n.isChildOf(l,s));if(l&&l!==s&&!c)return e.undoManager.transact((()=>{var n,o;t?kn(e,i,l,s):(null===(o=(n=s).parentNode)||void 0===o?void 0:o.firstChild)===n?Gt(e):((e,t,n,o)=>{const r=tn(t);Sn(e.dom,n,o);const a=nn(r);e.selection.setRng(a)})(e,i,s,l)})),!0;if(c&&!t&&l!==s)return e.undoManager.transact((()=>{if(i.commonAncestorContainer.parentElement){const t=tn(i),o=i.commonAncestorContainer.parentElement;xn(n,i.commonAncestorContainer.parentElement,l),o.remove();const r=nn(t);e.selection.setRng(r)}})),!0;if(!l&&!t&&0===i.startOffset&&0===i.endOffset)return e.undoManager.transact((()=>{Xt(e)})),!0}return!1},Tn=(e,t)=>{const n=e.dom,o=e.selection.getStart(),r=mt(e,o),a=n.getParent(o,n.isBlock,r);if(a&&n.isEmpty(a,void 0,{checkRootAsContent:!0})){const o=st(e.selection.getRng()),s=n.getParent(yn(e,o,t,r),"LI",r);if(s){const i=e=>v(["td","th","caption"],U(e)),l=e=>e.dom===r;return!!((e,t,n=m)=>R(e,t,n).getOr(e.isNone()&&t.isNone()))(ce(M.fromDom(s),i,l),ce(M.fromDom(o.startContainer),i,l),B)&&(e.undoManager.transact((()=>{const o=s.parentNode;((e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)})(n,a,r),dn(n,o),e.selection.select(s,!0),e.selection.collapse(t)})),!0)}}return!1},_n=e=>{const t=e.selection.getStart(),n=mt(e,t);return e.dom.getParent(t,"LI,DT,DD",n)||dt(e).length>0},An=(e,t)=>{const n=e.selection;return!wt(e,n.getNode())&&(n.isCollapsed()?((e,t)=>Cn(e,t)||Tn(e,t))(e,t):(e=>!!_n(e)&&(e.undoManager.transact((()=>{let t=!0;const n=()=>t=!1;e.on("input",n),e.execCommand("Delete"),e.off("input",n),t&&e.dispatch("input"),bn(e.dom,e.getBody())})),!0))(e))},On=e=>{const t=O(Ct(e).split("")),n=x(t,((e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return C(n,((e,t)=>e+t),0)},En=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return En(n)+String.fromCharCode("A".charCodeAt(0)+t)}},Nn=e=>{const t=parseInt(e.start,10);return F(e.listStyleType,"upper-alpha")?En(t):F(e.listStyleType,"lower-alpha")?En(t).toLowerCase():e.start},Pn=e=>{const t=ct(e);Be(t)&&!wt(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Nn({start:e.dom.getAttrib(t,"start","1"),listStyleType:h.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:(e=>/^[a-z]+$/.test(e))(e)?1:e.length>0?4:3)(e)){case 2:return h.some({listStyleType:h.none(),start:e});case 0:return h.some({listStyleType:h.some("upper-alpha"),start:On(e).toString()});case 1:return h.some({listStyleType:h.some("lower-alpha"),start:On(e).toString()});case 3:return h.some({listStyleType:h.none(),start:""});case 4:return h.none()}})(t.getData().start).each((t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},Dn=(e,t)=>()=>{const n=ct(e);return i(n)&&n.nodeName===t},Fn=e=>{e.addCommand("mceListProps",(()=>{Pn(e)}))},Rn=e=>{e.on("BeforeExecCommand",(t=>{const n=t.command.toLowerCase();"indent"===n?Kt(e):"outdent"===n&&Gt(e)})),e.addCommand("InsertUnorderedList",((t,n)=>{hn(e,"UL",n)})),e.addCommand("InsertOrderedList",((t,n)=>{hn(e,"OL",n)})),e.addCommand("InsertDefinitionList",((t,n)=>{hn(e,"DL",n)})),e.addCommand("RemoveList",(()=>{Xt(e)})),Fn(e),e.addCommand("mceListUpdate",((t,n)=>{r(n)&&((e,t)=>{const n=ct(e);null===n||wt(e,n)||e.undoManager.transact((()=>{r(t.styles)&&e.dom.setStyles(n,t.styles),r(t.attrs)&&Ce(t.attrs,((t,o)=>e.dom.setAttrib(n,o,t)))}))})(e,n)})),e.addQueryStateHandler("InsertUnorderedList",Dn(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Dn(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Dn(e,"DL"))};var $n=tinymce.util.Tools.resolve("tinymce.html.Node");const Mn=e=>3===e.type,jn=e=>0===e.length,Bn=e=>{const t=(t,n)=>{const o=$n.create("li");S(t,(e=>o.append(e))),n?e.insert(o,n,!0):e.append(o)},n=C(e.children(),((e,n)=>Mn(n)?[...e,n]:jn(e)||Mn(n)?e:(t(e,n),[])),[]);jn(n)||t(n)},In=e=>{Ge(e)&&(e=>{e.on("keydown",(t=>{t.keyCode!==xe.TAB||xe.metaKeyPressed(t)||e.undoManager.transact((()=>{(t.shiftKey?Gt(e):Kt(e))&&t.preventDefault()}))}))})(e),(e=>{e.on("ExecCommand",(t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!_n(e)||bn(e.dom,e.getBody())})),e.on("keydown",(t=>{t.keyCode===xe.BACKSPACE?An(e,!1)&&t.preventDefault():t.keyCode===xe.DELETE&&An(e,!0)&&t.preventDefault()}))})(e)},Ln=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),xt(e,(o=>{n.setActive(yt(o.parents,t)),n.setEnabled(!wt(e,o.element)&&e.selection.isEditable())}))),zn=(e,t)=>n=>xt(e,(o=>n.setEnabled(yt(o.parents,t)&&!wt(e,o.element))));e.add("lists",(e=>((e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})})(e),(e=>{e.on("PreInit",(()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",(e=>S(e,Bn)))}))})(e),e.hasPlugin("rtc",!0)?Fn(e):(In(e),Rn(e)),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:Ln(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:Ln(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:zn(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=ct(e,t);return Be(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{An(e,t)}}))(e))))}()},27813:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");class t{constructor(e,t){this.tag=e,this.value=t}static some(e){return new t(!0,e)}static none(){return t.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?t.some(e(this.value)):t.none()}bind(e){return this.tag?e(this.value):t.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:t.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return null==e?t.none():t.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}t.singletonNone=new t(!1);const n=e=>()=>e,o=n(!1),r=(e,n)=>((e,n,o)=>{for(let r=0,a=e.length;r<a;r++){const a=e[r];if(n(a,r))return t.some(a);if(o(a,r))break}return t.none()})(e,n,o);"undefined"!=typeof window?window:Function("return this;")();const a=()=>s(0,0),s=(e,t)=>({major:e,minor:t}),i={nu:s,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?a():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return s(o(1),o(2))})(e,n)},unknown:a},l=(e,t)=>{const n=String(t).toLowerCase();return r(e,(e=>e.search(n)))},c=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!(e=>void 0===e)(o)||r+t.length<=o)},u=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,d=e=>t=>c(t,e),m=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>c(e,"edge/")&&c(e,"chrome")&&c(e,"safari")&&c(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,u],search:e=>c(e,"chrome")&&!c(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>c(e,"msie")||c(e,"trident")},{name:"Opera",versionRegexes:[u,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:d("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:d("firefox")},{name:"Safari",versionRegexes:[u,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(c(e,"safari")||c(e,"mobile/"))&&c(e,"applewebkit")}],p=[{name:"Windows",search:d("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>c(e,"iphone")||c(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:d("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:d("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:d("linux"),versionRegexes:[]},{name:"Solaris",search:d("sunos"),versionRegexes:[]},{name:"FreeBSD",search:d("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:d("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],g={browsers:n(m),oses:n(p)},h="Edge",f="Chromium",b="Opera",y="Firefox",v="Safari",w=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(h),isChromium:o(f),isIE:o("IE"),isOpera:o(b),isFirefox:o(y),isSafari:o(v)}},x=()=>w({current:void 0,version:i.unknown()}),S=w,k=(n(h),n(f),n("IE"),n(b),n(y),n(v),"Windows"),C="Android",T="Linux",_="macOS",A="Solaris",O="FreeBSD",E="ChromeOS",N=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(k),isiOS:o("iOS"),isAndroid:o(C),isMacOS:o(_),isLinux:o(T),isSolaris:o(A),isFreeBSD:o(O),isChromeOS:o(E)}},P=()=>N({current:void 0,version:i.unknown()}),D=N,F=(n(k),n("iOS"),n(C),n(T),n(_),n(A),n(O),n(E),(e,o,a)=>{const s=g.browsers(),c=g.oses(),u=o.bind((e=>((e,n)=>((e,n)=>{for(let t=0;t<e.length;t++){const o=n(e[t]);if(o.isSome())return o}return t.none()})(n.brands,(t=>{const n=t.brand.toLowerCase();return r(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:i.nu(parseInt(t.version,10),0)})))})))(s,e))).orThunk((()=>((e,t)=>l(e,t).map((e=>{const n=i.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(s,e))).fold(x,S),d=((e,t)=>l(e,t).map((e=>{const n=i.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(c,e).fold(P,D),m=((e,t,o,r)=>{const a=e.isiOS()&&!0===/ipad/i.test(o),s=e.isiOS()&&!a,i=e.isiOS()||e.isAndroid(),l=i||r("(pointer:coarse)"),c=a||!s&&i&&r("(min-device-width:768px)"),u=s||i&&!c,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(o),m=!u&&!c&&!d;return{isiPad:n(a),isiPhone:n(s),isTablet:n(c),isPhone:n(u),isTouch:n(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:n(d),isDesktop:n(m)}})(d,u,e,a);return{browser:u,os:d,deviceType:m}}),R=e=>window.matchMedia(e).matches;let $=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})((()=>F(window.navigator.userAgent,t.from(window.navigator.userAgentData),R)));const M=()=>$();var j=tinymce.util.Tools.resolve("tinymce.util.Tools");const B=e=>t=>t.options.get(e),I=B("content_style"),L=B("content_css_cors"),z=B("body_class"),q=B("body_id");e.add("preview",(e=>{(e=>{e.addCommand("mcePreview",(()=>{(e=>{const t=(e=>{var t;let n="";const o=e.dom.encode,r=null!==(t=I(e))&&void 0!==t?t:"";n+=`<base href="${o(e.documentBaseURI.getURI())}">`;const a=L(e)?' crossorigin="anonymous"':"";j.each(e.contentCSS,(t=>{n+='<link type="text/css" rel="stylesheet" href="'+o(e.documentBaseURI.toAbsolute(t))+'"'+a+">"})),r&&(n+='<style type="text/css">'+r+"</style>");const s=q(e),i=z(e),l=e.getBody().dir,c=l?' dir="'+o(l)+'"':"";return"<!DOCTYPE html><html><head>"+n+'</head><body id="'+o(s)+'" class="mce-content-body '+o(i)+'"'+c+">"+e.getContent()+(()=>{const e=M().os.isMacOS()||M().os.isiOS();return`<script>(${(e=>{document.addEventListener("click",(t=>{for(let n=t.target;n;n=n.parentNode)if("A"===n.nodeName){const o=n.getAttribute("href");if(o&&o.startsWith("#")){t.preventDefault();const e=document.getElementById(o.substring(1));return void(e&&e.scrollIntoView({behavior:"smooth"}))}(e?t.metaKey:t.ctrlKey&&!t.altKey)||t.preventDefault()}}),!1)}).toString()})(${e})<\/script>`})()+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")})(e)}))})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t,context:"any"}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t,context:"any"})})(e)}))}()},31141:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.EditorManager"),o=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),a=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=tinymce.util.Tools.resolve("tinymce.util.VK"),i=t.DOM,l=function(e){e.keyCode!==s.TAB||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()};e.add("tabfocus",(function(e){!function(e){var t=function(t){var l;if(!(t.keyCode!==s.TAB||t.ctrlKey||t.altKey||t.metaKey||t.isDefaultPrevented())){var c,u=function(o){var r=i.select(":input:enabled,*[tabindex]:not(iframe)"),s=function(e){var t=e;return"BODY"===e.nodeName||"hidden"!==t.type&&"none"!==t.style.display&&"hidden"!==t.style.visibility&&s(e.parentNode)},c=function(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&n.get(t.id)&&-1!==e.tabIndex&&s(e)};if(a.each(r,(function(t,n){if(t.id===e.id)return l=n,!1})),o>0){for(var u=l+1;u<r.length;u++)if(c(r[u]))return r[u]}else for(u=l-1;u>=0;u--)if(c(r[u]))return r[u];return null},d=a.explode(function(e){return e.getParam("tab_focus",function(e){return e.getParam("tabfocus_elements",":prev,:next")}(e))}(e));if(1===d.length&&(d[1]=d[0],d[0]=":prev"),c=t.shiftKey?":prev"===d[0]?u(-1):i.get(d[0]):":next"===d[1]?u(1):i.get(d[1])){var m=n.get(c.id||c.name);c.id&&m?m.focus():r.setTimeout((function(){o.webkit||window.focus(),c.focus()}),10),t.preventDefault()}}};e.on("init",(function(){e.inline&&i.setAttrib(e.getBody(),"tabIndex",null),e.on("keyup",l),o.gecko?e.on("keypress keydown",t):e.on("keydown",t)}))}(e)}))}()},31148:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("code",(e=>((e=>{e.addCommand("mceCodeEditor",(()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)}))})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{})))}()},31940:function(e,t,n){n(25809)},33846:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=t("array"),s=n("boolean"),i=e=>!(e=>null==e)(e),l=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=(e,t)=>e===t,p=e=>t=>!e(t),g=d(!1);class h{constructor(e,t){this.tag=e,this.value=t}static some(e){return new h(!0,e)}static none(){return h.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?h.some(e(this.value)):h.none()}bind(e){return this.tag?e(this.value):h.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:h.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return i(e)?h.some(e):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}h.singletonNone=new h(!1);const f=Array.prototype.slice,b=Array.prototype.indexOf,y=Array.prototype.push,v=(e,t)=>{return n=e,o=t,b.call(n,o)>-1;var n,o},w=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},x=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},S=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},k=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},C=(e,t,n)=>(S(e,((e,o)=>{n=t(n,e,o)})),n),T=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return h.some(r);if(n(r,o))break}return h.none()},_=(e,t)=>T(e,t,g),A=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(x(e,t)),O=e=>{const t=f.call(e,0);return t.reverse(),t},E=(e,t)=>t>=0&&t<e.length?h.some(e[t]):h.none(),N=e=>E(e,0),P=e=>E(e,e.length-1),D=(e,t)=>{const n=[],o=l(t)?e=>w(n,(n=>t(n,e))):e=>v(n,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];o(r)||n.push(r)}return n},F=(e,t,n=m)=>e.exists((e=>n(e,t))),R=(e,t,n)=>e.isSome()&&t.isSome()?h.some(n(e.getOrDie(),t.getOrDie())):h.none(),$=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},M=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return $(n.childNodes[0])},j=(e,t)=>{const n=(t||document).createElement(e);return $(n)},B=$,I=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},L=(e,t)=>e.dom===t.dom,z=I,q="undefined"!=typeof window?window:Function("return this;")(),H=(e,t)=>((e,t)=>{let n=null!=t?t:q;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),W=Object.getPrototypeOf,U=e=>e.dom.nodeName.toLowerCase(),V=e=>e.dom.nodeType,Z=e=>t=>V(t)===e,K=e=>G(e)&&(e=>{const t=H("ownerDocument.defaultView",e);return r(e)&&((e=>((e,t)=>{const n=((e,t)=>H(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(W(e).constructor.name))})(e.dom),G=Z(1),X=Z(3),Y=Z(11),J=e=>t=>G(t)&&U(t)===e,Q=e=>h.from(e.dom.parentNode).map(B),ee=e=>x(e.dom.childNodes,B),te=(e,t)=>{const n=e.dom.childNodes;return h.from(n[t]).map(B)},ne=e=>te(e,0),oe=e=>te(e,e.dom.childNodes.length-1),re=e=>B(e.dom.host),ae=e=>{const t=X(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=(e=>B(e.dom.getRootNode()))(e);return Y(n=t)&&i(n.dom.host)?h.some(t):h.none();var n})(B(t)).fold((()=>n.body.contains(t)),(o=ae,r=re,e=>o(r(e))));var o,r};var se=(e,t,n,o,r)=>e(n,o)?h.some(n):l(r)&&r(n)?h.none():t(n,o,r);const ie=(e,t,n)=>{let o=e.dom;const r=l(n)?n:g;for(;o.parentNode;){o=o.parentNode;const e=B(o);if(t(e))return h.some(e);if(r(e))break}return h.none()},le=(e,t,n)=>se(((e,t)=>t(e)),ie,e,t,n),ce=(e,t,n)=>ie(e,(e=>I(e,t)),n),ue=(e,t)=>{Q(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},de=(e,t)=>{e.dom.appendChild(t.dom)},me=(e,t)=>{S(t,(t=>{de(e,t)}))},pe=e=>{e.dom.textContent="",S(ee(e),(e=>{ge(e)}))},ge=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)};var he=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),fe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),be=tinymce.util.Tools.resolve("tinymce.util.VK");const ye=e=>x(e,B),ve=Object.keys,we=(e,t)=>{const n=ve(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},xe=(e,t)=>{const n=e.dom;we(t,((e,t)=>{((e,t,n)=>{if(!(o(n)||s(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(n,t,e)}))},Se=e=>C(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),ke=e=>(e=>B(e.dom.cloneNode(!0)))(e),Ce=(e,t)=>{const n=((e,t)=>{const n=j(t),o=Se(e);return xe(n,o),n})(e,t);var o,r;r=n,(e=>h.from(e.dom.nextSibling).map(B))(o=e).fold((()=>{Q(o).each((e=>{de(e,r)}))}),(e=>{ue(e,r)}));const a=ee(e);return me(n,a),ge(e),n};var Te=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_e=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ae=e=>t=>i(t)&&t.nodeName.toLowerCase()===e,Oe=e=>t=>i(t)&&e.test(t.nodeName),Ee=e=>i(e)&&3===e.nodeType,Ne=e=>i(e)&&1===e.nodeType,Pe=Oe(/^(OL|UL|DL)$/),De=Oe(/^(OL|UL)$/),Fe=Ae("ol"),Re=Oe(/^(LI|DT|DD)$/),$e=Oe(/^(DT|DD)$/),Me=Oe(/^(TH|TD)$/),je=Ae("br"),Be=(e,t)=>i(t)&&t.nodeName in e.schema.getTextBlockElements(),Ie=(e,t)=>i(e)&&e.nodeName in t,Le=(e,t)=>i(t)&&t.nodeName in e.schema.getVoidElements(),ze=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},qe=(e,t)=>e.isChildOf(t,e.getRoot()),He=e=>t=>t.options.get(e),We=He("lists_indent_on_tab"),Ue=He("forced_root_block"),Ve=He("forced_root_block_attrs"),Ze=(e,t,n={})=>{const o=e.dom,r=e.schema.getBlockElements(),a=o.createFragment(),s=Ue(e),i=Ve(e);let l,c,u=!1;for(c=o.create(s,{...i,...n.style?{style:n.style}:{}}),Ie(t.firstChild,r)||a.appendChild(c);l=t.firstChild;){const e=l.nodeName;u||"SPAN"===e&&"bookmark"===l.getAttribute("data-mce-type")||(u=!0),Ie(l,r)?(a.appendChild(l),c=null):(c||(c=o.create(s,i),a.appendChild(c)),c.appendChild(l))}return!u&&c&&c.appendChild(o.create("br",{"data-mce-bogus":"1"})),a},Ke=Te.DOM,Ge=J("dd"),Xe=J("dt"),Ye=e=>{Xe(e)&&Ce(e,"dd")},Je=(e,t)=>{if(Ee(e))return{container:e,offset:t};const n=he.getNode(e,t);return Ee(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Ee(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Ee(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},Qe=e=>{const t=e.cloneRange(),n=Je(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=Je(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},et=["OL","UL","DL"],tt=et.join(","),nt=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,tt,at(e,n))},ot=e=>{const t=e.selection.getSelectedBlocks();return k(((e,t)=>{const n=_e.map(t,(t=>e.dom.getParent(t,"li,dd,dt",at(e,t))||t));return D(n)})(e,t),Re)},rt=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},at=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=_(n,(t=>{return(t=>t.nodeName.toLowerCase()!==Ue(e))(t)&&(n=e.schema,!Pe(o=t)&&!Re(o)&&w(et,(e=>n.isValidChild(o.nodeName,e))));var n,o}));return o.getOr(e.getBody())},st=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",at(e,t));return P(n)},it=e=>/\btox\-/.test(e.className),lt=(e,t)=>T(e,Pe,Me).exists((e=>e.nodeName===t&&!it(e))),ct=(e,t)=>null!==t&&!e.dom.isEditable(t),ut=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return ct(e,n)||!e.selection.isEditable()},dt=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},mt=(e,t)=>{const n=(t||document).createDocumentFragment();return S(e,(e=>{n.appendChild(e.dom)})),B(n)},pt=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),gt=(ht=/^\s+|\s+$/g,e=>e.replace(ht,""));var ht;const ft=(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(e=>void 0!==e.style&&l(e.style.getPropertyValue))(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},bt=e=>z(e,"OL,UL"),yt=e=>ne(e).exists(bt),vt=e=>"listAttributes"in e,wt=e=>"isComment"in e,xt=e=>e.depth>0,St=e=>e.isSelected,kt=e=>{const t=ee(e),n=oe(e).exists(bt)?t.slice(0,-1):t;return x(n,ke)},Ct=(e,t)=>{de(e.item,t.list)},Tt=(e,t)=>{const n={list:j(t,e),item:j("li",e)};return de(n.list,n.item),n},_t=(e,t,n)=>{const o=t.slice(0,n.depth);return P(o).each((t=>{if(vt(n)){const o=((e,t,n)=>{const o=j("li",e);return xe(o,t),me(o,n),o})(e,n.itemAttributes,n.content);((e,t)=>{de(e.list,t),e.item=t})(t,o),((e,t)=>{U(e.list)!==t.listType&&(e.list=Ce(e.list,t.listType)),xe(e.list,t.listAttributes)})(t,n)}else if((e=>"isFragment"in e)(n))me(t.item,n.content);else{const e=M(`\x3c!--${n.content}--\x3e`);de(t.list,e)}})),o},At=e=>(S(e,((t,n)=>{((e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,r=e=>e.depth<n;return T(O(e.slice(0,t)),o,r).orThunk((()=>T(e.slice(t+1),o,r)))})(e,n).fold((()=>{t.dirty&&vt(t)&&(e=>{e.listAttributes=(e=>{const t={};var n;return((e,t,n,o)=>{we(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,((e,t)=>"start"!==t),(n=t,(e,t)=>{n[t]=e}),u),t})(e.listAttributes)})(t)}),(e=>{return o=e,void(vt(n=t)&&vt(o)&&(n.listType=o.listType,n.listAttributes={...o.listAttributes}));var n,o}))})),e),Ot=(e,t,n,o)=>{var r,a;if(8===V(a=o)||"#comment"===U(a))return[{depth:e+1,content:null!==(r=o.dom.nodeValue)&&void 0!==r?r:"",dirty:!1,isSelected:!1,isComment:!0}];t.each((e=>{L(e.start,o)&&n.set(!0)}));const s=((e,t,n)=>Q(e).filter(G).map((o=>({depth:t,dirty:!1,isSelected:n,content:kt(e),itemAttributes:Se(e),listAttributes:Se(o),listType:U(o),isInPreviousLi:!1}))))(o,e,n.get());t.each((e=>{L(e.end,o)&&n.set(!1)}));const i=oe(o).filter(bt).map((o=>Nt(e,t,n,o))).getOr([]);return s.toArray().concat(i)},Et=(e,t,n,o)=>ne(o).filter(bt).fold((()=>Ot(e,t,n,o)),(r=>{const a=C(ee(o),((o,a,s)=>{if(0===s)return o;if(z(a,"LI"))return o.concat(Ot(e,t,n,a));{const t={isFragment:!0,depth:e,content:[a],isSelected:!1,dirty:!1,parentListType:U(r)};return o.concat(t)}}),[]);return Nt(e,t,n,r).concat(a)})),Nt=(e,t,n,o)=>A(ee(o),(o=>(bt(o)?Nt:Et)(e+1,t,n,o))),Pt=(e,t,n)=>{const o=((e,t)=>{const n=(()=>{let e=!1;return{get:()=>e,set:t=>{e=t}}})();return x(e,(e=>({sourceList:e,entries:Nt(0,t,n,e)})))})(t,(e=>{const t=x(ot(e),B);return R(_(t,p(yt)),_(O(t),p(yt)),((e,t)=>({start:e,end:t})))})(e));S(o,(t=>{((e,t)=>{S(k(e,St),(e=>((e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})(t,e)))})(t.entries,n);const o=((e,t)=>A(((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],i=t(s);i!==n&&(o.push(r),r=[]),n=i,r.push(s)}return 0!==r.length&&o.push(r),o}})(t,xt),(t=>N(t).exists(xt)?((e,t)=>{const n=At(t);return((e,t)=>{let n=h.none();const o=C(t,((t,o,r)=>wt(o)?0===r?(n=h.some(o),t):_t(e,t,o):o.depth>t.length?((e,t,n)=>{const o=((e,t,n)=>{const o=[];for(let r=0;r<n;r++)o.push(Tt(e,vt(t)?t.listType:t.parentListType));return o})(e,n,n.depth-t.length);var r;return(e=>{for(let t=1;t<e.length;t++)Ct(e[t-1],e[t])})(o),((e,t)=>{for(let t=0;t<e.length-1;t++)ft(e[t].item,"list-style-type","none");P(e).each((e=>{vt(t)&&(xe(e.list,t.listAttributes),xe(e.item,t.itemAttributes)),me(e.item,t.content)}))})(o,n),r=o,R(P(t),N(r),Ct),t.concat(o)})(e,t,o):_t(e,t,o)),[]);return n.each((e=>{const t=M(`\x3c!--${e.content}--\x3e`);N(o).each((e=>{((e,t)=>{ne(e).fold((()=>{de(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))})(e.list,t)}))})),N(o).map((e=>e.list))})(e.contentDocument,n).toArray()})(e,t):((e,t)=>{const n=At(t);return x(n,(t=>{const n=wt(t)?mt([M(`\x3c!--${t.content}--\x3e`)]):mt(t.content),o=vt(t)?t.itemAttributes:{};return B(Ze(e,n.dom,o))}))})(e,t))))(e,t.entries);var r;S(o,(t=>{pt(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),r=t.sourceList,S(o,(e=>{ue(r,e)})),ge(t.sourceList)}))},Dt=(e,t)=>{const n=ye((e=>{const t=(e=>{const t=st(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),De);return t.toArray().concat(n)})(e),n=(e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",at(e,t))})(e);return _(n,(e=>{return t=B(e),Q(t).exists((e=>Re(e.dom)&&ne(e).exists((e=>!Pe(e.dom)))&&oe(e).exists((e=>!Pe(e.dom)))));var t})).fold((()=>((e,t)=>{const n=x(t,(t=>st(e,t).getOr(t)));return D(n)})(e,t)),(e=>[e]))})(e)),o=ye((e=>k(ot(e),$e))(e));let r=!1;if(n.length||o.length){const a=e.selection.getBookmark();Pt(e,n,t),((e,t,n)=>{S(n,"Indent"===t?Ye:t=>((e,t)=>{var n;Ge(t)?Ce(t,"dt"):Xe(t)&&(n=t,h.from(n.dom.parentElement).map(B)).each((n=>((e,t,n)=>{const o=Ke.select('span[data-mce-type="bookmark"]',t),r=Ze(e,n),a=Ke.createRng();a.setStartAfter(n),a.setEndAfter(t);const s=a.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){Ke.remove(t);break}e.dom.isEmpty(s)||Ke.insertAfter(s,t),Ke.insertAfter(r,t);const i=n.parentElement;i&&ze(e.dom,i)&&(e=>{const t=e.parentNode;t&&_e.each(o,(e=>{t.insertBefore(e,n.parentNode)})),Ke.remove(e)})(i),Ke.remove(n),ze(e.dom,t)&&Ke.remove(t)})(e,n.dom,t.dom)))})(e,t))})(e,t,o),e.selection.moveToBookmark(a),e.selection.setRng(Qe(e.selection.getRng())),e.nodeChanged(),r=!0}return r},Ft=(e,t)=>!(e=>{const t=nt(e);return ct(e,t)||!e.selection.isEditable()})(e)&&Dt(e,t),Rt=e=>Ft(e,"Indent"),$t=e=>Ft(e,"Outdent"),Mt=e=>Ft(e,"Flatten"),jt=e=>"\ufeff"===e;var Bt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const It=Te.DOM,Lt=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(Ne(o)){const e=It.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[r]):It.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},zt=e=>{const t=t=>{let n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];if(n){if(Ne(n)&&n.parentNode){const e=n;o=(e=>{var t;let n=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,o=0;for(;n;){if(n===e)return o;Ne(n)&&"bookmark"===n.getAttribute("data-mce-type")||o++,n=n.nextSibling}return-1})(n),n=n.parentNode,It.remove(e),!n.hasChildNodes()&&It.isBlock(n)&&n.appendChild(It.create("br"))}e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o}};t(!0),t();const n=It.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),Qe(n)},qt=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ht=(e,t)=>{_e.each(t,((t,n)=>{e.setAttribute(n,t)}))},Wt=(e,t,n)=>{((e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)})(e,t,n),((e,t,n)=>{Ht(t,n["list-attributes"]),_e.each(e.select("li",t),(e=>{Ht(e,n["list-item-attributes"])}))})(e,t,n)},Ut=(e,t)=>i(t)&&!Ie(t,e.schema.getBlockElements()),Vt=(e,t,n,o)=>{let r=t[n?"startContainer":"endContainer"];const a=t[n?"startOffset":"endOffset"];Ne(r)&&(r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r),!n&&je(r.nextSibling)&&(r=r.nextSibling);const s=(t,n)=>{var r;const a=new fe(t,(t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&o!==t;)t=t.parentNode;return t})(t)),s=n?"next":"prev";let i;for(;i=a[s]();)if(!Le(e,i)&&!jt(i.textContent)&&0!==(null===(r=i.textContent)||void 0===r?void 0:r.length))return h.some(i);return h.none()};if(n&&Ee(r))if(jt(r.textContent))r=s(r,!1).getOr(r);else for(null!==r.parentNode&&Ut(e,r.parentNode)&&(r=r.parentNode);null!==r.previousSibling&&(Ut(e,r.previousSibling)||Ee(r.previousSibling));)r=r.previousSibling;if(!n&&Ee(r))if(jt(r.textContent))r=s(r,!0).getOr(r);else for(null!==r.parentNode&&Ut(e,r.parentNode)&&(r=r.parentNode);null!==r.nextSibling&&(Ut(e,r.nextSibling)||Ee(r.nextSibling));)r=r.nextSibling;for(;r.parentNode!==o;){const t=r.parentNode;if(Be(e,r))return r;if(/^(TD|TH)$/.test(t.nodeName))return r;r=t}return r},Zt=(e,t,n)=>{const o=e.selection.getRng();let r="LI";const a=at(e,((e,t)=>{const n=e.selection.getStart(!0),o=Vt(e,t,!0,e.getBody());return r=B(o),a=B(t.commonAncestorContainer),s=r,i=function(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}(L,a),ie(s,i,void 0).isSome()?t.commonAncestorContainer:n;var r,a,s,i})(e,o)),s=e.dom;if("false"===s.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(r="DT");const i=Lt(o),l=k(((e,t,n)=>{const o=[],r=e.dom,a=Vt(e,t,!0,n),s=Vt(e,t,!1,n);let i;const l=[];for(let e=a;e&&(l.push(e),e!==s);e=e.nextSibling);return _e.each(l,(t=>{var a;if(Be(e,t))return o.push(t),void(i=null);if(r.isBlock(t)||je(t))return je(t)&&r.remove(t),void(i=null);const s=t.nextSibling;Bt.isBookmarkNode(t)&&(Pe(s)||Be(e,s)||!s&&t.parentNode===n)?i=null:(i||(i=r.create("p"),null===(a=t.parentNode)||void 0===a||a.insertBefore(i,t),o.push(i)),i.appendChild(t))})),o})(e,o,a),e.dom.isEditable);_e.each(l,(o=>{let a;const i=o.previousSibling,l=o.parentNode;Re(l)||(i&&Pe(i)&&i.nodeName===t&&((e,t,n)=>{const o=e.getStyle(t,"list-style-type");let r=n?n["list-style-type"]:"";return r=null===r?"":r,o===r})(s,i,n)?(a=i,o=s.rename(o,r),i.appendChild(o)):(a=s.create(t),l.insertBefore(a,o),a.appendChild(o),o=s.rename(o,r)),((e,t)=>{_e.each(["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],(n=>e.setStyle(t,n,"")))})(s,o),Wt(s,a,n),Gt(e.dom,a))})),e.selection.setRng(zt(i))},Kt=(e,t,n)=>{return((e,t)=>Pe(e)&&e.nodeName===(null==t?void 0:t.nodeName))(t,n)&&((e,t,n)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0))(e,t,n)&&(o=n,t.className===o.className);var o},Gt=(e,t)=>{let n,o=t.nextSibling;if(Kt(e,t,o)){const r=o;for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(o=t.previousSibling,Kt(e,t,o)){const r=o;for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}},Xt=(e,t,n,o)=>{if(t.nodeName!==n){const r=e.dom.rename(t,n);Wt(e.dom,r,o),pt(e,qt(n),r)}else Wt(e.dom,t,o),pt(e,qt(n),t)},Yt=(e,t,n,o)=>{if(t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),t.nodeName!==n){const r=e.dom.rename(t,n);Wt(e.dom,r,o),pt(e,qt(n),r)}else Wt(e.dom,t,o),pt(e,qt(n),t)},Jt=e=>"list-style-type"in e,Qt=(e,t,n)=>{const o=nt(e);if(ut(e,o))return;const a=(e=>{const t=nt(e),n=e.selection.getSelectedBlocks();return((e,t)=>i(e)&&1===t.length&&t[0]===e)(t,n)?(e=>k(e.querySelectorAll(tt),Pe))(t):k(n,(e=>Pe(e)&&t!==e))})(e),s=r(n)?n:{};a.length>0?((e,t,n,o,r)=>{const a=Pe(t);if(!a||t.nodeName!==o||Jt(r)||it(t)){Zt(e,o,r);const s=Lt(e.selection.getRng()),i=a?[t,...n]:n,l=a&&it(t)?Yt:Xt;_e.each(i,(t=>{l(e,t,o,r)})),e.selection.setRng(zt(s))}else Mt(e)})(e,o,a,t,s):((e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||Jt(o)||it(t)){const r=Lt(e.selection.getRng());it(t)&&t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),Wt(e.dom,t,o);const a=e.dom.rename(t,n);Gt(e.dom,a),e.selection.setRng(zt(r)),Zt(e,n,o),pt(e,qt(n),a)}else Mt(e);else Zt(e,n,o),pt(e,qt(n),t)})(e,o,t,s)},en=Te.DOM,tn=(e,t)=>{const n=_e.grep(e.select("ol,ul",t));_e.each(n,(t=>{((e,t)=>{const n=t.parentElement;if(n&&"LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),ze(e,n)&&en.remove(n)):en.setStyle(n,"listStyleType","none")}if(Pe(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})(e,t)}))},nn=(e,t,n,o)=>{let r=t.startContainer;const a=t.startOffset;if(Ee(r)&&(n?a<r.data.length:a>0))return r;const s=e.schema.getNonEmptyElements();Ne(r)&&(r=he.getNode(r,a));const i=new fe(r,o);n&&((e,t)=>!!je(t)&&e.isBlock(t.nextSibling)&&!je(t.previousSibling))(e.dom,r)&&i.next();const l=n?i.next.bind(i):i.prev2.bind(i);for(;r=l();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(s[r.nodeName])return r;if(Ee(r)&&r.data.length>0)return r}return null},on=(e,t)=>{const n=t.childNodes;return 1===n.length&&!Pe(n[0])&&e.isBlock(n[0])},rn=(e,t,n)=>{let o;const r=on(e,n)?n.firstChild:n;if(((e,t)=>{on(e,t)&&(e=>h.from(e).map(B).filter(K).exists((e=>((e,t=!1)=>{return ae(e)?e.dom.isContentEditable:(n=e,se(((e,t)=>I(e,t)),ce,n,"[contenteditable]",void 0)).fold(d(t),(e=>"true"===(e=>e.dom.contentEditable)(e)));var n})(e)&&!v(["details"],U(e)))))(t.firstChild)&&e.remove(t.firstChild,!0)})(e,t),!ze(e,t,!0))for(;o=t.firstChild;)r.appendChild(o)},an=(e,t,n)=>{let o;const r=t.parentNode;if(!qe(e,t)||!qe(e,n))return;Pe(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&je(r.previousSibling)&&e.remove(r.previousSibling);const a=n.lastChild;a&&je(a)&&t.hasChildNodes()&&e.remove(a),ze(e,n,!0)&&pe(B(n)),rn(e,t,n),o&&n.appendChild(o);const s=((e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)})(B(n),B(t))?e.getParents(t,Pe,n):[];e.remove(t),S(s,(t=>{ze(e,t)&&t!==e.getRoot()&&e.remove(t)}))},sn=e=>{const t=e.selection.getStart(),n=rt(e,t);return e.dom.getParent(t,"LI,DT,DD",n)||ot(e).length>0},ln=(e,t)=>{const n=e.selection;return!ut(e,n.getNode())&&(n.isCollapsed()?((e,t)=>((e,t)=>{const n=e.dom,o=e.selection,r=o.getStart(),a=rt(e,r),s=n.getParent(o.getStart(),"LI",a);if(s){const r=s.parentElement;if(r===e.getBody()&&ze(n,r))return!0;const i=Qe(o.getRng()),l=n.getParent(nn(e,i,t,a),"LI",a),c=l&&(t?n.isChildOf(s,l):n.isChildOf(l,s));if(l&&l!==s&&!c)return e.undoManager.transact((()=>{var n,o;t?((e,t,n,o)=>{const r=e.dom;if(r.isEmpty(o))((e,t,n)=>{pe(B(n)),an(e.dom,t,n),e.selection.setCursorLocation(n,0)})(e,n,o);else{const a=Lt(t);an(r,n,o),e.selection.setRng(zt(a))}})(e,i,l,s):(null===(o=(n=s).parentNode)||void 0===o?void 0:o.firstChild)===n?$t(e):((e,t,n,o)=>{const r=Lt(t);an(e.dom,n,o);const a=zt(r);e.selection.setRng(a)})(e,i,s,l)})),!0;if(c&&!t&&l!==s)return e.undoManager.transact((()=>{if(i.commonAncestorContainer.parentElement){const t=Lt(i),o=i.commonAncestorContainer.parentElement;rn(n,i.commonAncestorContainer.parentElement,l),o.remove();const r=zt(t);e.selection.setRng(r)}})),!0;if(!l&&!t&&0===i.startOffset&&0===i.endOffset)return e.undoManager.transact((()=>{Mt(e)})),!0}return!1})(e,t)||((e,t)=>{const n=e.dom,o=e.selection.getStart(),r=rt(e,o),a=n.getParent(o,n.isBlock,r);if(a&&n.isEmpty(a,void 0,{checkRootAsContent:!0})){const o=Qe(e.selection.getRng()),s=n.getParent(nn(e,o,t,r),"LI",r);if(s){const i=e=>v(["td","th","caption"],U(e)),l=e=>e.dom===r;return!!((e,t,n=m)=>R(e,t,n).getOr(e.isNone()&&t.isNone()))(le(B(s),i,l),le(B(o.startContainer),i,l),L)&&(e.undoManager.transact((()=>{const o=s.parentNode;((e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)})(n,a,r),Gt(n,o),e.selection.select(s,!0),e.selection.collapse(t)})),!0)}}return!1})(e,t))(e,t):(e=>!!sn(e)&&(e.undoManager.transact((()=>{let t=!0;const n=()=>t=!1;e.on("input",n),e.execCommand("Delete"),e.off("input",n),t&&e.dispatch("input"),tn(e.dom,e.getBody())})),!0))(e))},cn=e=>{const t=O(gt(e).split("")),n=x(t,((e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return C(n,((e,t)=>e+t),0)},un=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return un(n)+String.fromCharCode("A".charCodeAt(0)+t)}},dn=e=>{const t=parseInt(e.start,10);return F(e.listStyleType,"upper-alpha")?un(t):F(e.listStyleType,"lower-alpha")?un(t).toLowerCase():e.start},mn=(e,t)=>()=>{const n=nt(e);return i(n)&&n.nodeName===t},pn=e=>{e.addCommand("mceListProps",(()=>{(e=>{const t=nt(e);Fe(t)&&!ut(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:dn({start:e.dom.getAttrib(t,"start","1"),listStyleType:h.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:/^[a-z]+$/.test(e)?1:e.length>0?4:3)(e)){case 2:return h.some({listStyleType:h.none(),start:e});case 0:return h.some({listStyleType:h.some("upper-alpha"),start:cn(e).toString()});case 1:return h.some({listStyleType:h.some("lower-alpha"),start:cn(e).toString()});case 3:return h.some({listStyleType:h.none(),start:""});case 4:return h.none()}})(t.getData().start).each((t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})})(e)}))};var gn=tinymce.util.Tools.resolve("tinymce.html.Node");const hn=e=>3===e.type,fn=e=>0===e.length,bn=e=>{const t=(t,n)=>{const o=gn.create("li");S(t,(e=>o.append(e))),n?e.insert(o,n,!0):e.append(o)},n=C(e.children(),((e,n)=>hn(n)?[...e,n]:fn(e)||hn(n)?e:(t(e,n),[])),[]);fn(n)||t(n)},yn=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),dt(e,(o=>{n.setActive(lt(o.parents,t)),n.setEnabled(!ut(e,o.element)&&e.selection.isEditable())}))),vn=(e,t)=>n=>dt(e,(o=>n.setEnabled(lt(o.parents,t)&&!ut(e,o.element))));e.add("lists",(e=>((e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})})(e),(e=>{e.on("PreInit",(()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",(e=>S(e,bn)))}))})(e),e.hasPlugin("rtc",!0)?pn(e):((e=>{We(e)&&(e=>{e.on("keydown",(t=>{t.keyCode!==be.TAB||be.metaKeyPressed(t)||e.undoManager.transact((()=>{(t.shiftKey?$t(e):Rt(e))&&t.preventDefault()}))}))})(e),(e=>{e.on("ExecCommand",(t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!sn(e)||tn(e.dom,e.getBody())})),e.on("keydown",(t=>{t.keyCode===be.BACKSPACE?ln(e,!1)&&t.preventDefault():t.keyCode===be.DELETE&&ln(e,!0)&&t.preventDefault()}))})(e)})(e),(e=>{e.on("BeforeExecCommand",(t=>{const n=t.command.toLowerCase();"indent"===n?Rt(e):"outdent"===n&&$t(e)})),e.addCommand("InsertUnorderedList",((t,n)=>{Qt(e,"UL",n)})),e.addCommand("InsertOrderedList",((t,n)=>{Qt(e,"OL",n)})),e.addCommand("InsertDefinitionList",((t,n)=>{Qt(e,"DL",n)})),e.addCommand("RemoveList",(()=>{Mt(e)})),pn(e),e.addCommand("mceListUpdate",((t,n)=>{r(n)&&((e,t)=>{const n=nt(e);null===n||ut(e,n)||e.undoManager.transact((()=>{r(t.styles)&&e.dom.setStyles(n,t.styles),r(t.attrs)&&we(t.attrs,((t,o)=>e.dom.setAttrib(n,o,t)))}))})(e,n)})),e.addQueryStateHandler("InsertUnorderedList",mn(e,"UL")),e.addQueryStateHandler("InsertOrderedList",mn(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",mn(e,"DL"))})(e)),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:yn(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:yn(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:vn(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=nt(e,t);return Fe(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{ln(e,t)}}))(e))))}()},34328:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=(s=null,e=>s===e);var s;const i=n("boolean"),l=n("number");class c{constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?c.none():c.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);const u=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},d=Object.keys,m=(e,t)=>{const n=d(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},p="undefined"!=typeof window?window:Function("return this;")(),g=(e,t)=>((e,t)=>{let n=null!=t?t:p;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),h=(e,t)=>{const n=((e,t)=>g(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},f=Object.getPrototypeOf,b=e=>{const t=g("ownerDocument.defaultView",e);return r(e)&&((e=>h("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(f(e).constructor.name))},y=e=>e.dom.nodeValue,v=e=>t=>(e=>e.dom.nodeType)(t)===e,w=e=>x(e)&&b(e.dom),x=v(1),S=v(3),k=(e,t,n)=>{((e,t,n)=>{if(!(o(n)||i(n)||l(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},C=(e,t)=>{e.dom.removeAttribute(t)},T=(e,t)=>{const n=((e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n})(e,t);return void 0===n||""===n?[]:n.split(" ")},_=e=>void 0!==e.dom.classList,A=(e,t)=>((e,t,n)=>{const o=T(e,t).concat([n]);return k(e,t,o.join(" ")),!0})(e,"class",t),O=(e,t)=>((e,t,n)=>{const o=((e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n})(T(e,t),(e=>e!==n));return o.length>0?k(e,t,o.join(" ")):C(e,t),!1})(e,"class",t),E=e=>{const t=_(e)?e.dom.classList:(e=>T(e,"class"))(e);0===t.length&&C(e,"class")},N=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},P={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return N(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return N(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return N(n)},fromDom:N,fromPoint:(e,t,n)=>c.from(e.dom.elementFromPoint(t,n)).map(N)},D={" ":"nbsp","­":"shy"},F=(e,t)=>{let n="";return m(e,((e,t)=>{n+=t})),new RegExp("["+n+"]",t?"g":"")},R=F(D),$=F(D,!0),M=(e=>{let t="";return m(e,(e=>{t&&(t+=","),t+="span.mce-"+e})),t})(D),j="mce-nbsp",B=e=>e.dom.contentEditable,I=e=>'<span data-mce-bogus="1" class="mce-'+D[e]+'">'+e+"</span>",L=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),z=e=>{const t=y(e);return S(e)&&o(t)&&R.test(t)},q=(e,t,n)=>{let o=[];const r=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(e.dom.childNodes,P.fromDom),a=e=>L(e.dom)||!(e=>w(e)&&"false"===B(e))(e);return u(r,(e=>{n&&a(e)&&t(e)&&(o=o.concat([e])),o=o.concat(q(e,t,((e,t)=>{if(w(e)&&!L(e.dom)){const t=B(e);if("true"===t)return!0;if("false"===t)return!1}return t})(e,n)))})),o},H=(e,t)=>{const n=e.dom,o=q(P.fromDom(t),z,e.dom.isEditable(t));u(o,(t=>{var o;const r=t.dom.parentNode;if(L(r))a=P.fromDom(r),s=j,_(a)?a.dom.classList.add(s):A(a,s);else{const r=n.encode(null!==(o=y(t))&&void 0!==o?o:"").replace($,I),a=n.create("div",{},r);let s;for(;s=a.lastChild;)n.insertAfter(s,t.dom);e.dom.remove(t.dom)}var a,s}))},W=(e,t)=>{const n=e.dom.select(M,t);u(n,(t=>{L(t)?((e,t)=>{_(e)?e.dom.classList.remove(t):O(e,t);E(e)})(P.fromDom(t),j):e.dom.remove(t,!0)}))},U=e=>{const t=e.getBody(),n=e.selection.getBookmark();let o=((e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}})(e.selection.getNode(),t);o=void 0!==o?o:t,W(e,o),H(e,o),e.selection.moveToBookmark(n)},V=(e,t)=>{((e,t)=>{e.dispatch("VisualChars",{state:t})})(e,t.get());const n=e.getBody();!0===t.get()?H(e,n):W(e,n)},Z=(e,t)=>{e.addCommand("mceVisualChars",(()=>{((e,t)=>{t.set(!t.get());const n=e.selection.getBookmark();V(e,t),e.selection.moveToBookmark(n)})(e,t)}))},K=(G="visualchars_default_state",e=>e.options.get(G));var G;const X=(e,t)=>{const n=((e,t)=>{let n=null;return{cancel:()=>{a(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{a(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}})((()=>{U(e)}),300);e.on("keydown",(o=>{!0===t.get()&&(13===o.keyCode?U(e):n.throttle())})),e.on("remove",n.cancel)},Y=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)};e.add("visualchars",(e=>{(e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})})(e);const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(K(e));return Z(e,t),((e,t)=>{const n=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:Y(e,t),context:"any"}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:Y(e,t),context:"any"})})(e,t),X(e,t),((e,t)=>{e.on("init",(()=>{V(e,t)}))})(e,t),(e=>({isEnabled:()=>e.get()}))(t)}))}()},37880:function(e,t,n){n(31141)},39561:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e){return e.getParam("noneditable_noneditable_class","mceNonEditable")},o=function(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}},r=function(e,t,n){return function(o){var r=arguments,a=r[r.length-2],s=a>0?t.charAt(a-1):"";if('"'===s)return o;if(">"===s){var i=t.lastIndexOf("<",a);if(-1!==i)if(-1!==t.substring(i,a).indexOf('contenteditable="false"'))return o}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(r[0])+'">'+e.dom.encode("string"==typeof r[1]?r[1]:r[0])+"</span>"}},a=function(e){var a="contenteditable",s=" "+t.trim(function(e){return e.getParam("noneditable_editable_class","mceEditable")}(e))+" ",i=" "+t.trim(n(e))+" ",l=o(s),c=o(i),u=function(e){var t=e.getParam("noneditable_regexp",[]);return t&&t.constructor===RegExp?[t]:t}(e);e.on("PreInit",(function(){u.length>0&&e.on("BeforeSetContent",(function(t){!function(e,t,o){var a=t.length,s=o.content;if("raw"!==o.format){for(;a--;)s=s.replace(t[a],r(e,s,n(e)));o.content=s}}(e,u,t)})),e.parser.addAttributeFilter("class",(function(e){for(var t,n=e.length;n--;)t=e[n],l(t)?t.attr(a,"true"):c(t)&&t.attr(a,"false")})),e.serializer.addAttributeFilter(a,(function(e){for(var t,n=e.length;n--;)t=e[n],(l(t)||c(t))&&(u.length>0&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):t.attr(a,null))}))}))};e.add("noneditable",(function(e){a(e)}))}()},47816:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>null===e,n=e=>e,o=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},r=10,a=[new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),new RegExp("[-'\\.‘’․﹒＇．]"),new RegExp("[:··״‧︓﹕：]"),new RegExp("[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]"),new RegExp("[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]"),new RegExp("\\r"),new RegExp("\\n"),new RegExp("[\v\f\u2028\u2029]"),new RegExp("[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]"),new RegExp("[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]"),new RegExp("[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]"),new RegExp("[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]"),new RegExp("@")],s=new RegExp("^[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]$"),i=a,l=e=>{let t=13;const n=i.length;for(let o=0;o<n;++o){const n=i[o];if(n&&n.test(e)){t=o;break}}return t},c=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(0===n&&0===o)return!1;const a=e[t+2];if(0===n&&(2===o||1===o||12===o)&&0===a)return!1;const s=e[t-1];return(2!==n&&1!==n&&12!==o||0!==o||0!==s)&&(4!==n&&0!==n||4!==o&&0!==o)&&(3!==n&&1!==n||4!==o||4!==s)&&(4!==n||3!==o&&1!==o||4!==a)&&(8!==n&&9!==n||0!==o&&4!==o&&o!==r&&8!==o&&9!==o)&&(8!==o&&(9!==o||0!==a&&4!==a&&a!==r&&8!==a&&9!==a)||0!==n&&4!==n&&n!==r&&8!==n&&9!==n)&&(5!==n||6!==o)&&(7===n||5===n||6===n||7===o||5===o||6===o||(n!==r||o!==r)&&(11!==o||0!==n&&4!==n&&n!==r&&11!==n)&&(11!==n||0!==o&&4!==o&&o!==r)&&12!==n)},u=/^\s+$/,d=s,m=e=>"http"===e||"https"===e,p=(e,t)=>{const n=((e,t)=>{let n;for(n=t;n<e.length&&!u.test(e[n]);n++);return n})(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},g=(e,t,n)=>((e,t,n)=>{n={includeWhitespace:!1,includePunctuation:!1,...n};const r=o(e,t);return((e,t,n,o)=>{const r=[],a=[];let s=[];for(let i=0;i<n.length;++i)if(s.push(e[i]),c(n,i)){const n=t[i];if((o.includeWhitespace||!u.test(n))&&(o.includePunctuation||!d.test(n))){const n=i-s.length+1,o=i+1,l=t.slice(n,o).join("");if(m(l)){const n=p(t,i),r=e.slice(o,n);Array.prototype.push.apply(s,r),i=n}"."===t[i+1]&&/^([a-zA-Z]\.)+$/.test(l+".")?(s.push(e[i+1]),a.push({start:n,end:o+1})):a.push({start:n,end:o}),r.push(s)}s=[]}return{words:r,indices:a}})(e,r,(e=>{const t=(e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}})(l);return o(e,t)})(r),n)})(e,t,n).words;var h=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const f=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],a=[];let s="";const i=new h(e,e);let l;for(;l=i.next();)3===l.nodeType?s+=l.data.replace(/\uFEFF/g,""):r(l)&&s.length&&(a.push(s),s="");return s.length&&a.push(s),a},b=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,y=(e,t)=>{const o=(e=>e.replace(/\u200B/g,""))(f(e,t).join("\n"));return g(o.split(""),n).length},v=(e,t)=>{const n=f(e,t).join("");return b(n)},w=(e,t)=>{const n=f(e,t).join("").replace(/\s/g,"");return b(n)},x=(e,t)=>()=>t(e.getBody(),e.schema),S=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),k=e=>x(e,y);var C=tinymce.util.Tools.resolve("tinymce.util.Delay");const T=(e,t)=>{((e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})})(e,t)},_=(e,n,o)=>{const r=((e,n)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{t(o)&&(o=setTimeout((()=>{o=null,e.apply(null,r)}),n))}}})((()=>T(e,n)),o);e.on("init",(()=>{T(e,n),C.setEditorTimeout(e,(()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)}),0),e.on("remove",r.cancel)}))};((t=300)=>{e.add("wordcount",(e=>{const n=(e=>({body:{getWordCount:k(e),getCharacterCount:x(e,v),getCharacterCountWithoutSpaces:x(e,w)},selection:{getWordCount:S(e,y),getCharacterCount:S(e,v),getCharacterCountWithoutSpaces:S(e,w)},getCount:k(e)}))(e);return((e,t)=>{e.addCommand("mceWordCount",(()=>((e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})(e,t)))})(e,n),(e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t,context:"any"}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t,context:"any"})})(e),_(e,n,t),n}))})()}()},47821:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("array"),a=n("boolean"),s=e=>void 0===e,i=e=>!(e=>null==e)(e),l=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=e=>e,p=(e,t)=>e===t;function g(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const h=e=>{e()},f=d(!1),b=d(!0);class y{constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return i(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);const v=Object.keys,w=Object.hasOwnProperty,x=(e,t)=>{const n=v(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},S=(e,t)=>{const n={};var o;return((e,t,n,o)=>{x(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,t,(o=n,(e,t)=>{o[t]=e}),u),n},k=e=>v(e).length,C=(e,t)=>T(e,t)?y.from(e[t]):y.none(),T=(e,t)=>w.call(e,t),_=(e,t)=>T(e,t)&&void 0!==e[t]&&null!==e[t],A=Array.prototype.indexOf,O=Array.prototype.push,E=(e,t)=>((e,t)=>A.call(e,t))(e,t)>-1,N=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},P=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},D=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},F=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},R=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},$=(e,t,n)=>(F(e,((e,o)=>{n=t(n,e,o)})),n),M=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return y.some(r);if(n(r,o))break}return y.none()})(e,t,f),j=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t})(D(e,t)),B=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},I=(e,t)=>t>=0&&t<e.length?y.some(e[t]):y.none(),L=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return y.none()},z=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},q={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return z(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return z(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return z(n)},fromDom:z,fromPoint:(e,t,n)=>y.from(e.dom.elementFromPoint(t,n)).map(z)},H=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},W=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,U=(e,t)=>e.dom===t.dom,V=H;"undefined"!=typeof window?window:Function("return this;")();const Z=e=>e.dom.nodeName.toLowerCase(),K=e=>e.dom.nodeType,G=e=>t=>K(t)===e,X=G(1),Y=G(3),J=G(9),Q=G(11),ee=e=>t=>X(t)&&Z(t)===e,te=e=>y.from(e.dom.parentNode).map(q.fromDom),ne=e=>y.from(e.dom.nextSibling).map(q.fromDom),oe=e=>D(e.dom.childNodes,q.fromDom),re=e=>q.fromDom(e.dom.host),ae=e=>{const t=Y(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=(e=>q.fromDom(e.dom.getRootNode()))(e);return Q(n=t)&&i(n.dom.host)?y.some(t):y.none();var n})(q.fromDom(t)).fold((()=>n.body.contains(t)),(o=ae,r=re,e=>o(r(e))));var o,r};var se=(e,t,n,o,r)=>e(n,o)?y.some(n):l(r)&&r(n)?y.none():t(n,o,r);const ie=(e,t,n)=>{let o=e.dom;const r=l(n)?n:f;for(;o.parentNode;){o=o.parentNode;const e=q.fromDom(o);if(t(e))return y.some(e);if(r(e))break}return y.none()},le=(e,t,n)=>ie(e,(e=>H(e,t)),n),ce=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return W(n)?y.none():y.from(n.querySelector(e)).map(q.fromDom)})(t,e),ue=(e,t,n)=>se(((e,t)=>H(e,t)),le,e,t,n),de=(e,t=!1)=>{return ae(e)?e.dom.isContentEditable:(n=e,ue(n,"[contenteditable]")).fold(d(t),(e=>"true"===me(e)));var n},me=e=>e.dom.contentEditable,pe=e=>t=>U(t,(e=>q.fromDom(e.getBody()))(e)),ge=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,he=e=>q.fromDom(e.selection.getStart()),fe=(e,t)=>{let n=[];return F(oe(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(fe(e,t))})),n},be=(e,t)=>(e=>R(oe(e),(e=>H(e,t))))(e),ye=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return W(n)?[]:D(n.querySelectorAll(e),q.fromDom)})(t,e),ve=(e,t,n)=>{if(!(o(n)||a(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},we=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},xe=(e,t)=>y.from(we(e,t)),Se=(e,t)=>{e.dom.removeAttribute(t)},ke=(e,t,n=p)=>e.exists((e=>n(e,t))),Ce=(e,t,n)=>e.isSome()&&t.isSome()?y.some(n(e.getOrDie(),t.getOrDie())):y.none(),Te=(e,t)=>((e,t)=>""===t||e.length>=t.length&&e.substr(0,0+t.length)===t)(e,t),_e=(Ae=/^\s+|\s+$/g,e=>e.replace(Ae,""));var Ae;const Oe=e=>e.length>0,Ee=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?y.none():y.some(n)},Ne=e=>void 0!==e.style&&l(e.style.getPropertyValue),Pe=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||ae(e)?o:De(n,t)},De=(e,t)=>Ne(e)?e.style.getPropertyValue(t):"",Fe=(e,t)=>{const n=e.dom,o=De(n,t);return y.from(o).filter((e=>e.length>0))},Re=(e,t,n=0)=>xe(e,t).map((e=>parseInt(e,10))).getOr(n),$e=(e,t)=>Me(e,t,b),Me=(e,t,n)=>j(oe(e),(e=>H(e,t)?n(e)?[e]:[]:Me(e,t,n))),je=["tfoot","thead","tbody","colgroup"],Be=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Ie=(e,t,n)=>({element:e,cells:t,section:n}),Le=(e,t)=>ue(e,"table",t),ze=e=>$e(e,"tr"),qe=e=>Le(e).fold(d([]),(e=>be(e,"colgroup"))),He=e=>te(e).map((e=>{const t=Z(e);return(e=>E(je,e))(t)?t:"tbody"})).getOr("tbody"),We=e=>xe(e,"data-snooker-locked-cols").bind((e=>y.from(e.match(/\d+/g)))).map((e=>((e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n})(e,b))),Ue=(e,t)=>e+","+t,Ve=e=>{const t=(e=>{const t=ze(e);return((e,t)=>D(e,(e=>{if("colgroup"===Z(e)){const t=D((e=>H(e,"colgroup")?be(e,"col"):j(qe(e),(e=>be(e,"col"))))(e),(e=>{const t=Re(e,"span",1);return Be(e,1,t)}));return Ie(e,t,"colgroup")}{const n=D((e=>$e(e,"th,td"))(e),(e=>{const t=Re(e,"rowspan",1),n=Re(e,"colspan",1);return Be(e,t,n)}));return Ie(e,n,t(e))}})))([...qe(e),...t],He)})(e);return(e=>{const t={},n=[];var o;const r=(o=e,I(o,0)).map((e=>e.element)).bind(Le).bind(We).getOr({});let a=0,s=0,i=0;const{pass:l,fail:c}=(e=>{const t=[],n=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(o=a,"colgroup"===o.section?t:n).push(a)}var o;return{pass:t,fail:n}})(e);F(c,(e=>{const o=[];F(e.cells,(e=>{let n=0;for(;void 0!==t[Ue(i,n)];)n++;const a=_(r,n.toString()),l=((e,t,n,o,r,a)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,i,n,a);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,a=Ue(i+r,e);t[a]=l,s=Math.max(s,e+1)}o.push(l)})),a++,n.push(Ie(e.element,o,e.section)),i++}));const{columns:u,colgroups:d}=(e=>I(e,e.length-1))(l).map((e=>{const t=(e=>{const t={};let n=0;return F(e.cells,(e=>{const o=e.colspan;P(o,(r=>{const a=n+r;t[a]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,a)})),n+=o})),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,((e,t)=>{const n=[];return x(e,((e,o)=>{n.push(t(e,o))})),n})(t,m));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),p=((e,t)=>({rows:e,columns:t}))(a,s);return{grid:p,access:t,all:n,columns:u,colgroups:d}})(t)},Ze=(e,t,n)=>y.from(e.access[Ue(t,n)]),Ke=(e,t,n)=>{const o=((e,t)=>{const n=j(e.all,(e=>e.cells));return R(n,t)})(e,(e=>n(t,e.element)));return o.length>0?y.some(o[0]):y.none()},Ge=(e,t)=>y.from(e.columns[t]);var Xe=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ye=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let t=0;t<o.length;t++){const a=e.getStyle(o[t],n);if(s(r)&&(r=a),r!==a)return""}return r},Je=(e,t,n)=>{Xe.each("left center right".split(" "),(o=>{o!==n&&e.formatter.remove("align"+o,{},t)})),n&&e.formatter.apply("align"+n,{},t)},Qe=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},et=(e,t,n)=>((e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?y.none():y.some(t)})(e).getOr(t))(Pe(e,t),n);var tt=tinymce.util.Tools.resolve("tinymce.Env");const nt=P(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}})),ot=D(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()}))),rt="100%",at=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return(e=>(e=>{const t=e.dom;return((e,t,n,o)=>t-et(e,`padding-${n}`,0)-et(e,`padding-${o}`,0)-et(e,`border-${n}-width`,0)-et(e,`border-${o}-width`,0))(e,t.getBoundingClientRect().width||t.offsetWidth,"left","right")})(e))(q.fromDom(o))+"px"},st=e=>t=>t.options.get(e),it=st("table_sizing_mode"),lt=st("table_border_widths"),ct=st("table_border_styles"),ut=st("table_cell_advtab"),dt=st("table_row_advtab"),mt=st("table_advtab"),pt=st("table_appearance_options"),gt=st("table_grid"),ht=st("table_style_by_css"),ft=st("table_cell_class_list"),bt=st("table_row_class_list"),yt=st("table_class_list"),vt=st("table_toolbar"),wt=st("table_background_color_map"),xt=st("table_border_color_map"),St=e=>"fixed"===it(e),kt=e=>"responsive"===it(e),Ct=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>kt(e)||!ht(e)?t:St(e)?{...t,width:at(e)}:{...t,width:rt})(e,n)},Tt=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>kt(e)||ht(e)?t:St(e)?{...t,width:at(e)}:{...t,width:rt})(e,n)},_t=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,At=Ve,Ot=(e,t)=>{te(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Et=(e,t)=>{ne(e).fold((()=>{te(e).each((e=>{Nt(e,t)}))}),(e=>{Ot(e,t)}))},Nt=(e,t)=>{e.dom.appendChild(t.dom)},Pt=(e,t)=>{F(t,((n,o)=>{const r=0===o?e:t[o-1];Et(r,n)}))},Dt=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Ft=(e=>{const t=t=>e(t)?y.from(t.dom.nodeValue):y.none();return{get:n=>{if(!e(n))throw new Error("Can only get text value of a text node");return t(n).getOr("")},getOption:t,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(Y);var Rt=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const $t=(e,t,n,o)=>{const r=t(e,n);return a=(n,o)=>{const r=t(e,o);return Mt(e,n,r)},s=r,((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(o,((e,t)=>{s=a(s,e)})),s;var a,s},Mt=(e,t,n)=>t.bind((t=>n.filter(g(e.eq,t)))),jt={up:d({selector:le,closest:ue,predicate:ie,all:(e,t)=>{const n=l(t)?t:f;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=q.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r}}),down:d({selector:ye,predicate:fe}),styles:d({get:Pe,getRaw:Fe,set:(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ne(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},remove:(e,t)=>{((e,t)=>{Ne(e)&&e.style.removeProperty(t)})(e.dom,t),ke(xe(e,"style").map(_e),"")&&Se(e,"style")}}),attrs:d({get:we,set:(e,t,n)=>{ve(e.dom,t,n)},remove:Se,copyTo:(e,t)=>{((e,t)=>{const n=e.dom;x(t,((e,t)=>{ve(n,t,e)}))})(t,$(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))}}),insert:d({before:Ot,after:Et,afterAll:Pt,append:Nt,appendAll:(e,t)=>{F(t,(t=>{Nt(e,t)}))},prepend:(e,t)=>{(e=>(e=>{const t=e.dom.childNodes;return y.from(t[0]).map(q.fromDom)})(e))(e).fold((()=>{Nt(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},wrap:(e,t)=>{Ot(e,t),Nt(t,e)}}),remove:d({unwrap:e=>{const t=oe(e);t.length>0&&Pt(e,t),Dt(e)},remove:Dt}),create:d({nu:q.fromTag,clone:e=>q.fromDom(e.dom.cloneNode(!1)),text:q.fromText}),query:d({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:e=>y.from(e.dom.previousSibling).map(q.fromDom),nextSibling:ne}),property:d({children:oe,name:Z,parent:te,document:e=>{return(t=e,J(t)?t:q.fromDom(t.dom.ownerDocument)).dom;var t},isText:Y,isComment:e=>8===K(e)||"#comment"===Z(e),isElement:X,isSpecial:e=>{const t=Z(e);return E(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>X(e)?xe(e,"lang"):y.none(),getText:e=>Ft.get(e),setText:(e,t)=>Ft.set(e,t),isBoundary:e=>!!X(e)&&("body"===Z(e)||E(Rt,Z(e))),isEmptyTag:e=>!!X(e)&&E(["br","img","hr","input"],Z(e)),isNonEditable:e=>X(e)&&"false"===we(e,"contenteditable")}),eq:U,is:V},Bt=e=>le(e,"table"),It=e=>D(e,q.fromDom),Lt="data-mce-selected",zt="data-mce-first-selected",qt="data-mce-last-selected",Ht={selected:Lt,selectedSelector:"td["+Lt+"],th["+Lt+"]",firstSelected:zt,firstSelectedSelector:"td["+zt+"],th["+zt+"]",lastSelected:qt,lastSelectedSelector:"td["+qt+"],th["+qt+"]"},Wt=e=>(t,n)=>{const o=Z(t),r="col"===o||"colgroup"===o?Le(a=t).bind((e=>((e,t)=>((e,t)=>{const n=ye(e,t);return n.length>0?y.some(n):y.none()})(e,t))(e,Ht.firstSelectedSelector))).fold(d(a),(e=>e[0])):t;var a;return ue(r,e,n)},Ut=Wt("th,td,caption"),Vt=Wt("th,td"),Zt=e=>It(e.model.table.getSelectedCells()),Kt=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Gt=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Xt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Yt=e=>{return(t=e,Te(t,"#")?(e=>e.substring(1))(t):t).toUpperCase();var t},Jt=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Qt=e=>{return t=Jt(e.red)+Jt(e.green)+Jt(e.blue),{value:Yt(t)};var t},en=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,tn=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,nn=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),on=(e,t,n,o)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(n,10),i=parseFloat(o);return nn(r,a,s,i)},rn=e=>{const t=en.exec(e);if(null!==t)return y.some(on(t[1],t[2],t[3],"1"));const n=tn.exec(e);return null!==n?y.some(on(n[1],n[2],n[3],n[4])):y.none()},an=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},sn=(e,t,n)=>o=>{const r=(e=>{const t=an(y.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(y.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(y.some(e))}}})((e=>e.unbind())),a=!Oe(n),s=()=>{const s=Zt(e),i=o=>e.formatter.match(t,{value:n},o.dom,a);a?(o.setActive(!N(s,i)),r.set(e.formatter.formatChanged(t,(e=>o.setActive(!e)),!0))):(o.setActive(B(s,i)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?s():e.on("init",s),r.clear},ln=e=>_(e,"menu"),cn=e=>D(e,(e=>{const t=e.text||e.title||"";return ln(e)?{text:t,items:cn(e.menu)}:{text:t,value:e.value}})),un=e=>e.length?y.some(cn([{text:"Select...",value:"mce-no-match"},...e])):y.none(),dn=(e,t,n,o)=>D(t,(t=>{const r=t.text||t.title;return ln(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>dn(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:sn(e,n,t.value)}})),mn=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},pn=e=>j(e,(e=>ln(e)?[{...e,menu:pn(e.menu)}]:Oe(e.value)?[e]:[])),gn=(e,t,n,o)=>r=>r(dn(e,t,n,o)),hn=(e,t,n)=>{const o=D(t,(e=>{return{text:e.title,value:"#"+(n=e.value,(t=n,(e=>Gt.test(e)||Xt.test(e))(t)?y.some({value:Yt(t)}):y.none()).orThunk((()=>rn(n).map(Qt))).getOrThunk((()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),t.fillStyle="#FFFFFF",t.fillStyle=n,t.fillRect(0,0,1,1);const o=t.getImageData(0,0,1,1).data,r=o[0],a=o[1],s=o[2],i=o[3];return Qt(nn(r,a,s,i))}))).value,type:"choiceitem"};var t,n}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},fn=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},bn=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},yn=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Kt}],vn=e=>yn.concat((e=>un(ft(e)).map((e=>({name:"class",type:"listbox",label:"Class",items:e}))))(e).toArray()),wn=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(cn(ct(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},xn=(e,t)=>{const n=e.dom;return{setAttrib:(e,o)=>{n.setAttrib(t,e,o)},setStyle:(e,o)=>{n.setStyle(t,e,o)},setFormat:(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)}}},Sn=ee("th"),kn=(e,t)=>e&&t?"sectionCells":e?"section":"cells",Cn=(e,t)=>L(e.all,(e=>M(e.cells,(e=>U(t,e.element))))),Tn=(e,t)=>((e,t,n)=>{const o=(e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})(D(t.selection,(t=>{return(o=t,((e,t,n=f)=>n(t)?y.none():E(e,Z(t))?y.some(t):le(t,e.join(","),(e=>H(e,"table")||n(e))))(["td","th"],o,void 0)).bind((t=>Cn(e,t))).filter(n);var o})));return r=o,o.length>0?y.some(r):y.none();var r})(e,t,b),_n=(e,t)=>B(t,(t=>((e,t)=>Cn(e,t).exists((e=>!e.isLocked)))(e,t))),An=(e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>_n(e,t.cells))),On=(e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>_n(e,t))),En=((e=>{if(!r(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};F(e,((o,a)=>{const s=v(o);if(1!==s.length)throw new Error("one and only one name per case");const i=s[0],l=o[i];if(void 0!==n[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!r(l))throw new Error("case arguments must be an array");t.push(i),n[i]=(...n)=>{const o=n.length;if(o!==l.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+l.length+" ("+l+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[a].apply(null,n)},match:e=>{const o=v(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!B(t,(e=>E(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:i,params:n})}}}}))})([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(e,t)=>{const n=Ve(e);return Tn(n,t).bind((e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan;return(e=>{const t=D(e,(e=>(e=>{const t="thead"===e.section,n=ke((e=>{const t=R(e,(e=>Sn(e.element)));return 0===t.length?y.some("td"):t.length===e.length?y.some("th"):y.none()})(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:kn(t,n)}:{type:"body"}})(e).type)),n=E(t,"header"),o=E(t,"footer");if(n||o){const e=E(t,"body");return!n||e||o?n||e||!o?y.none():y.some("footer"):y.some("header")}return y.some("body")})(n.all.slice(o,r))})).getOr("")}),Nn=e=>{return Te(e,"rgb")?rn(t=e).map(Qt).map((e=>"#"+e.value)).getOr(t):e;var t},Pn=e=>{const t=q.fromDom(e);return{borderwidth:Fe(t,"border-width").getOr(""),borderstyle:Fe(t,"border-style").getOr(""),bordercolor:Fe(t,"border-color").map(Nn).getOr(""),backgroundcolor:Fe(t,"background-color").map(Nn).getOr("")}},Dn=e=>{const t=e[0],n=e.slice(1);return F(n,(e=>{F(v(t),(n=>{x(e,((e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="class"===n?"mce-no-match":"")}))}))})),t},Fn=(e,t,n,o)=>M(e,(e=>!s(n.formatter.matchNode(o,t+e)))).getOr(""),Rn=g(Fn,["left","center","right"],"align"),$n=g(Fn,["top","middle","bottom"],"valign"),Mn=e=>Le(q.fromDom(e)).map((t=>{const n={selection:It(e.cells)};return En(t,n)})).getOr(""),jn=(e,t)=>{const n=Ve(e),o=(e=>j(e.all,(e=>e.cells)))(n),r=R(o,(e=>N(t,(t=>U(e.element,t)))));return D(r,(e=>({element:e.element.dom,column:Ge(n,e.column).map((e=>e.element.dom))})))},Bn=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=S(o,((e,t)=>n[t]!==e));k(r)>0&&t.length>=1&&Le(t[0]).each((n=>{const a=jn(n,t),s=k(S(r,((e,t)=>"scope"!==t&&"celltype"!==t)))>0,i=T(r,"celltype");(s||T(r,"scope"))&&((e,t,n,o)=>{const r=1===t.length;F(t,(t=>{const a=t.element,s=r?b:o,i=xn(e,a);((e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&"mce-no-match"!==n.class&&e.setAttrib("class",n.class),o("width")&&t.setStyle("width",ge(n.width))})(i,t.column.map((t=>xn(e,t))).getOr(i),n,s),ut(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",ge(t.borderwidth))})(i,n,s),o("halign")&&Je(e,a,n.halign),o("valign")&&((e,t,n)=>{Xe.each("top middle bottom".split(" "),(o=>{o!==n&&e.formatter.remove("valign"+o,{},t)})),n&&e.formatter.apply("valign"+n,{},t)})(e,a,n.valign)}))})(e,a,o,g(T,r)),i&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,o),Qe(e,n.dom,{structure:i,style:s})}))})(e,t,n,r),e.focus()}))},In=e=>{const t=Zt(e);if(0===t.length)return;const n=((e,t)=>{const n=Le(t[0]).map((n=>D(jn(n,t),(t=>((e,t,n,o)=>{const r=e.dom;return{width:(s=o.getOr(t),i="width",r.getStyle(s,i)||r.getAttrib(s,i)),scope:r.getAttrib(t,"scope"),celltype:(a=t,a.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:Rn(e,t),valign:$n(e,t),...n?Pn(t):{}};var a,s,i})(e,t.element,ut(e),t.column)))));return Dn(n.getOrDie())})(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:vn(e)},wn(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:vn(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:ut(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:g(Bn,e,t,n)})},Ln=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],zn=e=>Ln.concat((e=>un(bt(e)).map((e=>({name:"class",type:"listbox",label:"Class",items:e}))))(e).toArray()),qn=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=S(o,((e,t)=>n[t]!==e));if(k(r)>0){const n=T(r,"type"),a=!n||k(r)>1;a&&((e,t,n,o)=>{const r=1===t.length?b:o;F(t,(t=>{const a=be(q.fromDom(t),"td,th"),s=xn(e,t);((e,t,n)=>{n("class")&&"mce-no-match"!==t.class&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",ge(t.height))})(s,n,r),dt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(s,n,r),o("height")&&F(a,(t=>{e.dom.setStyle(t.dom,"height",null)})),o("align")&&Je(e,t,n.align)}))})(e,t,o,g(T,r)),n&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,o),Le(q.fromDom(t[0])).each((t=>Qe(e,t.dom,{structure:n,style:a})))}})(e,t,n,r),e.focus()}))},Hn=e=>{const t=((e,t)=>{const n=Vt(e),o=n.bind((e=>Le(e))).map((e=>ze(e)));return Ce(n,o,((e,n)=>R(n,(n=>N(It(n.dom.cells),(n=>"1"===we(n,t)||U(n,e))))))).getOr([])})(he(e),Ht.selected);if(0===t.length)return;const n=D(t,(t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:Mn(t),align:Rn(e,t),...n?Pn(t):{}}})(e,t.dom,dt(e)))),o=Dn(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:zn(e)},wn(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:zn(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:dt(e)?r:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:g(qn,e,D(t,(e=>e.dom)),o)})},Wn=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=pt(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{name:"class",type:"listbox",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},Un=(e,t,n,r)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&i(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let o=0;o<t.children.length;o++)Un(e,t.children[o],n,r)},Vn=(e,t,n,o)=>{const r=e.dom,a=o.getData(),i=S(a,((e,t)=>n[t]!==e));o.close(),e.undoManager.transact((()=>{if(!t){const n=Ee(a.cols).getOr(1),o=Ee(a.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=Vt(he(e),pe(e)).bind((t=>Le(t,pe(e)))).map((e=>e.dom)).getOrDie()}if(k(i)>0){const n={border:T(i,"border"),bordercolor:T(i,"bordercolor"),cellpadding:T(i,"cellpadding")};((e,t,n,o)=>{const r=e.dom,a={},i={},l=ht(e),c=mt(e),u=0===parseFloat(n.border);if(s(n.class)||"mce-no-match"===n.class||(a.class=n.class),i.height=ge(n.height),l?i.width=ge(n.width):r.getAttrib(t,"width")&&(a.width=(e=>e?e.replace(/px$/,""):"")(n.width)),l?(u?(a.border=0,i["border-width"]=""):(i["border-width"]=ge(n.border),a.border=1),i["border-spacing"]=ge(n.cellspacing)):(a.border=u?0:n.border,a.cellpadding=n.cellpadding,a.cellspacing=n.cellspacing),l&&t.children){const e={};if(u?e["border-width"]="":o.border&&(e["border-width"]=ge(n.border)),o.cellpadding&&(e.padding=ge(n.cellpadding)),c&&o.bordercolor&&(e["border-color"]=n.bordercolor),!(e=>{for(const t in e)if(w.call(e,t))return!1;return!0})(e))for(let n=0;n<t.children.length;n++)Un(r,t.children[n],e)}if(c){const e=n;i["background-color"]=e.backgroundcolor,i["border-color"]=e.bordercolor,i["border-style"]=e.borderstyle}r.setStyles(t,{...Ct(e),...i}),r.setAttribs(t,{...Tt(e),...a})})(e,t,a,n);const o=r.select("caption",t)[0];(o&&!a.caption||!o&&a.caption)&&e.execCommand("mceTableToggleCaption"),Je(e,t,a.align)}if(e.focus(),e.addVisual(),k(i)>0){const n=T(i,"caption"),o=!n||k(i)>1;Qe(e,t,{structure:n,style:o})}}))},Zn=(e,t)=>{const n=e.dom;let o,r=((e,t)=>{const n=Ct(e),o=Tt(e),r=t?{borderstyle:C(n,"border-style").getOr(""),bordercolor:Nn(C(n,"border-color").getOr("")),backgroundcolor:Nn(C(n,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...n,...o,...r,...(()=>{const t=n["border-width"];return ht(e)&&t?{border:t}:C(o,"border").fold((()=>({})),(e=>({border:e})))})(),...{...C(n,"border-spacing").or(C(o,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e}))),...C(n,"border-padding").or(C(o,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})))}}})(e,mt(e));t?(r.cols="1",r.rows="1",mt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=((e,t,n)=>{const o=e.dom,r=ht(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),a=ht(e)?Ye(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||Ye(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:null!=r?r:"",cellpadding:null!=a?a:"",border:((t,n)=>{const o=Fe(q.fromDom(n),"border-width");return ht(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||Ye(e.dom,n,"border-width")||Ye(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:Rn(e,t),...n?Pn(t):{}}})(e,o,mt(e)):mt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const a=un(yt(e));a.isSome()&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Wn(e,a.getOr([]),t)},i=mt(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},wn(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:i,onSubmit:g(Vn,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Kn=m,Gn=e=>{const t=(e,t)=>xe(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&B(e,(e=>t(e,"rowspan")||t(e,"colspan")))?y.some(e):y.none()},Xn=(e,t,n)=>{return t.length<=1?y.none():(o=e,r=n.firstSelectedSelector,a=n.lastSelectedSelector,((e,t,n)=>ce(e,t).bind((t=>ce(e,n).bind((e=>{return(n=Bt,o=[t,e],((e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,$t):y.none())(jt,((e,t)=>n(t)),o)).map((n=>({first:t,last:e,table:n})));var n,o})))))(o,r,a).bind((e=>{const t=e=>U(o,e),n="thead,tfoot,tbody,table",r=le(e.first,n,t),a=le(e.last,n,t);return r.bind((t=>a.bind((n=>U(t,n)?((e,t,n)=>((e,t,n)=>((e,t,n)=>{const o=Ke(e,t,U),r=Ke(e,n,U);return o.bind((e=>r.map((t=>{return n=e,o=t,{startRow:Math.min(n.row,o.row),startCol:Math.min(n.column,o.column),finishRow:Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,o.column+o.colspan-1)};var n,o}))))})(e,t,n).bind((t=>((e,t)=>{let n=!0;const o=g(_t,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)n=n&&Ze(e,r,a).exists(o);return n?y.some(t):y.none()})(e,t))))(At(e),t,n))(e.table,e.first,e.last):y.none()))))}))).map((e=>({bounds:e,cells:t})));var o,r,a},Yn=e=>{const t=an(y.none()),n=an([]);let o=y.none();const r=ee("caption"),a=e=>o.forall((t=>!t[e])),s=()=>Ut(he(e),pe(e)).bind((t=>{return n=Ce(Le(t),Ut((e=>q.fromDom(e.selection.getEnd()))(e),pe(e)).bind(Le),((n,o)=>U(n,o)?r(t)?y.some((e=>({element:e,mergable:y.none(),unmergable:y.none(),selection:[e]}))(t)):y.some(((e,t,n)=>({element:n,mergable:Xn(t,e,Ht),unmergable:Gn(e),selection:Kn(e)}))(Zt(e),n,t)):y.none())),n.bind(m);var n})),i=e=>Le(e.element).map((t=>{const n=Ve(t),o=Tn(n,e).getOr([]),r=$(o,((e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e)),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:An(n,e).isSome(),unmergeable:On(n,e).isSome(),locked:r}})),l=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(s)()),o=t.get().bind(i),F(n.get(),h)},c=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(R(n.get(),(t=>t!==e)))}),u=(n,o)=>c((()=>t.get().fold((()=>{n.setEnabled(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})))),d=(n,o,r)=>c((()=>t.get().fold((()=>{n.setEnabled(!1),n.setActive(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})))),p=e=>o.exists((t=>t.locked[e])),g=(t,n)=>o=>d(o,(e=>r(e.element)),(()=>e.queryCommandValue(t)===n)),b=g("mceTableRowType","header"),v=g("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",l),{onSetupTable:e=>u(e,(e=>!1)),onSetupCellOrRow:e=>u(e,(e=>r(e.element))),onSetupColumn:e=>t=>u(t,(t=>r(t.element)||p(e))),onSetupPasteable:e=>t=>u(t,(t=>r(t.element)||e().isNone())),onSetupPasteableColumn:(e,t)=>n=>u(n,(n=>r(n.element)||e().isNone()||p(t))),onSetupMergeable:e=>u(e,(e=>a("mergeable"))),onSetupUnmergeable:e=>u(e,(e=>a("unmergeable"))),resetTargets:l,onSetupTableWithCaption:t=>d(t,f,(t=>Le(t.element,pe(e)).exists((e=>((e,t)=>(e=>M(e.dom.childNodes,(e=>{return n=q.fromDom(e),H(n,t);var n})).map(q.fromDom))(e))(e,"caption").isSome())))),onSetupTableRowHeaders:b,onSetupTableColumnHeaders:v,targets:t.get}};var Jn=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Qn="x-tinymce/dom-table-",eo=Qn+"rows",to=Qn+"columns",no=e=>{var t;const n=null!==(t=Jn.read())&&void 0!==t?t:[];return L(n,(t=>y.from(t.getType(e))))},oo=()=>no(eo),ro=()=>no(to),ao=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},so=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("table",(e=>{const t=Yn(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:nt}),t("table_border_styles",{processor:"object[]",default:ot}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!tt.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),(e=>{x({mceTableProps:g(Zn,e,!1),mceTableRowProps:g(Hn,e),mceTableCellProps:g(In,e),mceInsertTableDialog:g(Zn,e,!0)},((t,n)=>e.addCommand(n,(()=>{return n=t,void((e=>{return(t=e,n=ee("table"),se(((e,t)=>t(e)),ie,t,n,void 0)).forall(de);var t,n})(he(e))&&n());var n}))))})(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)})},a=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(oo)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(oo)})],i=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(ro,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(ro,"onLast")})],c=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];gt(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}],onSetup:so(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:so(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:so(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),E(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:d("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),E(i,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:d("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),E(c,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:d("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(d(""),(e=>"caption"===Z(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable")))});const u=pn(yt(e));0!==u.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>dn(e,u,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const m=pn(ft(e));0!==m.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>dn(e,m,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>dn(e,Kt,"tablecellverticalalign",mn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>dn(e,lt(e),"tablecellborderwidth",mn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>dn(e,ct(e),"tablecellborderstyle",mn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>hn(e,wt(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>hn(e,xt(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:fn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:bn(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:ao(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(oo)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(oo)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(ro,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(ro,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:ao(e)});const a=pn(yt(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:gn(e,a,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const s=pn(ft(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:gn(e,s,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:gn(e,Kt,"tablecellverticalalign",mn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:gn(e,lt(e),"tablecellborderwidth",mn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:gn(e,ct(e),"tablecellborderstyle",mn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(hn(e,wt(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(hn(e,xt(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:fn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:bn(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=vt(e);t.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),items:t,scope:"node",position:"node"})})(e)}))}()},50193:function(e,t,n){n(13550)},51190:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(n=null,e=>n===e);var n;const o=e=>e,r=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},a={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},s=0,i=1,l=2,c=3,u=4,d=5,m=6,p=7,g=8,h=9,f=10,b=11,y=12,v=13,w=[new RegExp(a.aletter),new RegExp(a.midnumlet),new RegExp(a.midletter),new RegExp(a.midnum),new RegExp(a.numeric),new RegExp(a.cr),new RegExp(a.lf),new RegExp(a.newline),new RegExp(a.extend),new RegExp(a.format),new RegExp(a.katakana),new RegExp(a.extendnumlet),new RegExp("@")],x=new RegExp("^"+a.punctuation+"$"),S=w,k=v,C=e=>{let t=k;const n=S.length;for(let o=0;o<n;++o){const n=S[o];if(n&&n.test(e)){t=o;break}}return t},T=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===s&&o===s)return!1;const r=e[t+2];if(n===s&&(o===l||o===i||o===y)&&r===s)return!1;const a=e[t-1];return(n!==l&&n!==i&&o!==y||o!==s||a!==s)&&((n!==u&&n!==s||o!==u&&o!==s)&&((n!==c&&n!==i||o!==u||a!==u)&&((n!==u||o!==c&&o!==i||r!==u)&&((n!==g&&n!==h||o!==s&&o!==u&&o!==f&&o!==g&&o!==h)&&(o!==g&&(o!==h||r!==s&&r!==u&&r!==f&&r!==g&&r!==h)||n!==s&&n!==u&&n!==f&&n!==g&&n!==h)&&((n!==d||o!==m)&&(n===p||n===d||n===m||(o===p||o===d||o===m||(n!==f||o!==f)&&((o!==b||n!==s&&n!==u&&n!==f&&n!==b)&&((n!==b||o!==s&&o!==u&&o!==f)&&n!==y)))))))))},_=/^\s+$/,A=x,O=e=>"http"===e||"https"===e,E=(e,t)=>{const n=((e,t)=>{let n;for(n=t;n<e.length&&!_.test(e[n]);n++);return n})(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},N=(e,t,n)=>{n={includeWhitespace:!1,includePunctuation:!1,...n};const o=r(e,t);return((e,t,n,o)=>{const r=[],a=[];let s=[];for(let i=0;i<n.length;++i)if(s.push(e[i]),T(n,i)){const n=t[i];if((o.includeWhitespace||!_.test(n))&&(o.includePunctuation||!A.test(n))){const n=i-s.length+1,o=i+1,l=t.slice(n,o).join("");if(O(l)){const n=E(t,i),r=e.slice(o,n);Array.prototype.push.apply(s,r),i=n}"."===t[i+1]&&/^([a-zA-Z]\.)+$/.test(l+".")?(s.push(e[i+1]),a.push({start:n,end:o+1})):a.push({start:n,end:o}),r.push(s)}s=[]}return{words:r,indices:a}})(e,o,(e=>{const t=(e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}})(C);return r(e,t)})(o),n)},P=(e,t,n)=>N(e,t,n).words;var D=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const F=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],a=[];let s="";const i=new D(e,e);let l;for(;l=i.next();)3===l.nodeType?s+=l.data.replace(/\uFEFF/g,""):r(l)&&s.length&&(a.push(s),s="");return s.length&&a.push(s),a},R=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,$=(e,t)=>{const n=(e=>e.replace(/\u200B/g,""))(F(e,t).join("\n"));return P(n.split(""),o).length},M=(e,t)=>{const n=F(e,t).join("");return R(n)},j=(e,t)=>{const n=F(e,t).join("").replace(/\s/g,"");return R(n)},B=(e,t)=>()=>t(e.getBody(),e.schema),I=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),L=e=>B(e,$),z=(e,t)=>{e.addCommand("mceWordCount",(()=>((e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})(e,t)))};var q=tinymce.util.Tools.resolve("tinymce.util.Delay");const H=(e,t)=>{((e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})})(e,t)},W=(e,n,o)=>{const r=((e,n)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{t(o)&&(o=setTimeout((()=>{o=null,e.apply(null,r)}),n))}}})((()=>H(e,n)),o);e.on("init",(()=>{H(e,n),q.setEditorTimeout(e,(()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)}),0),e.on("remove",r.cancel)}))};((t=300)=>{e.add("wordcount",(e=>{const n=(e=>({body:{getWordCount:L(e),getCharacterCount:B(e,M),getCharacterCountWithoutSpaces:B(e,j)},selection:{getWordCount:I(e,$),getCharacterCount:I(e,M),getCharacterCountWithoutSpaces:I(e,j)},getCount:L(e)}))(e);return z(e,n),(e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t,context:"any"}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t,context:"any"})})(e),W(e,n,t),n}))})()}()},52171:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(n=void 0,e=>n===e);var n;class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?o.none():o.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);const r=e=>()=>e,a=r(!1),s=(e,t)=>((e,t,n)=>{for(let r=0,a=e.length;r<a;r++){const a=e[r];if(t(a,r))return o.some(a);if(n(a,r))break}return o.none()})(e,t,a);"undefined"!=typeof window?window:Function("return this;")();const i=()=>l(0,0),l=(e,t)=>({major:e,minor:t}),c={nu:l,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?i():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return l(o(1),o(2))})(e,n)},unknown:i},u=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return o.none()})(t.brands,(t=>{const n=t.brand.toLowerCase();return s(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:c.nu(parseInt(t.version,10),0)})))})),d=(e,t)=>{const n=String(t).toLowerCase();return s(e,(e=>e.search(n)))},m=(e,n,o=0,r)=>{const a=e.indexOf(n,o);return-1!==a&&(!!t(r)||a+n.length<=r)},p=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,g=e=>t=>m(t,e),h=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>m(e,"edge/")&&m(e,"chrome")&&m(e,"safari")&&m(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,p],search:e=>m(e,"chrome")&&!m(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>m(e,"msie")||m(e,"trident")},{name:"Opera",versionRegexes:[p,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:g("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:g("firefox")},{name:"Safari",versionRegexes:[p,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(m(e,"safari")||m(e,"mobile/"))&&m(e,"applewebkit")}],f=[{name:"Windows",search:g("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>m(e,"iphone")||m(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:g("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:g("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:g("linux"),versionRegexes:[]},{name:"Solaris",search:g("sunos"),versionRegexes:[]},{name:"FreeBSD",search:g("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:g("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],b={browsers:r(h),oses:r(f)},y="Edge",v="Chromium",w="Opera",x="Firefox",S="Safari",k=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(y),isChromium:o(v),isIE:o("IE"),isOpera:o(w),isFirefox:o(x),isSafari:o(S)}},C={unknown:()=>k({current:void 0,version:c.unknown()}),nu:k,edge:r(y),chromium:r(v),ie:r("IE"),opera:r(w),firefox:r(x),safari:r(S)},T="Windows",_="Android",A="Linux",O="macOS",E="Solaris",N="FreeBSD",P="ChromeOS",D=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(T),isiOS:o("iOS"),isAndroid:o(_),isMacOS:o(O),isLinux:o(A),isSolaris:o(E),isFreeBSD:o(N),isChromeOS:o(P)}},F={unknown:()=>D({current:void 0,version:c.unknown()}),nu:D,windows:r(T),ios:r("iOS"),android:r(_),linux:r(A),macos:r(O),solaris:r(E),freebsd:r(N),chromeos:r(P)},R=(e,t,n)=>{const o=b.browsers(),a=b.oses(),s=t.bind((e=>u(o,e))).orThunk((()=>((e,t)=>d(e,t).map((e=>{const n=c.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(C.unknown,C.nu),i=((e,t)=>d(e,t).map((e=>{const n=c.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(a,e).fold(F.unknown,F.nu),l=((e,t,n,o)=>{const a=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!a,i=e.isiOS()||e.isAndroid(),l=i||o("(pointer:coarse)"),c=a||!s&&i&&o("(min-device-width:768px)"),u=s||i&&!c,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),m=!u&&!c&&!d;return{isiPad:r(a),isiPhone:r(s),isTablet:r(c),isPhone:r(u),isTouch:r(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:r(d),isDesktop:r(m)}})(i,s,e,n);return{browser:s,os:i,deviceType:l}},$=e=>window.matchMedia(e).matches;let M=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})((()=>R(window.navigator.userAgent,o.from(window.navigator.userAgentData),$)));const j=()=>M(),B=()=>{const e=j().os.isMacOS()||j().os.isiOS();return`<script>(${(e=>{document.addEventListener("click",(t=>{for(let n=t.target;n;n=n.parentNode)if("A"===n.nodeName){const o=n.getAttribute("href");if(o&&o.startsWith("#")){t.preventDefault();const e=document.getElementById(o.substring(1));return void(e&&e.scrollIntoView({behavior:"smooth"}))}(e?t.metaKey:t.ctrlKey&&!t.altKey)||t.preventDefault()}}),!1)}).toString()})(${e})<\/script>`};var I=tinymce.util.Tools.resolve("tinymce.util.Tools");const L=e=>t=>t.options.get(e),z=L("content_style"),q=L("content_css_cors"),H=L("body_class"),W=L("body_id"),U=e=>{const t=(e=>{var t;let n="";const o=e.dom.encode,r=null!==(t=z(e))&&void 0!==t?t:"";n+=`<base href="${o(e.documentBaseURI.getURI())}">`;const a=q(e)?' crossorigin="anonymous"':"";I.each(e.contentCSS,(t=>{n+='<link type="text/css" rel="stylesheet" href="'+o(e.documentBaseURI.toAbsolute(t))+'"'+a+">"})),r&&(n+='<style type="text/css">'+r+"</style>");const s=W(e),i=H(e),l=e.getBody().dir,c=l?' dir="'+o(l)+'"':"";return"<!DOCTYPE html><html><head>"+n+'</head><body id="'+o(s)+'" class="mce-content-body '+o(i)+'"'+c+">"+e.getContent()+B()+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")};e.add("preview",(e=>{(e=>{e.addCommand("mcePreview",(()=>{U(e)}))})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t,context:"any"}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t,context:"any"})})(e)}))}()},53291:function(){!function(){"use strict";function e(e){return e.getParam("noneditable_noneditable_class","mceNonEditable")}function t(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.util.Tools");n.add("noneditable",(function(n){!function(n){var r,a="contenteditable",s=" "+o.trim(n.getParam("noneditable_editable_class","mceEditable"))+" ",i=" "+o.trim(e(n))+" ",l=t(s),c=t(i),u=(r=n.getParam("noneditable_regexp",[]))&&r.constructor===RegExp?[r]:r;n.on("PreInit",(function(){0<u.length&&n.on("BeforeSetContent",(function(t){!function(t,n,o){var r=n.length,a=o.content;if("raw"!==o.format){for(;r--;)a=a.replace(n[r],function(e,t,n){return function(o){var r=arguments,a=r[r.length-2],s=0<a?t.charAt(a-1):"";if('"'===s)return o;if(">"===s){var i=t.lastIndexOf("<",a);if(-1!==i&&-1!==t.substring(i,a).indexOf('contenteditable="false"'))return o}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(r[0])+'">'+e.dom.encode("string"==typeof r[1]?r[1]:r[0])+"</span>"}}(t,a,e(t)));o.content=a}}(n,u,t)})),n.parser.addAttributeFilter("class",(function(e){for(var t,n=e.length;n--;)t=e[n],l(t)?t.attr(a,"true"):c(t)&&t.attr(a,"false")})),n.serializer.addAttributeFilter(a,(function(e){for(var t,n=e.length;n--;)t=e[n],(l(t)||c(t))&&(0<u.length&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):t.attr(a,null))}))}))}(n)}))}()},53847:function(e,t,n){n(31148)},55081:function(e,t,n){n(51190)},55775:function(e,t,n){n(27524)},56912:function(e,t,n){n(85645)},57235:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("array"),a=n("boolean"),s=(i=void 0,e=>i===e);var i;const l=e=>!(e=>null==e)(e),c=n("function"),u=n("number"),d=()=>{},m=e=>()=>e,p=e=>e,g=(e,t)=>e===t;function h(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const f=e=>{e()},b=m(!1),y=m(!0);class v{constructor(e,t){this.tag=e,this.value=t}static some(e){return new v(!0,e)}static none(){return v.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?v.some(e(this.value)):v.none()}bind(e){return this.tag?e(this.value):v.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:v.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?v.some(e):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}v.singletonNone=new v(!1);const w=Object.keys,x=Object.hasOwnProperty,S=(e,t)=>{const n=w(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},k=(e,t)=>{const n={};var o;return((e,t,n,o)=>{S(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,t,(o=n,(e,t)=>{o[t]=e}),d),n},C=e=>((e,t)=>{const n=[];return S(e,((e,o)=>{n.push(t(e,o))})),n})(e,p),T=e=>w(e).length,_=(e,t)=>A(e,t)?v.from(e[t]):v.none(),A=(e,t)=>x.call(e,t),O=(e,t)=>A(e,t)&&void 0!==e[t]&&null!==e[t],E=Array.prototype.indexOf,N=Array.prototype.push,P=(e,t)=>((e,t)=>E.call(e,t))(e,t)>-1,D=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},F=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},R=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},$=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},M=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},j=(e,t,n)=>($(e,((e,o)=>{n=t(n,e,o)})),n),B=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return v.some(r);if(n(r,o))break}return v.none()})(e,t,b),I=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);N.apply(t,e[n])}return t})(R(e,t)),L=(e,t)=>{for(let n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},z=(e,t)=>t>=0&&t<e.length?v.some(e[t]):v.none(),q=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return v.none()},H=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},W={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return H(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return H(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return H(n)},fromDom:H,fromPoint:(e,t,n)=>v.from(e.dom.elementFromPoint(t,n)).map(H)},U=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},V=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Z=(e,t)=>e.dom===t.dom,K=U;"undefined"!=typeof window?window:Function("return this;")();const G=e=>e.dom.nodeName.toLowerCase(),X=e=>e.dom.nodeType,Y=e=>t=>X(t)===e,J=e=>8===X(e)||"#comment"===G(e),Q=Y(1),ee=Y(3),te=Y(9),ne=Y(11),oe=e=>t=>Q(t)&&G(t)===e,re=e=>{return te(e)?e:(t=e,W.fromDom(t.dom.ownerDocument));var t},ae=e=>v.from(e.dom.parentNode).map(W.fromDom),se=(e,t)=>{const n=c(t)?t:b;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=W.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},ie=e=>v.from(e.dom.previousSibling).map(W.fromDom),le=e=>v.from(e.dom.nextSibling).map(W.fromDom),ce=e=>R(e.dom.childNodes,W.fromDom),ue=e=>((e,t)=>{const n=e.dom.childNodes;return v.from(n[t]).map(W.fromDom)})(e,0),de=e=>{const t=(e=>W.fromDom(e.dom.getRootNode()))(e);return ne(n=t)&&l(n.dom.host)?v.some(t):v.none();var n},me=e=>W.fromDom(e.dom.host),pe=e=>{const t=ee(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return de(W.fromDom(t)).fold((()=>n.body.contains(t)),(o=pe,r=me,e=>o(r(e))));var o,r};var ge=(e,t,n,o,r)=>e(n,o)?v.some(n):c(r)&&r(n)?v.none():t(n,o,r);const he=(e,t,n)=>{let o=e.dom;const r=c(n)?n:b;for(;o.parentNode;){o=o.parentNode;const e=W.fromDom(o);if(t(e))return v.some(e);if(r(e))break}return v.none()},fe=(e,t,n)=>he(e,(e=>U(e,t)),n),be=(e,t)=>((e,t)=>B(e.dom.childNodes,(e=>t(W.fromDom(e)))).map(W.fromDom))(e,(e=>U(e,t))),ye=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return V(n)?v.none():v.from(n.querySelector(e)).map(W.fromDom)})(t,e),ve=(e,t,n)=>ge(((e,t)=>U(e,t)),fe,e,t,n),we=(e,t=!1)=>{return pe(e)?e.dom.isContentEditable:(n=e,ve(n,"[contenteditable]")).fold(m(t),(e=>"true"===xe(e)));var n},xe=e=>e.dom.contentEditable,Se=e=>t=>Z(t,(e=>W.fromDom(e.getBody()))(e)),ke=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,Ce=e=>W.fromDom(e.selection.getStart()),Te=e=>{return(t=e,n=oe("table"),ge(((e,t)=>t(e)),he,t,n,o)).forall(we);var t,n,o},_e=(e,t)=>{let n=[];return $(ce(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(_e(e,t))})),n},Ae=(e,t)=>((e,t)=>M(ce(e),t))(e,(e=>U(e,t))),Oe=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return V(n)?[]:R(n.querySelectorAll(e),W.fromDom)})(t,e),Ee=(e,t,n)=>{if(!(o(n)||a(n)||u(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Ne=(e,t,n)=>{Ee(e.dom,t,n)},Pe=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},De=(e,t)=>v.from(Pe(e,t)),Fe=(e,t)=>{e.dom.removeAttribute(t)},Re=(e,t,n=g)=>e.exists((e=>n(e,t))),$e=(e,t,n)=>e.isSome()&&t.isSome()?v.some(n(e.getOrDie(),t.getOrDie())):v.none(),Me=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e,t,0),je=(Be=/^\s+|\s+$/g,e=>e.replace(Be,""));var Be;const Ie=e=>e.length>0,Le=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?v.none():v.some(n)},ze=e=>void 0!==e.style&&c(e.style.getPropertyValue),qe=(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);ze(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},He=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||pe(e)?o:We(n,t)},We=(e,t)=>ze(e)?e.style.getPropertyValue(t):"",Ue=(e,t)=>{const n=e.dom,o=We(n,t);return v.from(o).filter((e=>e.length>0))},Ve=(e,t)=>{((e,t)=>{ze(e)&&e.style.removeProperty(t)})(e.dom,t),Re(De(e,"style").map(je),"")&&Fe(e,"style")},Ze=(e,t,n=0)=>De(e,t).map((e=>parseInt(e,10))).getOr(n),Ke=(e,t)=>Ge(e,t,y),Ge=(e,t,n)=>I(ce(e),(e=>U(e,t)?n(e)?[e]:[]:Ge(e,t,n))),Xe=["tfoot","thead","tbody","colgroup"],Ye=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Je=(e,t,n)=>({element:e,cells:t,section:n}),Qe=(e,t)=>((e,t,n=b)=>n(t)?v.none():P(e,G(t))?v.some(t):fe(t,e.join(","),(e=>U(e,"table")||n(e))))(["td","th"],e,t),et=(e,t)=>ve(e,"table",t),tt=e=>Ke(e,"tr"),nt=e=>et(e).fold(m([]),(e=>Ae(e,"colgroup"))),ot=(e,t)=>R(e,(e=>{if("colgroup"===G(e)){const t=R((e=>U(e,"colgroup")?Ae(e,"col"):I(nt(e),(e=>Ae(e,"col"))))(e),(e=>{const t=Ze(e,"span",1);return Ye(e,1,t)}));return Je(e,t,"colgroup")}{const n=R((e=>Ke(e,"th,td"))(e),(e=>{const t=Ze(e,"rowspan",1),n=Ze(e,"colspan",1);return Ye(e,t,n)}));return Je(e,n,t(e))}})),rt=e=>ae(e).map((e=>{const t=G(e);return(e=>P(Xe,e))(t)?t:"tbody"})).getOr("tbody"),at=e=>De(e,"data-snooker-locked-cols").bind((e=>v.from(e.match(/\d+/g)))).map((e=>((e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n})(e,y))),st=(e,t)=>e+","+t,it=(e,t)=>{const n=I(e.all,(e=>e.cells));return M(n,t)},lt=e=>{const t={},n=[];var o;const r=(o=e,z(o,0)).map((e=>e.element)).bind(et).bind(at).getOr({});let a=0,s=0,i=0;const{pass:l,fail:c}=((e,t)=>{const n=[],o=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(t(a,r)?n:o).push(a)}return{pass:n,fail:o}})(e,(e=>"colgroup"===e.section));$(c,(e=>{const o=[];$(e.cells,(e=>{let n=0;for(;void 0!==t[st(i,n)];)n++;const a=O(r,n.toString()),l=((e,t,n,o,r,a)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,i,n,a);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,a=st(i+r,e);t[a]=l,s=Math.max(s,e+1)}o.push(l)})),a++,n.push(Je(e.element,o,e.section)),i++}));const{columns:u,colgroups:d}=(e=>z(e,e.length-1))(l).map((e=>{const t=(e=>{const t={};let n=0;return $(e.cells,(e=>{const o=e.colspan;F(o,(r=>{const a=n+r;t[a]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,a)})),n+=o})),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,C(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),m=((e,t)=>({rows:e,columns:t}))(a,s);return{grid:m,access:t,all:n,columns:u,colgroups:d}},ct=e=>{const t=(e=>{const t=tt(e),n=[...nt(e),...t];return ot(n,rt)})(e);return lt(t)},ut=(e,t,n)=>v.from(e.access[st(t,n)]),dt=(e,t,n)=>{const o=it(e,(e=>n(t,e.element)));return o.length>0?v.some(o[0]):v.none()},mt=e=>I(e.all,(e=>e.cells)),pt=(e,t)=>v.from(e.columns[t]);var gt=tinymce.util.Tools.resolve("tinymce.util.Tools");const ht=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let t=0;t<o.length;t++){const a=e.getStyle(o[t],n);if(s(r)&&(r=a),r!==a)return""}return r},ft=(e,t,n)=>{gt.each("left center right".split(" "),(o=>{o!==n&&e.formatter.remove("align"+o,{},t)})),n&&e.formatter.apply("align"+n,{},t)},bt=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},yt=(e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?v.none():v.some(t)})(e).getOr(t),vt=(e,t,n)=>yt(He(e,t),n),wt=(e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:((e,t,n,o)=>t-vt(e,`padding-${n}`,0)-vt(e,`padding-${o}`,0)-vt(e,`border-${n}-width`,0)-vt(e,`border-${o}-width`,0))(e,o,"left","right")},xt=e=>wt(e,"content-box");var St=tinymce.util.Tools.resolve("tinymce.Env");const kt=F(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}})),Ct=R(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()}))),Tt="100%",_t=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return xt(W.fromDom(o))+"px"},At=e=>t=>t.options.get(e),Ot=At("table_sizing_mode"),Et=At("table_border_widths"),Nt=At("table_border_styles"),Pt=At("table_cell_advtab"),Dt=At("table_row_advtab"),Ft=At("table_advtab"),Rt=At("table_appearance_options"),$t=At("table_grid"),Mt=At("table_style_by_css"),jt=At("table_cell_class_list"),Bt=At("table_row_class_list"),It=At("table_class_list"),Lt=At("table_toolbar"),zt=At("table_background_color_map"),qt=At("table_border_color_map"),Ht=e=>"fixed"===Ot(e),Wt=e=>"responsive"===Ot(e),Ut=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Wt(e)||!Mt(e)?t:Ht(e)?{...t,width:_t(e)}:{...t,width:Tt})(e,n)},Vt=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Wt(e)||Mt(e)?t:Ht(e)?{...t,width:_t(e)}:{...t,width:Tt})(e,n)},Zt=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Kt=(e,t,n)=>{const o=dt(e,t,Z),r=dt(e,n,Z);return o.bind((e=>r.map((t=>{return n=e,o=t,r=Math.min(n.row,o.row),a=Math.min(n.column,o.column),s=Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),i=Math.max(n.column+n.colspan-1,o.column+o.colspan-1),{startRow:r,startCol:a,finishRow:s,finishCol:i};var n,o,r,a,s,i}))))},Gt=(e,t,n)=>Kt(e,t,n).bind((t=>((e,t)=>{let n=!0;const o=h(Zt,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)n=n&&ut(e,r,a).exists(o);return n?v.some(t):v.none()})(e,t))),Xt=ct,Yt=(e,t)=>{ae(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Jt=(e,t)=>{le(e).fold((()=>{ae(e).each((e=>{en(e,t)}))}),(e=>{Yt(e,t)}))},Qt=(e,t)=>{ue(e).fold((()=>{en(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},en=(e,t)=>{e.dom.appendChild(t.dom)},tn=(e,t)=>{Yt(e,t),en(t,e)},nn=(e,t)=>{$(t,((n,o)=>{const r=0===o?e:t[o-1];Jt(r,n)}))},on=(e,t)=>{$(t,(t=>{en(e,t)}))},rn=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},an=e=>{const t=ce(e);t.length>0&&nn(e,t),rn(e)},sn=((e,t)=>{const n=t=>e(t)?v.from(t.dom.nodeValue):v.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(ee,"text"),ln=e=>sn.get(e),cn=(e,t)=>sn.set(e,t);var un=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const dn=(e,t,n,o)=>{const r=t(e,n);return a=(n,o)=>{const r=t(e,o);return mn(e,n,r)},s=r,((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(o,((e,t)=>{s=a(s,e,t)})),s;var a,s},mn=(e,t,n)=>t.bind((t=>n.filter(h(e.eq,t)))),pn=(e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,dn):v.none(),gn={up:m({selector:fe,closest:ve,predicate:he,all:se}),down:m({selector:Oe,predicate:_e}),styles:m({get:He,getRaw:Ue,set:qe,remove:Ve}),attrs:m({get:Pe,set:Ne,remove:Fe,copyTo:(e,t)=>{((e,t)=>{const n=e.dom;S(t,((e,t)=>{Ee(n,t,e)}))})(t,j(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))}}),insert:m({before:Yt,after:Jt,afterAll:nn,append:en,appendAll:on,prepend:Qt,wrap:tn}),remove:m({unwrap:an,remove:rn}),create:m({nu:W.fromTag,clone:e=>W.fromDom(e.dom.cloneNode(!1)),text:W.fromText}),query:m({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:ie,nextSibling:le}),property:m({children:ce,name:G,parent:ae,document:e=>re(e).dom,isText:ee,isComment:J,isElement:Q,isSpecial:e=>{const t=G(e);return P(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>Q(e)?De(e,"lang"):v.none(),getText:ln,setText:cn,isBoundary:e=>!!Q(e)&&("body"===G(e)||P(un,G(e))),isEmptyTag:e=>!!Q(e)&&P(["br","img","hr","input"],G(e)),isNonEditable:e=>Q(e)&&"false"===Pe(e,"contenteditable")}),eq:Z,is:K},hn=e=>fe(e,"table"),fn=(e,t,n)=>ye(e,t).bind((t=>ye(e,n).bind((e=>{return(n=hn,o=[t,e],pn(gn,((e,t)=>n(t)),o)).map((n=>({first:t,last:e,table:n})));var n,o})))),bn=(e,t)=>((e,t)=>{const n=Oe(e,t);return n.length>0?v.some(n):v.none()})(e,t),yn=(e,t,n)=>fn(e,t,n).bind((t=>{const n=t=>Z(e,t),o="thead,tfoot,tbody,table",r=fe(t.first,o,n),a=fe(t.last,o,n);return r.bind((e=>a.bind((n=>Z(e,n)?((e,t,n)=>{const o=Xt(e);return Gt(o,t,n)})(t.table,t.first,t.last):v.none()))))})),vn=e=>R(e,W.fromDom),wn="data-mce-selected",xn="data-mce-first-selected",Sn="data-mce-last-selected",kn={selected:wn,selectedSelector:"td["+wn+"],th["+wn+"]",firstSelected:xn,firstSelectedSelector:"td["+xn+"],th["+xn+"]",lastSelected:Sn,lastSelectedSelector:"td["+Sn+"],th["+Sn+"]"},Cn=e=>(t,n)=>{const o=G(t),r="col"===o||"colgroup"===o?et(a=t).bind((e=>bn(e,kn.firstSelectedSelector))).fold(m(a),(e=>e[0])):t;var a;return ve(r,e,n)},Tn=Cn("th,td,caption"),_n=Cn("th,td"),An=e=>vn(e.model.table.getSelectedCells()),On=(e,t)=>{const n=_n(e),o=n.bind((e=>et(e))).map((e=>tt(e)));return $e(n,o,((e,n)=>M(n,(n=>D(vn(n.dom.cells),(n=>"1"===Pe(n,t)||Z(n,e))))))).getOr([])},En=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Nn=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Pn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Dn=e=>{return(t=e,n="#",Me(t,n)?((e,t)=>e.substring(t))(t,n.length):t).toUpperCase();var t,n},Fn=e=>(e=>Nn.test(e)||Pn.test(e))(e)?v.some({value:Dn(e)}):v.none(),Rn=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},$n=e=>(e=>({value:Dn(e)}))(Rn(e.red)+Rn(e.green)+Rn(e.blue)),Mn=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,jn=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Bn=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),In=(e,t,n,o)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(n,10),i=parseFloat(o);return Bn(r,a,s,i)},Ln=e=>{const t=Mn.exec(e);if(null!==t)return v.some(In(t[1],t[2],t[3],"1"));const n=jn.exec(e);return null!==n?v.some(In(n[1],n[2],n[3],n[4])):v.none()},zn=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},qn=()=>(e=>{const t=zn(v.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(v.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(v.some(e))}}})((e=>e.unbind())),Hn=(e,t,n)=>o=>{const r=qn(),a=!Ie(n);const s=()=>{const s=An(e),i=o=>e.formatter.match(t,{value:n},o.dom,a);a?(o.setActive(!D(s,i)),r.set(e.formatter.formatChanged(t,(e=>o.setActive(!e)),!0))):(o.setActive(L(s,i)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?s():e.on("init",s),r.clear},Wn=e=>O(e,"menu"),Un=e=>R(e,(e=>{const t=e.text||e.title||"";return Wn(e)?{text:t,items:Un(e.menu)}:{text:t,value:e.value}})),Vn=e=>e.length?v.some(Un([{text:"Select...",value:"mce-no-match"},...e])):v.none(),Zn=(e,t,n,o)=>R(t,(t=>{const r=t.text||t.title;return Wn(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>Zn(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:Hn(e,n,t.value)}})),Kn=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},Gn=e=>I(e,(e=>Wn(e)?[{...e,menu:Gn(e.menu)}]:Ie(e.value)?[e]:[])),Xn=(e,t,n,o)=>r=>r(Zn(e,t,n,o)),Yn=(e,t,n)=>{const o=R(t,(e=>{return{text:e.title,value:"#"+(t=e.value,Fn(t).orThunk((()=>Ln(t).map($n))).getOrThunk((()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],a=o[1],s=o[2],i=o[3];return $n(Bn(r,a,s,i))}))).value,type:"choiceitem"};var t}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},Jn=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},Qn=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},eo=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:En}],to=e=>eo.concat((e=>Vn(jt(e)).map((e=>({name:"class",type:"listbox",label:"Class",items:e}))))(e).toArray()),no=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Un(Nt(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},oo=(e,t)=>{const n=e.dom;return{setAttrib:(e,o)=>{n.setAttrib(t,e,o)},setStyle:(e,o)=>{n.setStyle(t,e,o)},setFormat:(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)}}},ro=oe("th"),ao=(e,t)=>e&&t?"sectionCells":e?"section":"cells",so=e=>{const t=M(e,(e=>ro(e.element)));return 0===t.length?v.some("td"):t.length===e.length?v.some("th"):v.none()},io=e=>{const t=R(e,(e=>(e=>{const t="thead"===e.section,n=Re(so(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:ao(t,n)}:{type:"body"}})(e).type)),n=P(t,"header"),o=P(t,"footer");if(n||o){const e=P(t,"body");return!n||e||o?n||e||!o?v.none():v.some("footer"):v.some("header")}return v.some("body")},lo=(e,t)=>q(e.all,(e=>B(e.cells,(e=>Z(t,e.element))))),co=(e,t,n)=>{const o=(e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})(R(t.selection,(t=>Qe(t).bind((t=>lo(e,t))).filter(n))));return r=o.length>0,a=o,r?v.some(a):v.none();var r,a},uo=(e,t)=>co(e,t,y),mo=(e,t)=>L(t,(t=>((e,t)=>lo(e,t).exists((e=>!e.isLocked)))(e,t))),po=(e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>mo(e,t.cells))),go=(e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>mo(e,t))),ho=e=>{if(!r(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return $(e,((o,a)=>{const s=w(o);if(1!==s.length)throw new Error("one and only one name per case");const i=s[0],l=o[i];if(void 0!==n[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!r(l))throw new Error("case arguments must be an array");t.push(i),n[i]=(...n)=>{const o=n.length;if(o!==l.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+l.length+" ("+l+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[a].apply(null,n)},match:e=>{const o=w(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!L(t,(e=>P(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:i,params:n})}}}})),n},fo=(ho([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(e,t)=>{const n=ct(e);return uo(n,t).bind((e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan,a=n.all.slice(o,r);return io(a)})).getOr("")}),bo=e=>{return Me(e,"rgb")?Ln(t=e).map($n).map((e=>"#"+e.value)).getOr(t):e;var t},yo=e=>{const t=W.fromDom(e);return{borderwidth:Ue(t,"border-width").getOr(""),borderstyle:Ue(t,"border-style").getOr(""),bordercolor:Ue(t,"border-color").map(bo).getOr(""),backgroundcolor:Ue(t,"background-color").map(bo).getOr("")}},vo=e=>{const t=e[0],n=e.slice(1);return $(n,(e=>{$(w(t),(n=>{S(e,((e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="class"===n?"mce-no-match":"")}))}))})),t},wo=(e,t,n,o)=>B(e,(e=>!s(n.formatter.matchNode(o,t+e)))).getOr(""),xo=h(wo,["left","center","right"],"align"),So=h(wo,["top","middle","bottom"],"valign"),ko=e=>et(W.fromDom(e)).map((t=>{const n={selection:vn(e.cells)};return fo(t,n)})).getOr(""),Co=(e,t)=>{const n=ct(e),o=mt(n),r=M(o,(e=>D(t,(t=>Z(e.element,t)))));return R(r,(e=>({element:e.element.dom,column:pt(n,e.column).map((e=>e.element.dom))})))},To=(e,t,n,o)=>{const r=1===t.length;$(t,(t=>{const a=t.element,s=r?y:o,i=oo(e,a);((e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&"mce-no-match"!==n.class&&e.setAttrib("class",n.class),o("width")&&t.setStyle("width",ke(n.width))})(i,t.column.map((t=>oo(e,t))).getOr(i),n,s),Pt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",ke(t.borderwidth))})(i,n,s),o("halign")&&ft(e,a,n.halign),o("valign")&&((e,t,n)=>{gt.each("top middle bottom".split(" "),(o=>{o!==n&&e.formatter.remove("valign"+o,{},t)})),n&&e.formatter.apply("valign"+n,{},t)})(e,a,n.valign)}))},_o=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=k(o,((e,t)=>n[t]!==e));T(r)>0&&t.length>=1&&et(t[0]).each((n=>{const a=Co(n,t),s=T(k(r,((e,t)=>"scope"!==t&&"celltype"!==t)))>0,i=A(r,"celltype");(s||A(r,"scope"))&&To(e,a,o,h(A,r)),i&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,o),bt(e,n.dom,{structure:i,style:s})}))})(e,t,n,r),e.focus()}))},Ao=(e,t)=>{const n=et(t[0]).map((n=>R(Co(n,t),(t=>((e,t,n,o)=>{const r=e.dom,a=o.getOr(t);return{width:(i=a,l="width",r.getStyle(i,l)||r.getAttrib(i,l)),scope:r.getAttrib(t,"scope"),celltype:(s=t,s.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:xo(e,t),valign:So(e,t),...n?yo(t):{}};var s,i,l})(e,t.element,Pt(e),t.column)))));return vo(n.getOrDie())},Oo=e=>{const t=An(e);if(0===t.length)return;const n=Ao(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:to(e)},no(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:to(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Pt(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:h(_o,e,t,n)})},Eo=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],No=e=>Eo.concat((e=>Vn(Bt(e)).map((e=>({name:"class",type:"listbox",label:"Class",items:e}))))(e).toArray()),Po=(e,t,n,o)=>{const r=1===t.length?y:o;$(t,(t=>{const a=Ae(W.fromDom(t),"td,th"),s=oo(e,t);((e,t,n)=>{n("class")&&"mce-no-match"!==t.class&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",ke(t.height))})(s,n,r),Dt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(s,n,r),o("height")&&$(a,(t=>{e.dom.setStyle(t.dom,"height",null)})),o("align")&&ft(e,t,n.align)}))},Do=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=k(o,((e,t)=>n[t]!==e));if(T(r)>0){const n=A(r,"type"),a=!n||T(r)>1;a&&Po(e,t,o,h(A,r)),n&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,o),et(W.fromDom(t[0])).each((t=>bt(e,t.dom,{structure:n,style:a})))}})(e,t,n,r),e.focus()}))},Fo=e=>{const t=On(Ce(e),kn.selected);if(0===t.length)return;const n=R(t,(t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:ko(t),align:xo(e,t),...n?yo(t):{}}})(e,t.dom,Dt(e)))),o=vo(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:No(e)},no(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:No(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Dt(e)?r:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:h(Do,e,R(t,(e=>e.dom)),o)})},Ro=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=Rt(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{name:"class",type:"listbox",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},$o=(e,t,n,r)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&l(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let o=0;o<t.children.length;o++)$o(e,t.children[o],n,r)},Mo=(e,t,n,o)=>{const r=e.dom,a={},i={},l=Mt(e),c=Ft(e),u=0===parseFloat(n.border);if(s(n.class)||"mce-no-match"===n.class||(a.class=n.class),i.height=ke(n.height),l?i.width=ke(n.width):r.getAttrib(t,"width")&&(a.width=(e=>e?e.replace(/px$/,""):"")(n.width)),l?(u?(a.border=0,i["border-width"]=""):(i["border-width"]=ke(n.border),a.border=1),i["border-spacing"]=ke(n.cellspacing)):(a.border=u?0:n.border,a.cellpadding=n.cellpadding,a.cellspacing=n.cellspacing),l&&t.children){const e={};if(u?e["border-width"]="":o.border&&(e["border-width"]=ke(n.border)),o.cellpadding&&(e.padding=ke(n.cellpadding)),c&&o.bordercolor&&(e["border-color"]=n.bordercolor),!(e=>{for(const t in e)if(x.call(e,t))return!1;return!0})(e))for(let n=0;n<t.children.length;n++)$o(r,t.children[n],e)}if(c){const e=n;i["background-color"]=e.backgroundcolor,i["border-color"]=e.bordercolor,i["border-style"]=e.borderstyle}r.setStyles(t,{...Ut(e),...i}),r.setAttribs(t,{...Vt(e),...a})},jo=(e,t,n,o)=>{const r=e.dom,a=o.getData(),s=k(a,((e,t)=>n[t]!==e));o.close(),e.undoManager.transact((()=>{if(!t){const n=Le(a.cols).getOr(1),o=Le(a.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=_n(Ce(e),Se(e)).bind((t=>et(t,Se(e)))).map((e=>e.dom)).getOrDie()}if(T(s)>0){const n={border:A(s,"border"),bordercolor:A(s,"bordercolor"),cellpadding:A(s,"cellpadding")};Mo(e,t,a,n);const o=r.select("caption",t)[0];(o&&!a.caption||!o&&a.caption)&&e.execCommand("mceTableToggleCaption"),ft(e,t,a.align)}if(e.focus(),e.addVisual(),T(s)>0){const n=A(s,"caption"),o=!n||T(s)>1;bt(e,t,{structure:n,style:o})}}))},Bo=(e,t)=>{const n=e.dom;let o,r=((e,t)=>{const n=Ut(e),o=Vt(e),r=t?{borderstyle:_(n,"border-style").getOr(""),bordercolor:bo(_(n,"border-color").getOr("")),backgroundcolor:bo(_(n,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...n,...o,...r,...(()=>{const t=n["border-width"];return Mt(e)&&t?{border:t}:_(o,"border").fold((()=>({})),(e=>({border:e})))})(),...{..._(n,"border-spacing").or(_(o,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e}))),..._(n,"border-padding").or(_(o,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})))}}})(e,Ft(e));t?(r.cols="1",r.rows="1",Ft(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=((e,t,n)=>{const o=e.dom,r=Mt(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),a=Mt(e)?ht(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||ht(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:null!=r?r:"",cellpadding:null!=a?a:"",border:((t,n)=>{const o=Ue(W.fromDom(n),"border-width");return Mt(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||ht(e.dom,n,"border-width")||ht(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:xo(e,t),...n?yo(t):{}}})(e,o,Ft(e)):Ft(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const a=Vn(It(e));a.isSome()&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Ro(e,a.getOr([]),t)},i=Ft(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},no(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:i,onSubmit:h(jo,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Io=e=>{S({mceTableProps:h(Bo,e,!1),mceTableRowProps:h(Fo,e),mceTableCellProps:h(Oo,e),mceInsertTableDialog:h(Bo,e,!0)},((t,n)=>e.addCommand(n,(()=>{return n=t,void(Te(Ce(e))&&n());var n}))))},Lo=p,zo=e=>{const t=(e,t)=>De(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&L(e,(e=>t(e,"rowspan")||t(e,"colspan")))?v.some(e):v.none()},qo=(e,t,n)=>t.length<=1?v.none():yn(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),Ho=e=>{const t=zn(v.none()),n=zn([]);let o=v.none();const r=oe("caption"),a=e=>o.forall((t=>!t[e])),s=()=>Tn((e=>W.fromDom(e.selection.getEnd()))(e),Se(e)),i=()=>Tn(Ce(e),Se(e)).bind((t=>{return n=$e(et(t),s().bind(et),((n,o)=>Z(n,o)?r(t)?v.some((e=>({element:e,mergable:v.none(),unmergable:v.none(),selection:[e]}))(t)):v.some(((e,t,n)=>({element:n,mergable:qo(t,e,kn),unmergable:zo(e),selection:Lo(e)}))(An(e),n,t)):v.none())),n.bind(p);var n})),l=e=>et(e.element).map((t=>{const n=ct(t),o=uo(n,e).getOr([]),r=j(o,((e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e)),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:po(n,e).isSome(),unmergeable:go(n,e).isSome(),locked:r}})),c=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(i)()),o=t.get().bind(l),$(n.get(),f)},u=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(M(n.get(),(t=>t!==e)))}),d=(n,o)=>u((()=>t.get().fold((()=>{n.setEnabled(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})))),m=(n,o,r)=>u((()=>t.get().fold((()=>{n.setEnabled(!1),n.setActive(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})))),g=e=>o.exists((t=>t.locked[e])),h=(t,n)=>o=>m(o,(e=>r(e.element)),(()=>e.queryCommandValue(t)===n)),y=h("mceTableRowType","header"),w=h("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",c),{onSetupTable:e=>d(e,(e=>!1)),onSetupCellOrRow:e=>d(e,(e=>r(e.element))),onSetupColumn:e=>t=>d(t,(t=>r(t.element)||g(e))),onSetupPasteable:e=>t=>d(t,(t=>r(t.element)||e().isNone())),onSetupPasteableColumn:(e,t)=>n=>d(n,(n=>r(n.element)||e().isNone()||g(t))),onSetupMergeable:e=>d(e,(e=>a("mergeable"))),onSetupUnmergeable:e=>d(e,(e=>a("unmergeable"))),resetTargets:c,onSetupTableWithCaption:t=>m(t,b,(t=>et(t.element,Se(e)).exists((e=>be(e,"caption").isSome())))),onSetupTableRowHeaders:y,onSetupTableColumnHeaders:w,targets:t.get}};var Wo=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Uo="x-tinymce/dom-table-",Vo=Uo+"rows",Zo=Uo+"columns",Ko=e=>{var t;const n=null!==(t=Wo.read())&&void 0!==t?t:[];return q(n,(t=>v.from(t.getType(e))))},Go=()=>Ko(Vo),Xo=()=>Ko(Zo),Yo=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},Jo=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},Qo=e=>{const t=Ho(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:kt}),t("table_border_styles",{processor:"object[]",default:Ct}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!St.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),Io(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},a=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(Go)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(Go)})],i=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(Xo,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(Xo,"onLast")})],l=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];$t(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}],onSetup:Jo(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:Jo(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:Jo(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),P(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:m("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),P(i,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:m("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),P(l,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:m("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(m(""),(e=>"caption"===G(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable")))});const u=Gn(It(e));0!==u.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Zn(e,u,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const d=Gn(jt(e));0!==d.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Zn(e,d,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Zn(e,En,"tablecellverticalalign",Kn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Zn(e,Et(e),"tablecellborderwidth",Kn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Zn(e,Nt(e),"tablecellborderstyle",Kn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Yn(e,zt(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Yn(e,qt(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Jn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Qn(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Yo(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(Go)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(Go)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(Xo,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(Xo,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Yo(e)});const a=Gn(It(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Xn(e,a,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const s=Gn(jt(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Xn(e,s,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Xn(e,En,"tablecellverticalalign",Kn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Xn(e,Et(e),"tablecellborderwidth",Kn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Xn(e,Nt(e),"tablecellborderstyle",Kn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(Yn(e,zt(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(Yn(e,qt(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Jn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Qn(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),n=Lt(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})})(e)};e.add("table",Qo)}()},57426:function(e,t,n){n(24855)},59638:function(e,t,n){n(52171)},63026:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=e=>null===e,s=n("boolean"),i=n("number");class l{constructor(e,t){this.tag=e,this.value=t}static some(e){return new l(!0,e)}static none(){return l.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?l.some(e(this.value)):l.none()}bind(e){return this.tag?e(this.value):l.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:l.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return null==e?l.none():l.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}l.singletonNone=new l(!1);const c=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},u=Object.keys,d=(e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},m="undefined"!=typeof window?window:Function("return this;")(),p=(e,t)=>((e,t)=>{let n=null!=t?t:m;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),g=Object.getPrototypeOf,h=e=>e.dom.nodeValue,f=e=>t=>(e=>e.dom.nodeType)(t)===e,b=e=>y(e)&&(e=>{const t=p("ownerDocument.defaultView",e);return r(e)&&((e=>((e,t)=>{const n=((e,t)=>p(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(g(e).constructor.name))})(e.dom),y=f(1),v=f(3),w=(e,t,n)=>{((e,t,n)=>{if(!(o(n)||s(n)||i(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},x=(e,t)=>{e.dom.removeAttribute(t)},S=(e,t)=>{const n=((e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n})(e,t);return void 0===n||""===n?[]:n.split(" ")},k=e=>void 0!==e.dom.classList,C=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},T={" ":"nbsp","­":"shy"},_=(e,t)=>{let n="";return d(e,((e,t)=>{n+=t})),new RegExp("["+n+"]",t?"g":"")},A=_(T),O=_(T,!0),E=(e=>{let t="";return d(e,(e=>{t&&(t+=","),t+="span.mce-"+e})),t})(T),N="mce-nbsp",P=e=>e.dom.contentEditable,D=e=>'<span data-mce-bogus="1" class="mce-'+T[e]+'">'+e+"</span>",F=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),R=e=>{const t=h(e);return v(e)&&o(t)&&A.test(t)},$=(e,t,n)=>{let o=[];const r=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(e.dom.childNodes,C);return c(r,(e=>{var r;n&&(F((r=e).dom)||!(e=>b(e)&&"false"===P(e))(r))&&t(e)&&(o=o.concat([e])),o=o.concat($(e,t,((e,t)=>{if(b(e)&&!F(e.dom)){const t=P(e);if("true"===t)return!0;if("false"===t)return!1}return t})(e,n)))})),o},M=(e,t)=>{const n=e.dom,o=$(C(t),R,e.dom.isEditable(t));c(o,(t=>{var o;const r=t.dom.parentNode;if(F(r))a=C(r),s=N,k(a)?a.dom.classList.add(s):((e,t)=>{((e,t,n)=>{const o=S(e,t).concat([n]);w(e,t,o.join(" "))})(e,"class",t)})(a,s);else{const r=n.encode(null!==(o=h(t))&&void 0!==o?o:"").replace(O,D),a=n.create("div",{},r);let s;for(;s=a.lastChild;)n.insertAfter(s,t.dom);e.dom.remove(t.dom)}var a,s}))},j=(e,t)=>{const n=e.dom.select(E,t);c(n,(t=>{var n,o;F(t)?(n=C(t),o=N,k(n)?n.dom.classList.remove(o):((e,t)=>{((e,t,n)=>{const o=(e=>{const t=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];r!==n&&t.push(r)}return t})(S(e,t));o.length>0?w(e,t,o.join(" ")):x(e,t)})(e,"class",t)})(n,o),(e=>{const t=k(e)?e.dom.classList:(e=>S(e,"class"))(e);0===t.length&&x(e,"class")})(n)):e.dom.remove(t,!0)}))},B=e=>{const t=e.getBody(),n=e.selection.getBookmark();let o=((e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}})(e.selection.getNode(),t);o=void 0!==o?o:t,j(e,o),M(e,o),e.selection.moveToBookmark(n)},I=(e,t)=>{((e,t)=>{e.dispatch("VisualChars",{state:t})})(e,t.get());const n=e.getBody();!0===t.get()?M(e,n):j(e,n)},L=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)};e.add("visualchars",(e=>{(e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})})(e);const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})((e=>e.options.get("visualchars_default_state"))(e));return((e,t)=>{e.addCommand("mceVisualChars",(()=>{((e,t)=>{t.set(!t.get());const n=e.selection.getBookmark();I(e,t),e.selection.moveToBookmark(n)})(e,t)}))})(e,t),((e,t)=>{const n=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:L(e,t),context:"any"}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:L(e,t),context:"any"})})(e,t),((e,t)=>{const n=(e=>{let t=null;return{cancel:()=>{a(t)||(clearTimeout(t),t=null)},throttle:(...n)=>{a(t)&&(t=setTimeout((()=>{t=null,e.apply(null,n)}),300))}}})((()=>{B(e)}));e.on("keydown",(o=>{!0===t.get()&&(13===o.keyCode?B(e):n.throttle())})),e.on("remove",n.cancel)})(e,t),((e,t)=>{e.on("init",(()=>{I(e,t)}))})(e,t),(e=>({isEnabled:()=>e.get()}))(t)}))}()},63567:function(){!function(){"use strict";function e(e){e.keyCode!==i.TAB||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),o=tinymce.util.Tools.resolve("tinymce.EditorManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),a=tinymce.util.Tools.resolve("tinymce.util.Delay"),s=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=tinymce.util.Tools.resolve("tinymce.util.VK"),l=n.DOM;t.add("tabfocus",(function(t){function n(e){var t,n,u,d,m;e.keyCode!==i.TAB||e.ctrlKey||e.altKey||e.metaKey||e.isDefaultPrevented()||(n=function(n){function r(t){return/INPUT|TEXTAREA|BUTTON/.test(t.tagName)&&o.get(e.id)&&-1!==t.tabIndex&&i(t)}var a=l.select(":input:enabled,*[tabindex]:not(iframe)"),i=function(e){return"BODY"===e.nodeName||"hidden"!==e.type&&"none"!==e.style.display&&"hidden"!==e.style.visibility&&i(e.parentNode)};if(s.each(a,(function(e,n){if(e.id===c.id)return t=n,!1})),0<n){for(var u=t+1;u<a.length;u++)if(r(a[u]))return a[u]}else for(u=t-1;0<=u;u--)if(r(a[u]))return a[u];return null},1===(u=s.explode(c.getParam("tab_focus",c.getParam("tabfocus_elements",":prev,:next")))).length&&(u[1]=u[0],u[0]=":prev"),(d=e.shiftKey?":prev"===u[0]?n(-1):l.get(u[0]):":next"===u[1]?n(1):l.get(u[1]))&&(m=o.get(d.id||d.name),d.id&&m?m.focus():a.setTimeout((function(){r.webkit||window.focus(),d.focus()}),10),e.preventDefault()))}var c;(c=t).on("init",(function(){c.inline&&l.setAttrib(c.getBody(),"tabIndex",null),c.on("keyup",e),r.gecko?c.on("keypress keydown",n):c.on("keydown",n)}))}))}()},64524:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("hr",(function(e){!function(e){e.addCommand("InsertHorizontalRule",(function(){e.execCommand("mceInsertContent",!1,"<hr />")}))}(e),function(e){var t=function(){return e.execCommand("InsertHorizontalRule")};e.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:t}),e.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:t})}(e)}))}()},66193:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");e.add("print",(function(e){!function(e){e.addCommand("mcePrint",(function(){t.browser.isIE()?e.getDoc().execCommand("print",!1,null):e.getWin().print()}))}(e),function(e){var t=function(){return e.execCommand("mcePrint")};e.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:t}),e.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:t})}(e),e.addShortcut("Meta+P","","mcePrint")}))}()},81196:function(e,t,n){n(39561)},83393:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("boolean"),o=t("number"),r=e=>t=>t.options.get(e),a=r("nonbreaking_force_tab"),s=r("nonbreaking_wrap"),i=(e,t)=>{let n="";for(let o=0;o<t;o++)n+=e;return n},l=(e,t)=>{const n=s(e)||e.plugins.visualchars?`<span class="${(e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled())(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${i("&nbsp;",t)}</span>`:i("&nbsp;",t);e.undoManager.transact((()=>e.insertContent(n)))};var c=tinymce.util.Tools.resolve("tinymce.util.VK");const u=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("nonbreaking",(e=>{(e=>{const t=e.options.register;t("nonbreaking_force_tab",{processor:e=>n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceNonBreaking",(()=>{l(e,1)}))})(e),(e=>{const t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:u(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:u(e)})})(e),(e=>{const t=a(e);t>0&&e.on("keydown",(n=>{if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),l(e,t)}}))})(e)}))}()},85645:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>t=>t.options.get(e),o=n("pagebreak_separator"),r=n("pagebreak_split_block"),a="mce-pagebreak",s=e=>{const n=`<img src="${t.transparentSrc}" class="${a}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${n}</p>`:n},i=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("pagebreak",(e=>{(e=>{const t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",(()=>{e.insertContent(s(r(e)))}))})(e),(e=>{const t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:i(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:i(e)})})(e),(e=>{const t=o(e),n=()=>r(e),i=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(e=>"\\"+e)),"gi");e.on("BeforeSetContent",(e=>{e.content=e.content.replace(i,s(n()))})),e.on("PreInit",(()=>{e.serializer.addNodeFilter("img",(o=>{let r,s,i=o.length;for(;i--;)if(r=o[i],s=r.attr("class"),s&&-1!==s.indexOf(a)){const o=r.parent;if(o&&e.schema.getBlockElements()[o.name]&&n()){o.type=3,o.value=t,o.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}}))}))})(e),(e=>{e.on("ResolveName",(t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,a)&&(t.name="pagebreak")}))})(e)}))}()},87032:function(e,t,n){n(95845)},87187:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,o=e=>t=>typeof t===e,r=n("string"),a=n("array"),s=o("boolean"),i=o("number"),l=()=>{},c=e=>()=>e,u=c(!0),d=c("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?m.none():m.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const p=d;var g=tinymce.util.Tools.resolve("tinymce.Env"),h=tinymce.util.Tools.resolve("tinymce.util.Tools");const f=Array.prototype.slice,b=Array.prototype.push,y=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},v=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},w=(e,t)=>{for(let n=e.length-1;n>=0;n--){t(e[n],n)}},x=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);b.apply(t,e[n])}return t})(y(e,t)),S=Object.hasOwnProperty,k=(e,t)=>S.call(e,t);"undefined"!=typeof window?window:Function("return this;")();const C=(T=3,e=>(e=>e.dom.nodeType)(e)===T);var T;const _=(e,t,n)=>{((e,t,n)=>{if(!(r(n)||s(n)||i(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},A=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},O={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return A(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return A(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return A(n)},fromDom:A,fromPoint:(e,t,n)=>m.from(e.dom.elementFromPoint(t,n)).map(A)},E=(e,t)=>({element:e,offset:t}),N=(e,t)=>{const n=(e=>y(e.dom.childNodes,O.fromDom))(e);return n.length>0&&t<n.length?E(n[t],0):E(e,t)},P=(e,t)=>{const n=(e=>m.from(e.dom.parentNode).map(O.fromDom))(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},D=(e,t)=>{P(e,t),((e,t)=>{e.dom.appendChild(t.dom)})(t,e)},F=((e,t)=>{const n=t=>e(t)?m.from(t.dom.nodeValue):m.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(C,"text"),R=e=>F.get(e),$=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:y(n.querySelectorAll(e),O.fromDom);var o})(t,e);var M=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const j=(e,t)=>e.isBlock(t)||k(e.schema.getVoidElements(),t.nodeName),B=(e,t)=>!e.isEditable(t),I=(e,t)=>!e.isBlock(t)&&k(e.schema.getWhitespaceElements(),t.nodeName),L=(e,t)=>N(O.fromDom(e),t),z=(e,t,n,o,r,a=!0)=>{let s=a?t(!1):n;for(;s;){const n=B(e,s);if(n||I(e,s)){if(n?o.cef(s):o.boundary(s))break;s=t(!0)}else{if(j(e,s)){if(o.boundary(s))break}else 3===s.nodeType&&o.text(s);if(s===r)break;s=t(!1)}}},q=(e,t,n,o,r)=>{var a;if(((e,t)=>j(e,t)||B(e,t)||I(e,t)||((e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&!e.isEditable(t.parentNode))(e,t))(e,n))return;const s=null!==(a=e.getParent(o,e.isBlock))&&void 0!==a?a:e.getRoot(),i=new M(n,s),l=r?i.next.bind(i):i.prev.bind(i);z(e,l,n,{boundary:u,cef:u,text:e=>{r?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(O.fromDom(e))}})},H=(e,t,n,o,r,a=!0)=>{const s=new M(n,t),i=[];let l={sOffset:0,fOffset:0,elements:[]};q(e,l,n,t,!1);const c=()=>(l.elements.length>0&&(i.push(l),l={sOffset:0,fOffset:0,elements:[]}),!1);return z(e,s.next.bind(s),n,{boundary:c,cef:e=>(c(),r&&i.push(...r.cef(e)),!1),text:e=>{l.elements.push(O.fromDom(e)),r&&r.text(e,l)}},o,a),o&&q(e,l,o,t,!0),c(),i},W=(e,t)=>{const n=L(t.startContainer,t.startOffset),o=n.element.dom,r=L(t.endContainer,t.endOffset),a=r.element.dom;return H(e,t.commonAncestorContainer,o,a,{text:(e,t)=>{e===a?t.fOffset+=e.length-r.offset:e===o&&(t.sOffset+=n.offset)},cef:t=>((e,t)=>{const n=f.call(e,0);return n.sort(t),n})(x($(O.fromDom(t),"*[contenteditable=true]"),(t=>{const n=t.dom;return H(e,n,n)})),((e,t)=>((e,t)=>((e,t,n)=>!!(e.compareDocumentPosition(t)&n))(e,t,Node.DOCUMENT_POSITION_PRECEDING))(e.elements[0].dom,t.elements[0].dom)?1:-1))},!1)},U=(e,t)=>t.collapsed?[]:W(e,t),V=(e,t)=>{const n=e.createRng();return n.selectNode(t),U(e,n)},Z=(e,t)=>{const n=(o=e,r=(e,n)=>{const o=R(n),r=e.last,a=r+o.length,s=x(t,((e,t)=>e.start<a&&e.finish>r?[{element:n,start:Math.max(r,e.start)-r,finish:Math.min(a,e.finish)-r,matchId:t}]:[]));return{results:e.results.concat(s),last:a}},a={results:[],last:0},v(o,((e,t)=>{a=r(a,e,t)})),a).results;var o,r,a;return((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],i=t(s);i!==n&&(o.push(r),r=[]),n=i,r.push(s)}return 0!==r.length&&o.push(r),o}})(n,(e=>e.matchId))},K=(e,t)=>x(t,(t=>{const n=t.elements,o=y(n,R).join(""),r=((e,t,n=0,o=e.length)=>{const r=t.regex;r.lastIndex=n;const a=[];let s;for(;s=r.exec(e);){const e=s[t.matchIndex],n=s.index+s[0].indexOf(e),i=n+e.length;if(i>o)break;a.push({start:n,finish:i}),r.lastIndex=i}return a})(o,e,t.sOffset,o.length-t.fOffset);return Z(n,r)})),G=(e,t)=>{w(e,((e,n)=>{w(e,(e=>{const o=O.fromDom(t.cloneNode(!1));_(o,"data-mce-index",n);const r=e.element.dom;if(r.length===e.finish&&0===e.start)D(e.element,o);else{r.length!==e.finish&&r.splitText(e.finish);const t=r.splitText(e.start);D(O.fromDom(t),o)}}))}))},X=(e,t,n,o)=>{const r=n.getBookmark(),a=e.select("td[data-mce-selected],th[data-mce-selected]"),s=a.length>0?((e,t)=>x(t,(t=>V(e,t))))(e,a):U(e,n.getRng()),i=K(t,s);return G(i,o),n.moveToBookmark(r),i.length},Y=e=>e.getAttribute("data-mce-index"),J=(e,t,n,o)=>{const r=e.dom.create("span",{"data-mce-bogus":1});r.className="mce-match-marker";const a=e.getBody();return le(e,t,!1),o?X(e.dom,n,e.selection,r):((e,t,n,o)=>{const r=V(e,n),a=K(t,r);return G(a,o),a.length})(e.dom,n,a,r)},Q=e=>{var t;const n=e.parentNode;e.firstChild&&n.insertBefore(e.firstChild,e),null===(t=e.parentNode)||void 0===t||t.removeChild(e)},ee=(e,t)=>{const n=[],o=h.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let e=0;e<o.length;e++){const r=Y(o[e]);null!==r&&r.length&&(r===t.toString()&&n.push(o[e]))}return n},te=(e,t,n)=>{const o=t.get();let r=o.index;const a=e.dom;n?r+1===o.count?r=0:r++:r-1==-1?r=o.count-1:r--,a.removeClass(ee(e,o.index),"mce-match-marker-selected");const s=ee(e,r);return s.length?(a.addClass(ee(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(s[0]),r):-1},ne=(e,t)=>{const n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},oe=(e,t,n,o,r,a)=>{const s=e.selection,i=((e,t)=>{const n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?`(?:^|\\s|${p()})`+n+`(?=$|\\s|${p()})`:n})(n,r),l=s.isForward(),c={regex:new RegExp(i,o?"g":"gi"),matchIndex:1},u=J(e,t,c,a);if(g.browser.isSafari()&&s.setRng(s.getRng(),l),u){const s=te(e,t,!0);t.set({index:s,count:u,text:n,matchCase:o,wholeWord:r,inSelection:a})}return u},re=(e,t)=>{const n=te(e,t,!0);t.set({...t.get(),index:n})},ae=(e,t)=>{const n=te(e,t,!1);t.set({...t.get(),index:n})},se=e=>{const t=Y(e);return null!==t&&t.length>0},ie=(e,t,n,o,r)=>{const a=t.get(),s=a.index;let i,l=s;o=!1!==o;const c=e.getBody(),u=h.grep(h.toArray(c.getElementsByTagName("span")),se);for(let t=0;t<u.length;t++){const c=Y(u[t]);let d=i=parseInt(c,10);if(r||d===a.index){for(n.length?(u[t].innerText=n,Q(u[t])):ne(e.dom,u[t]);u[++t];){if(d=parseInt(Y(u[t]),10),d!==i){t--;break}ne(e.dom,u[t])}o&&l--}else i>s&&u[t].setAttribute("data-mce-index",String(i-1))}return t.set({...a,count:r?0:a.count-1,index:l}),o?re(e,t):ae(e,t),!r&&t.get().count>0},le=(e,t,n)=>{let o,r;const a=t.get(),s=h.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<s.length;e++){const t=Y(s[e]);null!==t&&t.length&&(t===a.index.toString()&&(o||(o=s[e].firstChild),r=s[e].firstChild),Q(s[e]))}if(t.set({...a,index:-1,count:0,text:""}),o&&r){const t=e.dom.createRng();return t.setStart(o,0),t.setEnd(r,r.data.length),!1!==n&&e.selection.setRng(t),t}},ce=()=>{const t=(t=>{const n=e(m.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(m.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(m.some(e))}}})(l);return{...t,on:e=>t.get().each(e)}},ue=(e,t)=>{const n=ce();e.undoManager.add();const o=h.trim(e.selection.getContent({format:"text"})),r=e=>{e.setEnabled("next",((e,t)=>t.get().count>1)(0,t)),e.setEnabled("prev",((e,t)=>t.get().count>1)(0,t))},a=(e,t)=>{v(["replace","replaceall","prev","next"],(n=>e.setEnabled(n,!t)))},s=(e,t)=>{t.redial(p(e,t.getData()))},i=(e,t)=>{g.browser.isSafari()&&g.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},l=n=>{le(e,t,!1),a(n,!0),r(n)},c=n=>{const o=n.getData(),i=t.get();if(o.findtext.length){if(i.text===o.findtext&&i.matchCase===o.matchcase&&i.wholeWord===o.wholewords)re(e,t);else{const r=oe(e,t,o.findtext,o.matchcase,o.wholewords,o.inselection);r<=0&&s(!0,n),a(n,0===r)}r(n)}else l(n)},u=t.get(),d={findtext:o,replacetext:"",wholewords:u.wholeWord,matchcase:u.matchCase,inselection:u.inSelection},m=e=>{const t=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},p=(n,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:m(n)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(e,o)=>{n&&s(!1,e),"findtext"===o.name&&t.get().count>0&&l(e)},onAction:(n,o)=>{const a=n.getData();switch(o.name){case"find":c(n);break;case"replace":ie(e,t,a.replacetext)?r(n):l(n);break;case"replaceall":ie(e,t,a.replacetext,!0,!0),l(n);break;case"prev":ae(e,t),r(n);break;case"next":re(e,t),r(n);break;case"matchcase":case"wholewords":case"inselection":s(!1,n),(e=>{const n=e.getData(),o=t.get();t.set({...o,matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection})})(n),l(n)}i(n,o.name)},onSubmit:e=>{c(e),i(e,"find")},onClose:()=>{e.focus(),le(e,t),e.undoManager.add()}});n.set(e.windowManager.open(p(!1,d),{inline:"toolbar"}))},de=(e,t)=>()=>{ue(e,t)};t.add("searchreplace",(t=>{const n=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return((e,t)=>{e.addCommand("SearchReplace",(()=>{ue(e,t)}))})(t,n),((e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:de(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:de(e,t),icon:"search",shortcut:"Meta+F"}),e.shortcuts.add("Meta+F","",de(e,t))})(t,n),((e,t)=>({done:n=>le(e,t,n),find:(n,o,r,a=!1)=>oe(e,t,n,o,r,a),next:()=>re(e,t),prev:()=>ae(e,t),replace:(n,o,r)=>ie(e,t,n,o,r)}))(t,n)}))}()},87838:function(){!function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("hr",(function(e){var t,n;function o(){return n.execCommand("InsertHorizontalRule")}(t=e).addCommand("InsertHorizontalRule",(function(){t.execCommand("mceInsertContent",!1,"<hr />")})),(n=e).ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:o}),n.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:o})}))}()},87966:function(){!function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("code",(e=>((e=>{e.addCommand("mceCodeEditor",(()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)}))})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{})))}()},88929:function(e,t,n){n(87187)},91694:function(e,t,n){n(57235)},92425:function(){tinymce.Resource.add("tinymce.html-i18n.help-keynav.hr","<h1>Početak navigacije na tipkovnici</h1>\n\n<dl>\n  <dt>Fokusiranje trake izbornika</dt>\n  <dd>Windows ili Linux: Alt+F9</dd>\n  <dd>macOS: &#x2325;F9</dd>\n  <dt>Fokusiranje alatne trake</dt>\n  <dd>Windows ili Linux: Alt+F10</dd>\n  <dd>macOS: &#x2325;F10</dd>\n  <dt>Fokusiranje podnožja</dt>\n  <dd>Windows ili Linux: Alt+F11</dd>\n  <dd>macOS: &#x2325;F11</dd>\n  <dt>Fokusiranje obavijesti</dt>\n  <dd>Windows ili Linux: Alt + F12</dd>\n  <dd>macOS: &#x2325;F12</dd>\n  <dt>Fokusiranje kontekstne alatne trake</dt>\n  <dd>Windows, Linux ili macOS: Ctrl+F9</dd>\n</dl>\n\n<p>Navigacija će započeti kod prve stavke na korisničkom sučelju, koja će biti istaknuta ili podcrtana ako se radi o prvoj stavci u\n  putu elementa u podnožju.</p>\n\n<h1>Navigacija između dijelova korisničkog sučelja</h1>\n\n<p>Za pomicanje s jednog dijela korisničkog sučelja na drugi pritisnite <strong>tabulator</strong>.</p>\n\n<p>Za pomicanje s jednog dijela korisničkog sučelja na prethodni pritisnite <strong>Shift + tabulator</strong>.</p>\n\n<p>Ovo je redoslijed pomicanja <strong>tabulatora</strong> po dijelovima korisničkog sučelja:</p>\n\n<ol>\n  <li>Traka izbornika</li>\n  <li>Pojedinačne grupe na alatnoj traci</li>\n  <li>Bočna traka</li>\n  <li>Put elemenata u podnožju</li>\n  <li>Gumb za pomicanje po broju riječi u podnožju</li>\n  <li>Veza na brand u podnožju</li>\n  <li>Značajka za promjenu veličine alata za uređivanje u podnožju</li>\n</ol>\n\n<p>Ako neki dio korisničkog sučelja nije naveden, on se preskače.</p>\n\n<p>Ako u podnožju postoji fokus za navigaciju na tipkovnici, a nema vidljive bočne trake, pritiskom na <strong>Shift + tabulator</strong>\n  fokus se prebacuje na prvu skupinu na alatnoj traci, ne na zadnju.</p>\n\n<h1>Navigacija unutar dijelova korisničkog sučelja</h1>\n\n<p>Za pomicanje s jednog elementa korisničkog sučelja na drugi pritisnite tipku s odgovarajućom <strong>strelicom</strong>.</p>\n\n<p>Tipke s <strong>lijevom</strong> i <strong>desnom</strong> strelicom</p>\n\n<ul>\n  <li>služe za pomicanje između izbornika na alatnoj traci.</li>\n  <li>otvaraju podizbornik unutar izbornika.</li>\n  <li>služe za pomicanje između gumba unutar skupina na alatnoj traci.</li>\n  <li>služe za pomicanje između stavki na elementu puta u podnožju.</li>\n</ul>\n\n<p>Tipke s <strong>donjom</strong> i <strong>gornjom</strong> strelicom</p>\n\n<ul>\n  <li>služe za pomicanje između stavki unutar izbornika.</li>\n  <li>služe za pomicanje između stavki na alatnoj traci skočnog izbornika.</li>\n</ul>\n\n<p>Tipkama <strong>strelica</strong> kružno se pomičete unutar dijela korisničkog sučelja koji je u fokusu.</p>\n\n<p>Za zatvaranje otvorenog izbornika, otvorenog podizbornika ili otvorenog skočnog izbornika pritisnite tipku <strong>Esc</strong>.</p>\n\n<p>Ako je fokus trenutačno postavljen na vrh pojedinačnog dijela korisničkog sučelja, pritiskom na tipku <strong>Esc</strong> također\n  u potpunosti zatvarate navigaciju na tipkovnici.</p>\n\n<h1>Izvršavanje radnji putem stavki izbornika ili gumba na alatnoj traci</h1>\n\n<p>Nakon što se istakne stavka izbornika ili gumb na alatnoj traci s radnjom koju želite izvršiti, pritisnite tipku <strong>Return</strong>, <strong>Enter</strong>\n  ili <strong>razmak</strong> da biste pokrenuli željenu radnju.</p>\n\n<h1>Navigacija dijaloškim okvirima izvan kartica</h1>\n\n<p>Prilikom otvaranja dijaloških okvira izvan kartica fokus se nalazi na prvoj interaktivnoj komponenti.</p>\n\n<p>Navigaciju između interaktivnih dijaloških komponenata vršite pritiskom na <strong>tabulator</strong> ili <strong>Shift + tabulator</strong>.</p>\n\n<h1>Navigacija dijaloškim okvirima u karticama</h1>\n\n<p>Prilikom otvaranja dijaloških okvira u karticama fokus se nalazi na prvom gumbu u izborniku unutar kartice.</p>\n\n<p>Navigaciju između interaktivnih komponenata dijaloškog okvira u kartici vršite pritiskom na <strong>tabulator</strong> ili\n  <strong>Shift + tabulator</strong>.</p>\n\n<p>Na karticu s drugim dijaloškim okvirom možete se prebaciti tako da stavite fokus na izbornik kartice pa pritisnete tipku s odgovarajućom <strong>strelicom</strong>\n  za kružno pomicanje između dostupnih kartica.</p>\n")},93715:function(e,t,n){n(34328)},95845:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e){e=t.trim(e);var n=function(t,n){e=e.replace(t,n)};return n(/\n/gi,"<br />"),n(/\[b\]/gi,"<strong>"),n(/\[\/b\]/gi,"</strong>"),n(/\[i\]/gi,"<em>"),n(/\[\/i\]/gi,"</em>"),n(/\[u\]/gi,"<u>"),n(/\[\/u\]/gi,"</u>"),n(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),n(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),n(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),n(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),n(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),n(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),e};e.add("bbcode",(function(e){e.on("BeforeSetContent",(function(e){e.content=n(e.content)})),e.on("PostProcess",(function(e){e.set&&(e.content=n(e.content)),e.get&&(e.content=function(e){e=t.trim(e);var n=function(t,n){e=e.replace(t,n)};return n(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),n(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),n(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),n(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),n(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),n(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),n(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),n(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),n(/<font>(.*?)<\/font>/gi,"$1"),n(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),n(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),n(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),n(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),n(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),n(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),n(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),n(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),n(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),n(/<\/(strong|b)>/gi,"[/b]"),n(/<(strong|b)>/gi,"[b]"),n(/<\/(em|i)>/gi,"[/i]"),n(/<(em|i)>/gi,"[i]"),n(/<\/u>/gi,"[/u]"),n(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),n(/<u>/gi,"[u]"),n(/<blockquote[^>]*>/gi,"[quote]"),n(/<\/blockquote>/gi,"[/quote]"),n(/<br \/>/gi,"\n"),n(/<br\/>/gi,"\n"),n(/<br>/gi,"\n"),n(/<p>/gi,""),n(/<\/p>/gi,"\n"),n(/&nbsp;|\u00a0/gi," "),n(/&quot;/gi,'"'),n(/&lt;/gi,"<"),n(/&gt;/gi,">"),n(/&amp;/gi,"&"),e}(e.content))}))}))}()},98809:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=t("string"),o=t("object"),r=t("array"),a=e=>!(e=>null==e)(e);class s{constructor(e,t){this.tag=e,this.value=t}static some(e){return new s(!0,e)}static none(){return s.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?s.some(e(this.value)):s.none()}bind(e){return this.tag?e(this.value):s.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:s.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return a(e)?s.some(e):s.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}s.singletonNone=new s(!1);const i=Array.prototype.push,l=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},c=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);i.apply(t,e[n])}return t},u=Object.keys,d=Object.hasOwnProperty,m=(e,t)=>p(e,t)?s.from(e[t]):s.none(),p=(e,t)=>d.call(e,t),g=e=>t=>t.options.get(e),h=g("audio_template_callback"),f=g("video_template_callback"),b=g("iframe_template_callback"),y=g("media_live_embeds"),v=g("media_filter_html"),w=g("media_url_resolver"),x=g("media_alt_source"),S=g("media_poster"),k=g("media_dimensions");var C=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_=tinymce.util.Tools.resolve("tinymce.html.DomParser");const A=T.DOM,O=e=>e.replace(/px$/,""),E=e=>{const t=e.attr("style"),n=t?A.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:m(n,"max-width").map(O).getOr(""),height:m(n,"max-height").map(O).getOr("")}},N=(e,t)=>{let n={};for(let o=_({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){const e=o.name;if(o.attr("data-ephox-embed-iri")){n=E(o);break}n.source||"param"!==e||(n.source=o.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(n.type||(n.type=e),n=C.extend(o.attributes.map,n)),"source"===e&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==e||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||"",n.altsource=n.altsource||"",n.poster=n.poster||"",n},P=e=>{var t;const n=null!==(t=e.toLowerCase().split(".").pop())&&void 0!==t?t:"";return m({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n).getOr("")};var D=tinymce.util.Tools.resolve("tinymce.html.Node"),F=tinymce.util.Tools.resolve("tinymce.html.Serializer");const R=(e,t={})=>_({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),$=T.DOM,M=e=>/^[0-9.]+$/.test(e)?e+"px":e,j=(e,t)=>{const n=t.attr("style"),o=n?$.parseStyle(n):{};a(e.width)&&(o["max-width"]=M(e.width)),a(e.height)&&(o["max-height"]=M(e.height)),t.attr("style",$.serializeStyle(o))},B=["source","altsource"],I=(e,t,n,o)=>{let r=0,a=0;const s=R(o);s.addNodeFilter("source",(e=>r=e.length));const i=s.parse(e);for(let e=i;e;e=e.walk())if(1===e.type){const o=e.name;if(e.attr("data-ephox-embed-iri")){j(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(n)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let n=r;n<2;n++)if(t[B[n]]){const o=new D("source",1);o.attr("src",t[B[n]]),o.attr("type",t[B[n]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":const n=e.getAll("img").length>0;if(t.poster&&!n){e.attr("src",t.poster);const n=new D("img",1);n.attr("src",t.poster),n.attr("width",t.width),n.attr("height",t.height),e.append(n)}break;case"source":if(a<2&&(e.attr("src",t[B[a]]),e.attr("type",t[B[a]+"mime"]||null),!t[B[a]])){e.remove();continue}a++;break;case"img":t.poster||e.remove()}}return F({},o).serialize(i)},L=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],z=(e,t)=>{const n=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(t),o=e.regex.exec(t);let r=n+e.url;if(a(o))for(let e=0;e<o.length;e++)r=r.replace("$"+e,(()=>o[e]?o[e]:""));return r.replace(/\?$/,"")},q=e=>{const t=L.filter((t=>t.regex.test(e)));return t.length>0?C.extend({},t[0],{url:z(t[0],e)}):null},H=(e,t)=>{var n;const o=C.extend({},t);if(!o.source&&(C.extend(o,N(null!==(n=o.embed)&&void 0!==n?n:"",e.schema)),!o.source))return"";o.altsource||(o.altsource=""),o.poster||(o.poster=""),o.source=e.convertURL(o.source,"source"),o.altsource=e.convertURL(o.altsource,"source"),o.sourcemime=P(o.source),o.altsourcemime=P(o.altsource),o.poster=e.convertURL(o.poster,"poster");const r=q(o.source);if(r&&(o.source=r.url,o.type=r.type,o.allowfullscreen=r.allowFullscreen,o.width=o.width||String(r.w),o.height=o.height||String(r.h)),o.embed)return I(o.embed,o,!0,e.schema);{const t=h(e),n=f(e),r=b(e);return o.width=o.width||"300",o.height=o.height||"150",C.each(o,((t,n)=>{o[n]=e.dom.encode(""+t)})),"iframe"===o.type?((e,t)=>{if(t)return t(e);{const t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}})(o,r):"application/x-shockwave-flash"===o.sourcemime?(e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t})(o):-1!==o.sourcemime.indexOf("audio")?((e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>")(o,t):((e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>")(o,n)}},W=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),U={},V=e=>t=>H(e,t),Z=(e,t)=>{const n=w(e);return n?((e,t,n)=>new Promise(((o,r)=>{const a=n=>(n.html&&(U[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)}));U[e.source]?a(U[e.source]):n({url:e.source}).then(a).catch(r)})))(t,V(e),n):((e,t)=>Promise.resolve({html:t(e),url:e.source}))(t,V(e))},K=(e,t)=>{const n={};return m(e,"dimensions").each((e=>{l(["width","height"],(o=>{m(t,o).orThunk((()=>m(e,o))).each((e=>n[o]=e))}))})),n},G=(e,t)=>{const n=t&&"dimensions"!==t?((e,t)=>m(t,e).bind((e=>m(e,"meta"))))(t,e).getOr({}):{},r=((e,t,n)=>r=>{const a=()=>m(e,r),i=()=>m(t,r),l=e=>m(e,"value").bind((e=>e.length>0?s.some(e):s.none()));return{[r]:(r===n?a().bind((e=>o(e)?l(e).orThunk(i):i().orThunk((()=>s.from(e))))):i().orThunk((()=>a().bind((e=>o(e)?l(e):s.from(e)))))).getOr("")}})(e,n,t);return{...r("source"),...r("altsource"),...r("poster"),...r("embed"),...K(e,n)}},X=e=>{const t={...e,source:{value:m(e,"source").getOr("")},altsource:{value:m(e,"altsource").getOr("")},poster:{value:m(e,"poster").getOr("")}};return l(["width","height"],(n=>{m(e,n).each((e=>{const o=t.dimensions||{};o[n]=e,t.dimensions=o}))})),t},Y=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},J=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const n=o.html,r={...N(n,t.schema),source:o.url,embed:n};e.setData(X(r))}},Q=(e,t)=>{const n=e.dom.select("*[data-mce-object]");e.insertContent(t),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=n.length-1;o>=0;o--)t[e]===n[o]&&n.splice(o,1);e.selection.select(n[0])})(e,n),e.nodeChanged()},ee=(e,t)=>a(t)&&"ephox-embed-iri"===t&&a(q(e)),te=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&ee(t.source,e.type),ne=e=>{const t=(e=>{const t=e.selection.getNode(),n=W(t)?e.serializer.serialize(t,{selection:!0}):"",o=N(n,e.schema),r=(()=>{if(ee(o.source,o.type)){const n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,""),height:n.h.toString().replace(/px$/,"")}}return{}})();return{embed:n,...o,...r}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=X(t),r=k(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:c([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],r])},s=[];x(e)&&s.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),S(e)&&s.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const i={title:"Advanced",name:"advanced",items:s},l=[a,{title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]}];s.length>0&&l.push(i);const u={type:"tabpanel",tabs:l},d=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=G(t.getData());((e,t,n)=>{var o,r;t.embed=te(e,t)&&k(n)?H(n,{...t,embed:""}):I(null!==(o=t.embed)&&void 0!==o?o:"",t,!1,n.schema),t.embed&&(e.source===t.source||(r=t.source,p(U,r)))?Q(n,t.embed):Z(n,t).then((e=>{Q(n,e.html)})).catch(Y(n))})(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=G(n.getData(),"source");t.source!==o.source&&(J(d,e)({url:o.source,html:""}),Z(e,o).then(J(d,e)).catch(Y(e)))})(n.get(),t);break;case"embed":(t=>{var n;const o=G(t.getData()),r=N(null!==(n=o.embed)&&void 0!==n?n:"",e.schema);t.setData(X(r))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const r=G(t.getData(),n),a=te(o,r)&&k(e)?{...r,embed:""}:r,s=H(e,a);t.setData(X({...a,embed:s}))})(t,o.name,n.get())}n.set(G(t.getData()))},initialData:o})};var oe=tinymce.util.Tools.resolve("tinymce.Env");const re=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},ae=(e,t,n,o=null)=>{const r=e.attr(n);return a(r)?r:p(t,n)?null:o},se=(e,t,n)=>{const o="img"===t.name||"video"===e.name,r=o?"300":null,a="audio"===e.name?"30":"150",s=o?a:null;t.attr({width:ae(e,n,"width",r),height:ae(e,n,"height",s)})},ie=(e,t)=>{const n=t.name,o=new D("img",1);return ce(e,t,o),se(t,o,{}),o.attr({style:t.attr("style"),src:oe.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},le=(e,t)=>{var n;const o=t.name,r=new D("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,class:"mce-preview-object mce-object-"+o}),ce(e,t,r);const s=e.dom.parseStyle(null!==(n=t.attr("style"))&&void 0!==n?n:""),i=new D(o,1);if(se(t,i,s),i.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===o)i.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox"),referrerpolicy:t.attr("referrerpolicy")});else{l(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(e=>{i.attr(e,t.attr(e))}));const n=r.attr("data-mce-html");a(n)&&((e,t,n,o)=>{const r=R(e.schema).parse(o,{context:t});for(;r.firstChild;)n.append(r.firstChild)})(e,o,i,unescape(n))}const c=new D("span",1);return c.attr("class","mce-shim"),r.append(i),r.append(c),r},ce=(e,t,n)=>{var o;const r=null!==(o=t.attributes)&&void 0!==o?o:[];let a=r.length;for(;a--;){const t=r[a].name;let o=r[a].value;"width"===t||"height"===t||"style"===t||(s=t).length>=9&&"data-mce-"===s.substr(0,9)||("data"!==t&&"src"!==t||(o=e.convertURL(o,t)),n.attr("data-mce-p-"+t,o))}var s;const i=F({inner:!0},e.schema),c=new D("div",1);l(t.children(),(e=>c.append(e)));const u=i.serialize(c);u&&(n.attr("data-mce-html",escape(u)),n.empty())},ue=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},de=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||ue(t))return!0;return!1},me=(e,t,n)=>{const o=(0,e.options.get)("xss_sanitization"),r=v(e);return R(e.schema,{sanitize:o,validate:r}).parse(n,{context:t})},pe=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",(e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",(()=>{ne(e)}))})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(W(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,r=pe(e)(t);return()=>{o(),r()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:pe(e)})})(e),(e=>{e.on("ResolveName",(e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))})(e),(e=>{e.on("PreInit",(()=>{const{schema:t,serializer:n,parser:o}=e,r=t.getBoolAttrs();l("webkitallowfullscreen mozallowfullscreen".split(" "),(e=>{r[e]={}})),((e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})({embed:["wmode"]},((e,n)=>{const o=t.getElementRule(n);o&&l(e,(e=>{o.attributes[e]={},o.attributesOrder.push(e)}))})),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,o=t.length;for(;o--;)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||(re(n)&&y(e)?de(n)||n.replace(le(e,n)):de(n)||n.replace(ie(e,n))))})(e)),n.addAttributeFilter("data-mce-object",((t,n)=>{var o;let r=t.length;for(;r--;){const a=t[r];if(!a.parent)continue;const s=a.attr(n),i=new D(s,1);if("audio"!==s){const e=a.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&a.firstChild?i.attr({width:a.firstChild.attr("width"),height:a.firstChild.attr("height")}):i.attr({width:a.attr("width"),height:a.attr("height")})}i.attr({style:a.attr("style")});const c=null!==(o=a.attributes)&&void 0!==o?o:[];let u=c.length;for(;u--;){const e=c[u].name;0===e.indexOf("data-mce-p-")&&i.attr(e.substr(11),c[u].value)}const d=a.attr("data-mce-html");if(d){const t=me(e,s,unescape(d));l(t.children(),(e=>i.append(e)))}a.replace(i)}}))})),e.on("SetContent",(()=>{const t=e.dom;l(t.select("span.mce-preview-object"),(e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})}))}))})(e),(e=>{e.on("mousedown",(t=>{const n=e.dom.getParent(t.target,".mce-preview-object");n&&"2"===e.dom.getAttrib(n,"data-mce-selected")&&t.stopImmediatePropagation()})),e.on("click keyup touchend",(()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectResized",(t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(I(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}}))})(e),(e=>({showDialog:()=>{ne(e)}}))(e))))}()},99311:function(e,t,n){n(22612)},99383:function(e,t,n){n(64524)}}]);
//# sourceMappingURL=tinymce_plugins.4b21b3320c3f333ba01f.min.js.map